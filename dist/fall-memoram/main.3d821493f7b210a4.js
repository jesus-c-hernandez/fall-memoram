"use strict";(self.webpackChunkfall_memoram=self.webpackChunkfall_memoram||[]).push([[179],{204:()=>{function De(t){return"function"==typeof t}function wu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yd=wu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _o(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof yd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{yT(s)}catch(o){e=e??[],o instanceof yd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yT(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_o(n,e)}remove(e){const{_finalizers:n}=this;n&&_o(n,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const t=new xn;return t.closed=!0,t})();const gT=xn.EMPTY;function mT(t){return t instanceof xn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function yT(t){De(t)?t():t.unsubscribe()}const us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_d={setTimeout(t,e,...n){const{delegate:r}=_d;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=_d;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _T(t){_d.setTimeout(()=>{const{onUnhandledError:e}=us;if(!e)throw t;e(t)})}function vT(){}const x$=Ng("C",void 0,void 0);function Ng(t,e,n){return{kind:t,value:e,error:n}}let cs=null;function vd(t){if(us.useDeprecatedSynchronousErrorHandling){const e=!cs;if(e&&(cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=cs;if(cs=null,n)throw r}}else t()}class Og extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mT(e)&&e.add(this)):this.destination=L$}static create(e,n,r){return new Eu(e,n,r)}next(e){this.isStopped?Fg(function R$(t){return Ng("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Fg(function k$(t){return Ng("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fg(x$,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O$=Function.prototype.bind;function Pg(t,e){return O$.call(t,e)}class P${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){wd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){wd(r)}else wd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wd(n)}}}class Eu extends Og{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pg(e.next,s),error:e.error&&Pg(e.error,s),complete:e.complete&&Pg(e.complete,s)}):i=e}this.destination=new P$(i)}}function wd(t){us.useDeprecatedSynchronousErrorHandling?function N$(t){us.useDeprecatedSynchronousErrorHandling&&cs&&(cs.errorThrown=!0,cs.error=t)}(t):_T(t)}function Fg(t,e){const{onStoppedNotification:n}=us;n&&_d.setTimeout(()=>n(t,e))}const L$={closed:!0,next:vT,error:function F$(t){throw t},complete:vT},Lg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ls(t){return t}function wT(t){return 0===t.length?ls:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function B$(t){return t&&t instanceof Og||function U$(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&mT(t)}(n)?n:new Eu(n,r,i);return vd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ET(r))((i,s)=>{const o=new Eu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Lg](){return this}pipe(...n){return wT(n)(this)}toPromise(n){return new(n=ET(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ET(t){var e;return null!==(e=t??us.Promise)&&void 0!==e?e:Promise}const $$=wu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jr=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new IT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $$}next(n){vd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){vd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?gT:(this.currentObservers=null,s.push(n),new xn(()=>{this.currentObservers=null,_o(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new IT(e,n),t})();class IT extends jr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:gT}}function CT(t){return De(t?.lift)}function It(t){return e=>{if(CT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new j$(t,e,n,r,i)}class j$ extends Og{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return It((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function DT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ds(t){return this instanceof ds?(this.v=t,this):new ds(t)}function q$(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function ST(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const AT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function MT(t){return De(t?.then)}function xT(t){return De(t[Lg])}function kT(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function RT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const NT=function K$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function OT(t){return De(t?.[NT])}function PT(t){return function z$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ds?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ds(n.read());if(i)return yield ds(void 0);yield yield ds(r)}}finally{n.releaseLock()}})}function FT(t){return De(t?.getReader)}function qn(t){if(t instanceof Pe)return t;if(null!=t){if(xT(t))return function Q$(t){return new Pe(e=>{const n=t[Lg]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(AT(t))return function Y$(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(MT(t))return function X$(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_T)})}(t);if(kT(t))return LT(t);if(OT(t))return function J$(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(FT(t))return function Z$(t){return LT(PT(t))}(t)}throw RT(t)}function LT(t){return new Pe(e=>{(function ej(t,e){var n,r,i,s;return function H$(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=q$(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Hr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function kt(t,e,n=1/0){return De(e)?kt((r,i)=>re((s,o)=>e(r,s,i,o))(qn(t(r,i))),n):("number"==typeof e&&(n=e),It((r,i)=>function tj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;qn(n(g,l++)).subscribe(pt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const _=u.shift();o?Hr(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(pt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function vo(t=1/0){return kt(ls,t)}const yr=new Pe(t=>t.complete());function Ug(t){return t[t.length-1]}function VT(t){return De(Ug(t))?t.pop():void 0}function Iu(t){return function rj(t){return t&&De(t.schedule)}(Ug(t))?t.pop():void 0}function Ed(t,e=0){return It((n,r)=>{n.subscribe(pt(r,i=>Hr(r,t,()=>r.next(i),e),()=>Hr(r,t,()=>r.complete(),e),i=>Hr(r,t,()=>r.error(i),e)))})}function Id(t,e=0){return It((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function UT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{Hr(n,e,()=>{const r=t[Symbol.asyncIterator]();Hr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ot(t,e){return e?function lj(t,e){if(null!=t){if(xT(t))return function sj(t,e){return qn(t).pipe(Id(e),Ed(e))}(t,e);if(AT(t))return function aj(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(MT(t))return function oj(t,e){return qn(t).pipe(Id(e),Ed(e))}(t,e);if(kT(t))return UT(t,e);if(OT(t))return function uj(t,e){return new Pe(n=>{let r;return Hr(n,e,()=>{r=t[NT](),Hr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(FT(t))return function cj(t,e){return UT(PT(t),e)}(t,e)}throw RT(t)}(t,e):qn(t)}function Bg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Eu({next:()=>{r.unsubscribe(),t()}});return qn(e(...n)).subscribe(r)}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function $g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Te(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Te).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function jg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const fj=be({__forward_ref__:be});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return Te(this())},t}function W(t){return Hg(t)?t():t}function Hg(t){return"function"==typeof t&&t.hasOwnProperty(fj)&&t.__forward_ref__===Se}function Gg(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(kn(e,n)),this.code=e}}function kn(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Cd(t,e){throw new b(-201,!1)}function Wn(t,e){null==t&&function ve(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function bd(t){return $T(t,Dd)||$T(t,HT)}function $T(t,e){return t.hasOwnProperty(e)?t[e]:null}function jT(t){return t&&(t.hasOwnProperty(zg)||t.hasOwnProperty(Ij))?t[zg]:null}const Dd=be({\u0275prov:be}),zg=be({\u0275inj:be}),HT=be({ngInjectableDef:be}),Ij=be({ngInjectorDef:be});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let qg;function Kn(t){const e=qg;return qg=t,e}function GT(t,e,n){const r=bd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&K.Optional?null:void 0!==e?e:void Cd(Te(t))}const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cu={},Wg="__NG_DI_FLAG__",Td="ngTempTokenPath",bj="ngTokenPath",Dj=/\n/gm,Tj="\u0275",zT="__source";let bu;function wo(t){const e=bu;return bu=t,e}function Sj(t,e=K.Default){if(void 0===bu)throw new b(-203,!1);return null===bu?GT(t,void 0,e):bu.get(t,e&K.Optional?null:void 0,e)}function F(t,e=K.Default){return(function Cj(){return qg}()||Sj)(W(t),e)}function z(t,e=K.Default){return F(t,Sd(e))}function Sd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kg(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Aj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function Du(t,e){return t[Wg]=e,t.prototype[Wg]=e,t}function Aj(t){return t[Wg]}function Si(t){return{toString:t}.toString()}var rr=(()=>((rr=rr||{})[rr.OnPush=0]="OnPush",rr[rr.Default=1]="Default",rr))(),_r=(()=>{return(t=_r||(_r={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",_r;var t})();const Gr={},ye=[],Ad=be({\u0275cmp:be}),Qg=be({\u0275dir:be}),Yg=be({\u0275pipe:be}),WT=be({\u0275mod:be}),zr=be({\u0275fac:be}),Tu=be({__NG_ELEMENT_ID__:be});let kj=0;function rn(t){return Si(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===rr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_r.Emulated,id:"c"+kj++,styles:t.styles||ye,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=YT(t.inputs,r),i.outputs=YT(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(KT).filter(QT):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(sn).filter(QT):null,i})}function KT(t){return we(t)||Wt(t)}function QT(t){return null!==t}function qt(t){return Si(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YT(t,e){if(null==t)return Gr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Y=rn;function _n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[Ad]||null}function Wt(t){return t[Qg]||null}function sn(t){return t[Yg]||null}function Nn(t,e){const n=t[WT]||null;if(!n&&!0===e)throw new Error(`Type ${Te(t)} does not have '\u0275mod' property.`);return n}const qr=0,N=1,oe=2,Ge=3,ir=4,hs=5,Kt=6,Io=7,Ye=8,Md=9,xd=10,ue=11,Xg=12,Su=13,XT=14,Co=15,Qt=16,Au=17,bo=18,vr=19,Mu=20,JT=21,ke=22,Jg=1,ZT=2,kd=7,Rd=8,Do=9,on=10;function On(t){return Array.isArray(t)&&"object"==typeof t[Jg]}function sr(t){return Array.isArray(t)&&!0===t[Jg]}function Zg(t){return 0!=(4&t.flags)}function xu(t){return t.componentOffset>-1}function Nd(t){return 1==(1&t.flags)}function or(t){return null!==t.template}function Oj(t){return 0!=(256&t[oe])}function fs(t,e){return t.hasOwnProperty(zr)?t[zr]:null}class Lj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pn(){return nS}function nS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Uj),Vj}function Vj(){const t=iS(this),e=t?.current;if(e){const n=t.previous;if(n===Gr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Uj(t,e,n,r){const i=this.declaredInputs[n],s=iS(t)||function Bj(t,e){return t[rS]=e}(t,{previous:Gr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Lj(u&&u.currentValue,e,a===Gr),t[r]=e}Pn.ngInherit=!0;const rS="__ngSimpleChanges__";function iS(t){return t[rS]||null}const Qn=function(t,e,n){},sS="svg";function Nt(t){for(;Array.isArray(t);)t=t[qr];return t}function Od(t,e){return Nt(e[t])}function Fn(t,e){return Nt(e[t.index])}function aS(t,e){return t.data[e]}function Ln(t,e){const n=e[t];return On(n)?n:n[qr]}function Pd(t){return 64==(64&t[oe])}function Ai(t,e){return null==e?null:t[e]}function uS(t){t[bo]=0}function tm(t,e){t[hs]+=e;let n=t,r=t[Ge];for(;null!==r&&(1===e&&1===n[hs]||-1===e&&0===n[hs]);)r[hs]+=e,n=r,r=r[Ge]}const te={lFrame:wS(null),bindingsEnabled:!0};function lS(){return te.bindingsEnabled}function D(){return te.lFrame.lView}function fe(){return te.lFrame.tView}function Ot(){let t=fS();for(;null!==t&&64===t.type;)t=t.parent;return t}function fS(){return te.lFrame.currentTNode}function wr(t,e){const n=te.lFrame;n.currentTNode=t,n.isParent=e}function nm(){return te.lFrame.isParent}function an(){const t=te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function So(){return te.lFrame.bindingIndex++}function Zj(t,e){const n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,im(e)}function im(t){te.lFrame.currentDirectiveIndex=t}function yS(){return te.lFrame.currentQueryIndex}function om(t){te.lFrame.currentQueryIndex=t}function t3(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Kt]:null}function _S(t,e,n){if(n&K.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&K.Host||(i=t3(s),null===i||(s=s[Co],10&i.type))););if(null===i)return!1;e=i,t=s}const r=te.lFrame=vS();return r.currentTNode=e,r.lView=t,!0}function am(t){const e=vS(),n=t[N];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vS(){const t=te.lFrame,e=null===t?null:t.child;return null===e?wS(t):e}function wS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ES(){const t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const IS=ES;function um(){const t=ES();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return te.lFrame.selectedIndex}function ps(t){te.lFrame.selectedIndex=t}function Fd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Ld(t,e,n){bS(t,e,3,n)}function Vd(t,e,n,r){(3&t[oe])===n&&bS(t,e,n,r)}function cm(t,e){let n=t[oe];(3&n)===e&&(n&=2047,n+=1,t[oe]=n)}function bS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[bo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[bo]+=65536),(a<s||-1==s)&&(c3(t,n,e,u),t[bo]=(4294901760&t[bo])+u+2),u++}function c3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[oe]>>11<t[bo]>>16&&(3&t[oe])===e){t[oe]+=2048,Qn(4,a,s);try{s.call(a)}finally{Qn(5,a,s)}}}else{Qn(4,a,s);try{s.call(a)}finally{Qn(5,a,s)}}}const Ao=-1;class Ru{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function dm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];TS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function DS(t){return 3===t||4===t||6===t}function TS(t){return 64===t.charCodeAt(0)}function Nu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||SS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function SS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function AS(t){return t!==Ao}function Ud(t){return 32767&t}function Bd(t,e){let n=function f3(t){return t>>16}(t),r=e;for(;n>0;)r=r[Co],n--;return r}let hm=!0;function $d(t){const e=hm;return hm=t,e}const MS=255,xS=5;let p3=0;const Er={};function jd(t,e){const n=kS(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,fm(r.data,t),fm(e,null),fm(r.blueprint,null));const i=pm(t,e),s=t.injectorIndex;if(AS(i)){const o=Ud(i),a=Bd(i,e),u=a[N].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function fm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=VS(i),null===r)return Ao;if(n++,i=i[Co],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ao}function gm(t,e,n){!function g3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Tu)&&(r=n[Tu]),null==r&&(r=n[Tu]=p3++);const i=r&MS;e.data[t+(i>>xS)]|=1<<i}(t,e,n)}function RS(t,e,n){if(n&K.Optional||void 0!==t)return t;Cd()}function NS(t,e,n,r){if(n&K.Optional&&void 0===r&&(r=null),!(n&(K.Self|K.Host))){const i=t[Md],s=Kn(void 0);try{return i?i.get(e,r,n&K.Optional):GT(e,r,n&K.Optional)}finally{Kn(s)}}return RS(r,0,n)}function OS(t,e,n,r=K.Default,i){if(null!==t){if(1024&e[oe]){const o=function w3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[oe]&&!(256&o[oe]);){const a=PS(s,o,n,r|K.Self,Er);if(a!==Er)return a;let u=s.parent;if(!u){const c=o[JT];if(c){const l=c.get(n,Er,r);if(l!==Er)return l}u=VS(o),o=o[Co]}s=u}return i}(t,e,n,r,Er);if(o!==Er)return o}const s=PS(t,e,n,r,Er);if(s!==Er)return s}return NS(e,n,r,i)}function PS(t,e,n,r,i){const s=function _3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Tu)?t[Tu]:void 0;return"number"==typeof e?e>=0?e&MS:v3:e}(n);if("function"==typeof s){if(!_S(e,t,r))return r&K.Host?RS(i,0,r):NS(e,n,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;Cd()}finally{IS()}}else if("number"==typeof s){let o=null,a=kS(t,e),u=Ao,c=r&K.Host?e[Qt][Kt]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?pm(t,e):e[a+8],u!==Ao&&LS(r,!1)?(o=e[N],a=Ud(u),e=Bd(u,e)):a=-1);-1!==a;){const l=e[N];if(FS(s,a,l.data)){const d=y3(a,e,n,o,r,c);if(d!==Er)return d}u=e[a+8],u!==Ao&&LS(r,e[N].data[a+8]===c)&&FS(s,a,e)?(o=l,a=Ud(u),e=Bd(u,e)):a=-1}}return i}function y3(t,e,n,r,i,s){const o=e[N],a=o.data[t+8],l=Hd(a,o,n,null==r?xu(a)&&hm:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==l?gs(e,o,l,a):Er}function Hd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&or(f)&&f.type===n)return u}return null}function gs(t,e,n,r){let i=t[n];const s=e.data;if(function l3(t){return t instanceof Ru}(i)){const o=i;o.resolving&&function pj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(s[n]));const a=$d(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Kn(o.injectImpl):null;_S(t,r,K.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function u3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=nS(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Kn(u),$d(a),o.resolving=!1,IS()}}return i}function FS(t,e,n){return!!(n[e+(t>>xS)]&1<<t)}function LS(t,e){return!(t&K.Self||t&K.Host&&e)}class Mo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OS(this._tNode,this._lView,e,Sd(r),n)}}function v3(){return new Mo(Ot(),D())}function Pt(t){return Si(()=>{const e=t.prototype.constructor,n=e[zr]||mm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[zr]||mm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function mm(t){return Hg(t)?()=>{const e=mm(W(t));return e&&e()}:fs(t)}function VS(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Kt]:null}const ko="__parameters__";function No(t,e,n){return Si(()=>{const r=function ym(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ko)?u[ko]:Object.defineProperty(u,ko,{value:[]})[ko];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class P{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ms(t,e){t.forEach(n=>Array.isArray(n)?ms(n,e):e(n))}function BS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Vn(t,e,n){let r=Oo(t,e);return r>=0?t[1|r]=n:(r=~r,function b3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vm(t,e){const n=Oo(t,e);if(n>=0)return t[1|n]}function Oo(t,e){return function $S(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const cn=Du(No("Optional"),8),Lu=Du(No("SkipSelf"),4);var vn=(()=>((vn=vn||{})[vn.Important=1]="Important",vn[vn.DashCase=2]="DashCase",vn))();const Dm=new Map;let q3=0;const Sm="__ngContext__";function Yt(t,e){On(e)?(t[Sm]=e[Mu],function K3(t){Dm.set(t[Mu],t)}(e)):t[Sm]=e}let Am;function Mm(t,e){return Am(t,e)}function $u(t){const e=t[Ge];return sr(e)?e[Ge]:e}function xm(t){return aA(t[Su])}function km(t){return aA(t[ir])}function aA(t){for(;null!==t&&!sr(t);)t=t[ir];return t}function Fo(t,e,n,r,i){if(null!=r){let s,o=!1;sr(r)?s=r:On(r)&&(o=!0,r=r[qr]);const a=Nt(r);0===t&&null!==n?null==i?fA(e,n,a):ys(e,n,a,i||null,!0):1===t&&null!==n?ys(e,n,a,i||null,!0):2===t?function Vm(t,e,n){const r=Qd(t,e);r&&function pH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function yH(t,e,n,r,i){const s=n[kd];s!==Nt(n)&&Fo(e,t,r,s,i);for(let a=on;a<n.length;a++){const u=n[a];ju(u[N],u,t,e,r,s)}}(e,t,s,n,i)}}function Nm(t,e,n){return t.createElement(e,n)}function cA(t,e){const n=t[Do],r=n.indexOf(e),i=e[Ge];512&e[oe]&&(e[oe]&=-513,tm(i,-1)),n.splice(r,1)}function Om(t,e){if(t.length<=on)return;const n=on+e,r=t[n];if(r){const i=r[Au];null!==i&&i!==t&&cA(i,r),e>0&&(t[n-1][ir]=r[ir]);const s=zd(t,on+e);!function oH(t,e){ju(t,e,e[ue],2,null,null),e[qr]=null,e[Kt]=null}(r[N],r);const o=s[vr];null!==o&&o.detachView(s[N]),r[Ge]=null,r[ir]=null,r[oe]&=-65}return r}function lA(t,e){if(!(128&e[oe])){const n=e[ue];n.destroyNode&&ju(t,e,n,3,null,null),function cH(t){let e=t[Su];if(!e)return Pm(t[N],t);for(;e;){let n=null;if(On(e))n=e[Su];else{const r=e[on];r&&(n=r)}if(!n){for(;e&&!e[ir]&&e!==t;)On(e)&&Pm(e[N],e),e=e[Ge];null===e&&(e=t),On(e)&&Pm(e[N],e),n=e&&e[ir]}e=n}}(e)}}function Pm(t,e){if(!(128&e[oe])){e[oe]&=-65,e[oe]|=128,function fH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ru)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Qn(4,a,u);try{u.call(a)}finally{Qn(5,a,u)}}else{Qn(4,i,s);try{s.call(i)}finally{Qn(5,i,s)}}}}}(t,e),function hH(t,e){const n=t.cleanup,r=e[Io];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Io]=null}}(t,e),1===e[N].type&&e[ue].destroy();const n=e[Au];if(null!==n&&sr(e[Ge])){n!==e[Ge]&&cA(n,e);const r=e[vr];null!==r&&r.detachView(t)}!function Q3(t){Dm.delete(t[Mu])}(e)}}function dA(t,e,n){return function hA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[qr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===_r.None||s===_r.Emulated)return null}return Fn(r,n)}}(t,e.parent,n)}function ys(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fA(t,e,n){t.appendChild(e,n)}function pA(t,e,n,r,i){null!==r?ys(t,e,n,r,i):fA(t,e,n)}function Qd(t,e){return t.parentNode(e)}let Fm,$m,yA=function mA(t,e,n){return 40&t.type?Fn(t,n):null};function Yd(t,e,n,r){const i=dA(t,r,e),s=e[ue],a=function gA(t,e,n){return yA(t,e,n)}(r.parent||e[Kt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)pA(s,i,n[u],a,!1);else pA(s,i,n,a,!1);void 0!==Fm&&Fm(s,r,e,n,i)}function Xd(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return Lm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xd(t,r);{const i=t[e.index];return sr(i)?Lm(-1,i):Nt(i)}}if(32&n)return Mm(e,t)()||Nt(t[e.index]);{const r=vA(t,e);return null!==r?Array.isArray(r)?r[0]:Xd($u(t[Qt]),r):Xd(t,e.next)}}return null}function vA(t,e){return null!==e?t[Qt][Kt].projection[e.projection]:null}function Lm(t,e){const n=on+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return Xd(r,i)}return e[kd]}function Um(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Yt(Nt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Um(t,e,n.child,r,i,s,!1),Fo(e,t,i,a,s);else if(32&u){const c=Mm(n,r);let l;for(;l=c();)Fo(e,t,i,l,s);Fo(e,t,i,a,s)}else 16&u?wA(t,e,r,n,i,s):Fo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ju(t,e,n,r,i,s){Um(n,r,t.firstChild,e,i,s,!1)}function wA(t,e,n,r,i,s){const o=n[Qt],u=o[Kt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Fo(e,t,i,u[c],s);else Um(t,e,u,o[Ge],i,s,!0)}function EA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&dm(t,e,r),null!==i&&EA(t,e,i),null!==s&&function vH(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class SA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const th=new P("ENVIRONMENT_INITIALIZER"),LA=new P("INJECTOR",-1),VA=new P("INJECTOR_DEF_TYPES");class UA{get(e,n=Cu){if(n===Cu){const r=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw r.name="NullInjectorError",r}return n}}function WH(...t){return{\u0275providers:BA(0,t),\u0275fromNgModule:!0}}function BA(t,...e){const n=[],r=new Set;let i;return ms(e,s=>{const o=s;Wm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&$A(i,n),n}function $A(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Km(i,s=>{e.push(s)})}}function Wm(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=jT(t);const o=!s&&we(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=jT(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Wm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ms(s.imports,l=>{Wm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&$A(c,e)}if(!a){const c=fs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ye},{provide:VA,useValue:i,multi:!0},{provide:th,useValue:()=>F(i),multi:!0})}const u=s.providers;null==u||a||Km(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Km(t,e){for(let n of t)Gg(n)&&(n=n.\u0275providers),Array.isArray(n)?Km(n,e):e(n)}const KH=be({provide:String,useValue:be});function Qm(t){return null!==t&&"object"==typeof t&&KH in t}function _s(t){return"function"==typeof t}const Ym=new P("Set Injector scope."),nh={},YH={};let Xm;function rh(){return void 0===Xm&&(Xm=new UA),Xm}class Ir{}class GA extends Ir{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zm(e,o=>this.processProvider(o)),this.records.set(LA,Vo(void 0,this)),i.has("environment")&&this.records.set(Ir,Vo(void 0,this));const s=this.records.get(Ym);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(VA.multi,ye,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=wo(this),r=Kn(void 0);try{return e()}finally{wo(n),Kn(r)}}get(e,n=Cu,r=K.Default){this.assertNotDestroyed(),r=Sd(r);const i=wo(this),s=Kn(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function tG(t){return"function"==typeof t||"object"==typeof t&&t instanceof P}(e)&&bd(e);a=u&&this.injectableDefInScope(u)?Vo(Jm(e),nh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?rh():this.parent).get(e,n=r&K.Optional&&n===Cu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Td]=o[Td]||[]).unshift(Te(e)),i)throw o;return function Mj(t,e,n,r){const i=t[Td];throw e[zT]&&i.unshift(e[zT]),t.message=function xj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Tj?t.slice(2):t;let i=Te(e);if(Array.isArray(e))i=e.map(Te).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Dj,"\n  ")}`}("\n"+t.message,i,n,r),t[bj]=i,t[Td]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Kn(s),wo(i)}}resolveInjectorInitializers(){const e=wo(this),n=Kn(void 0);try{const r=this.get(th.multi,ye,K.Self);for(const i of r)i()}finally{wo(e),Kn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Te(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=_s(e=W(e))?e:W(e&&e.provide);const r=function JH(t){return Qm(t)?Vo(void 0,t.useValue):Vo(zA(t),nh)}(e);if(_s(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Vo(void 0,nh,!0),i.factory=()=>Kg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===nh&&(n.value=YH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function eG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Jm(t){const e=bd(t),n=null!==e?e.factory:fs(t);if(null!==n)return n;if(t instanceof P)throw new b(204,!1);if(t instanceof Function)return function XH(t){const e=t.length;if(e>0)throw function Fu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function wj(t){const e=t&&(t[Dd]||t[HT]);return e?(function Ej(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),e):null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function zA(t,e,n){let r;if(_s(t)){const i=W(t);return fs(i)||Jm(i)}if(Qm(t))r=()=>W(t.useValue);else if(function HA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Kg(t.deps||[]));else if(function jA(t){return!(!t||!t.useExisting)}(t))r=()=>F(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function ZH(t){return!!t.deps}(t))return fs(i)||Jm(i);r=()=>new i(...Kg(t.deps))}return r}function Vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Zm(t,e){for(const n of t)Array.isArray(n)?Zm(n,e):n&&Gg(n)?Zm(n.\u0275providers,e):e(n)}class nG{}class qA{}class iG{resolveComponentFactory(e){throw function rG(t){const e=Error(`No component factory found for ${Te(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let qu=(()=>{class t{}return t.NULL=new iG,t})();function sG(){return Uo(Ot(),D())}function Uo(t,e){return new En(Fn(t,e))}let En=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=sG,t})();function oG(t){return t instanceof En?t.nativeElement:t}class KA{}let Cr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function aG(){const t=D(),n=Ln(Ot().index,t);return(On(n)?n:t)[ue]}(),t})(),uG=(()=>{class t{}return t.\u0275prov=L({token:t,providedIn:"root",factory:()=>null}),t})();class Bo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QA=new Bo("15.2.1"),ey={},ty="ngOriginalError";function ny(t){return t[ty]}class $o{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ny(e);for(;n&&ny(n);)n=ny(n);return n||null}}function Yr(t){return t instanceof Function?t():t}function XA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const JA="ng-template";function vG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==XA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ZA(t){return 4===t.type&&t.value!==JA}function wG(t,e,n){return e===(4!==t.type||n?t.value:JA)}function EG(t,e,n){let r=4;const i=t.attrs||[],s=function bG(t){for(let e=0;e<t.length;e++)if(DS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!wG(t,u,n)||""===u&&1===e.length){if(ar(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!vG(t.attrs,c,n)){if(ar(r))return!1;o=!0}continue}const d=IG(8&r?"class":u,i,ZA(t),n);if(-1===d){if(ar(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==XA(f,c,0)||2&r&&c!==h){if(ar(r))return!1;o=!0}}}}else{if(!o&&!ar(r)&&!ar(u))return!1;if(o&&ar(u))continue;o=!1,r=u|1&r}}return ar(r)||o}function ar(t){return 0==(1&t)}function IG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function DG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function eM(t,e,n=!1){for(let r=0;r<e.length;r++)if(EG(t,e[r],n))return!0;return!1}function tM(t,e){return t?":not("+e.trim()+")":e}function SG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ar(o)&&(e+=tM(s,i),i=""),r=o,s=s||!ar(r);n++}return""!==i&&(e+=tM(s,i)),e}const ne={};function ut(t){nM(fe(),D(),un()+t,!1)}function nM(t,e,n,r){if(!r)if(3==(3&e[oe])){const s=t.preOrderCheckHooks;null!==s&&Ld(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Vd(e,s,0,n)}ps(n)}function oM(t,e=null,n=null,r){const i=aM(t,e,n,r);return i.resolveInjectorInitializers(),i}function aM(t,e=null,n=null,r,i=new Set){const s=[n||ye,WH(t)];return r=r||("object"==typeof t?void 0:Te(t)),new GA(s,e||rh(),r||null,i)}let In=(()=>{class t{static create(n,r){if(Array.isArray(n))return oM({name:""},r,n,"");{const i=n.name??"";return oM({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Cu,t.NULL=new UA,t.\u0275prov=L({token:t,providedIn:"any",factory:()=>F(LA)}),t.__NG_ELEMENT_ID__=-1,t})();function I(t,e=K.Default){const n=D();return null===n?F(t,e):OS(Ot(),n,W(t),e)}function gM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];om(n[r]),o.contentQueries(2,e[s],s)}}}function sh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[qr]=i,d[oe]=76|r,(null!==l||t&&1024&t[oe])&&(d[oe]|=1024),uS(d),d[Ge]=d[Co]=t,d[Ye]=n,d[xd]=o||t&&t[xd],d[ue]=a||t&&t[ue],d[Xg]=u||t&&t[Xg]||null,d[Md]=c||t&&t[Md]||null,d[Kt]=s,d[Mu]=function W3(){return q3++}(),d[JT]=l,d[Qt]=2==e.type?t[Qt]:d,d}function Go(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ay(t,e,n,r,i){const s=fS(),o=nm(),u=t.data[e]=function ZG(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Jj(){return te.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ku(){const t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return wr(s,!0),s}function Wu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uy(t,e,n){am(e);try{const r=t.viewQuery;null!==r&&_y(1,r,n);const i=t.template;null!==i&&mM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gM(t,e),t.staticViewQueries&&_y(2,t.viewQuery,n);const s=t.components;null!==s&&function YG(t,e){for(let n=0;n<e.length;n++)_z(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,um()}}function oh(t,e,n,r){const i=e[oe];if(128!=(128&i)){am(e);try{uS(e),function gS(t){return te.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&mM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ld(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Vd(e,c,0,null),cm(e,0)}if(function mz(t){for(let e=xm(t);null!==e;e=km(e)){if(!e[ZT])continue;const n=e[Do];for(let r=0;r<n.length;r++){const i=n[r];512&i[oe]||tm(i[Ge],1),i[oe]|=512}}}(e),function gz(t){for(let e=xm(t);null!==e;e=km(e))for(let n=on;n<e.length;n++){const r=e[n],i=r[N];Pd(r)&&oh(i,r,i.template,r[Ye])}}(e),null!==t.contentQueries&&gM(t,e),o){const c=t.contentCheckHooks;null!==c&&Ld(e,c)}else{const c=t.contentHooks;null!==c&&Vd(e,c,1),cm(e,1)}!function KG(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ps(~i);else{const s=i,o=n[++r],a=n[++r];Zj(o,s),a(2,e[s])}}}finally{ps(-1)}}(t,e);const a=t.components;null!==a&&function QG(t,e){for(let n=0;n<e.length;n++)yz(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&_y(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ld(e,c)}else{const c=t.viewHooks;null!==c&&Vd(e,c,2),cm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-41,512&e[oe]&&(e[oe]&=-513,tm(e[Ge],-1))}finally{um()}}}function mM(t,e,n,r,i){const s=un(),o=2&r;try{ps(-1),o&&e.length>ke&&nM(t,e,ke,!1),Qn(o?2:0,i),n(r,i)}finally{ps(s),Qn(o?3:1,i)}}function cy(t,e,n){if(Zg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function ly(t,e,n){lS()&&(function sz(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;xu(n)&&function hz(t,e,n){const r=Fn(e,t),i=yM(n),s=t[xd],o=ah(t,sh(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jd(n,e),Yt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=gs(e,t,a,n);Yt(c,e),null!==o&&fz(0,a-i,c,u,0,o),or(u)&&(Ln(n.index,e)[Ye]=gs(e,t,a,n))}}(t,e,n,Fn(n,e)),64==(64&n.flags)&&CM(t,e,n))}function dy(t,e,n=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function yM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function hy(t,e,n,r,i,s,o,a,u,c){const l=ke+r,d=l+i,h=function XG(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ne);return n}(l,d),f="function"==typeof c?c():c;return h[N]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function _M(t,e,n,r){const i=DM(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&TM(t).push(r,i.length-1))}function vM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?wM(n,e,i,s):r.hasOwnProperty(i)&&wM(n,e,r[i],s)}return n}function wM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function EM(t,e){const n=Ln(e,t);16&n[oe]||(n[oe]|=32)}function fy(t,e,n,r){if(lS()){const i=null===r?null:{"":-1},s=function az(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(eM(e,o.selectors,!1))if(r||(r=[]),or(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),py(t,e,a.length)}else r.unshift(o),py(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&IM(t,e,n,o,i,a),i&&function uz(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Nu(n.mergedAttrs,n.attrs)}function IM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)gm(jd(n,e),t,r[c].type);!function lz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Wu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Nu(n.mergedAttrs,l.hostAttrs),dz(t,n,e,u,l),cz(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function ez(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=vM(d.inputs,l,u,h?h.inputs:null),c=vM(d.outputs,l,c,p);const g=null===u||null===o||ZA(e)?null:pz(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function CM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function e3(){return te.lFrame.currentDirectiveIndex}();try{ps(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];im(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&oz(u,c)}}finally{ps(-1),im(o)}}function oz(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function py(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function cz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;or(e)&&(n[""]=t)}}function dz(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=fs(i.type)),o=new Ru(s,or(i),I);t.blueprint[r]=o,n[r]=o,function rz(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function iz(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Wu(t,n,i.hostVars,ne),i)}function fz(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function pz(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function bM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function yz(t,e){const n=Ln(e,t);if(Pd(n)){const r=n[N];48&n[oe]?oh(r,n,r.template,n[Ye]):n[hs]>0&&my(n)}}function my(t){for(let r=xm(t);null!==r;r=km(r))for(let i=on;i<r.length;i++){const s=r[i];if(Pd(s))if(512&s[oe]){const o=s[N];oh(o,s,o.template,s[Ye])}else s[hs]>0&&my(s)}const n=t[N].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ln(n[r],t);Pd(i)&&i[hs]>0&&my(i)}}function _z(t,e){const n=Ln(e,t),r=n[N];(function vz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),uy(r,n,n[Ye])}function ah(t,e){return t[Su]?t[XT][ir]=e:t[Su]=e,t[XT]=e,e}function yy(t){for(;t;){t[oe]|=32;const e=$u(t);if(Oj(t)&&!e)return t;t=e}return null}function uh(t,e,n,r=!0){const i=e[xd];i.begin&&i.begin();try{oh(t,e,t.template,n)}catch(o){throw r&&AM(e,o),o}finally{i.end&&i.end()}}function _y(t,e,n){om(0),e(t,n)}function DM(t){return t[Io]||(t[Io]=[])}function TM(t){return t.cleanup||(t.cleanup=[])}function AM(t,e){const n=t[Md],r=n?n.get($o,null):null;r&&r.handleError(e)}function vy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ch(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=jg(i,a):2==s&&(r=jg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function lh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Nt(s)),sr(s))for(let a=on;a<s.length;a++){const u=s[a],c=u[N].firstChild;null!==c&&lh(u[N],u,c,r)}const o=n.type;if(8&o)lh(t,e,n.child,r);else if(32&o){const a=Mm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=vA(e,n);if(Array.isArray(a))r.push(...a);else{const u=$u(e[Qt]);lh(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ku{get rootNodes(){const e=this._lView,n=e[N];return lh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return 128==(128&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(sr(e)){const n=e[Rd],r=n?n.indexOf(this):-1;r>-1&&(Om(e,r),zd(n,r))}this._attachedToViewContainer=!1}lA(this._lView[N],this._lView)}onDestroy(e){_M(this._lView[N],this._lView,null,e)}markForCheck(){yy(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-65}reattach(){this._lView[oe]|=64}detectChanges(){uh(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uH(t,e){ju(t,e,e[ue],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class wz extends Ku{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;uh(e[N],e,e[Ye],!1)}checkNoChanges(){}get context(){return null}}class MM extends qu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=we(e);return new Qu(n,this.ngModule)}}function xM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Iz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sd(r);const i=this.injector.get(e,ey,r);return i!==ey||n===ey?i:this.parentInjector.get(e,n,r)}}class Qu extends qA{get inputs(){return xM(this.componentDef.inputs)}get outputs(){return xM(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function AG(t){return t.map(SG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ir?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Iz(e,s):e,a=o.get(KA,null);if(null===a)throw new b(407,!1);const u=o.get(uG,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function JG(t,e,n){return t.selectRootElement(e,n===_r.ShadowDom)}(c,r,this.componentDef.encapsulation):Nm(c,l,function Ez(t){const e=t.toLowerCase();return"svg"===e?sS:"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=hy(0,null,null,1,0,null,null,null,null,null),p=sh(null,f,null,h,null,null,a,c,u,o,null);let g,m;am(p);try{const _=this.componentDef;let C,w=null;_.findHostDirectiveDefs?(C=[],w=new Map,_.findHostDirectiveDefs(_,C,w),C.push(_)):C=[_];const k=function bz(t,e){const n=t[N],r=ke;return t[r]=e,Go(n,r,2,"#host",null)}(p,d),B=function Dz(t,e,n,r,i,s,o,a){const u=i[N];!function Tz(t,e,n,r){for(const i of t)e.mergedAttrs=Nu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ch(e,e.mergedAttrs,!0),null!==n&&IA(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=sh(i,yM(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&py(u,t,r.length-1),ah(i,l),i[t.index]=l}(k,d,_,C,p,a,c);m=aS(f,ke),d&&function Az(t,e,n,r){if(r)dm(t,n,["ng-version",QA.full]);else{const{attrs:i,classes:s}=function MG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ar(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&dm(t,n,i),s&&s.length>0&&EA(t,n,s.join(" "))}}(c,_,d,r),void 0!==n&&function Mz(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(m,this.ngContentSelectors,n),g=function Sz(t,e,n,r,i,s){const o=Ot(),a=i[N],u=Fn(o,i);IM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Yt(gs(i,a,o.directiveStart+l,o),i);CM(a,i,o),u&&Yt(u,i);const c=gs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ye]=i[Ye]=c,null!==s)for(const l of s)l(c,e);return cy(a,o,t),c}(B,_,C,w,p,[xz]),uy(f,p,null)}finally{um()}return new Cz(this.componentType,g,Uo(m,p),p,m)}}class Cz extends nG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new wz(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;vy(s[N],s,i,e,n),EM(s,this._tNode.index)}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xz(){const t=Ot();Fd(D()[N],t)}function Ee(t){let e=function kM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(or(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=wy(t.inputs),o.declaredInputs=wy(t.declaredInputs),o.outputs=wy(t.outputs);const a=i.hostBindings;a&&Oz(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Rz(t,u),c&&Nz(t,c),$g(t.inputs,i.inputs),$g(t.declaredInputs,i.declaredInputs),$g(t.outputs,i.outputs),or(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ee&&(n=!1)}}e=Object.getPrototypeOf(e)}!function kz(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nu(i.hostAttrs,n=Nu(n,i.hostAttrs))}}(r)}function wy(t){return t===Gr?{}:t===ye?[]:t}function Rz(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Nz(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Oz(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function dh(t){return!!Ey(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ey(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Dr(t,e,n){return t[e]=n}function Xt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ws(t,e,n,r,i,s,o,a){const u=D(),c=fe(),l=t+ke,d=c.firstCreatePass?function Gz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Go(e,t,4,o||null,Ai(c,a));fy(e,n,l,Ai(c,u)),Fd(e,l);const d=l.tViews=hy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];wr(d,!1);const h=u[ue].createComment("");Yd(c,u,h,d),Yt(h,u),ah(u,u[l]=bM(h,u,h,d)),Nd(d)&&ly(c,u,d),null!=o&&dy(u,d,a)}function Ft(t,e,n){const r=D();return Xt(r,So(),e)&&function Un(t,e,n,r,i,s,o,a){const u=Fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(vy(t,n,l,r,i),xu(e)&&EM(n,e.index)):3&e.type&&(r=function tz(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(fe(),function Be(){const t=te.lFrame;return aS(t.tView,t.selectedIndex)}(),r,t,e,r[ue],n,!1),Ft}function Iy(t,e,n,r,i){const o=i?"class":"style";vy(t,n,e.inputs[o],o,r)}function $(t,e,n,r){const i=D(),s=fe(),o=ke+t,a=i[ue],u=s.firstCreatePass?function Wz(t,e,n,r,i,s){const o=e.consts,u=Go(e,t,2,r,Ai(o,i));return fy(e,n,u,Ai(o,s)),null!==u.attrs&&ch(u,u.attrs,!1),null!==u.mergedAttrs&&ch(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=Nm(a,e,function a3(){return te.lFrame.currentNamespace}()),l=Nd(u);return wr(u,!0),IA(a,c,u),32!=(32&u.flags)&&Yd(s,i,c,u),0===function qj(){return te.lFrame.elementDepthCount}()&&Yt(c,i),function Wj(){te.lFrame.elementDepthCount++}(),l&&(ly(s,i,u),cy(s,u,i)),null!==r&&dy(i,u),$}function X(){let t=Ot();nm()?function rm(){te.lFrame.isParent=!1}():(t=t.parent,wr(t,!1));const e=t;!function Kj(){te.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(Fd(n,t),Zg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function d3(t){return 0!=(8&t.flags)}(e)&&Iy(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function h3(t){return 0!=(16&t.flags)}(e)&&Iy(n,e,D(),e.stylesWithoutHost,!1),X}function Re(t,e,n,r){return $(t,e,n,r),X(),Re}function Xu(t){return!!t&&"function"==typeof t.then}function qM(t){return!!t&&"function"==typeof t.subscribe}const Dy=qM;function Xe(t,e,n,r){const i=D(),s=fe(),o=Ot();return function KM(t,e,n,r,i,s,o){const a=Nd(r),c=t.firstCreatePass&&TM(t),l=e[Ye],d=DM(e);let h=!0;if(3&r.type||o){const g=Fn(r,e),m=o?o(g):g,_=d.length,C=o?k=>o(Nt(k[r.index])):r.index;let w=null;if(!o&&a&&(w=function Qz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Io],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=YM(r,e,l,s,!1);const k=n.listen(m,i,s);d.push(s,k),c&&c.push(i,C,_,_+1)}}else s=YM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const B=e[p[m]][p[m+1]].subscribe(s),H=d.length;d.push(s,B),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[ue],o,t,e,r),Xe}function QM(t,e,n,r){try{return Qn(6,e,n),!1!==n(r)}catch(i){return AM(t,i),!1}finally{Qn(7,e,n)}}function YM(t,e,n,r,i){return function s(o){if(o===Function)return r;yy(t.componentOffset>-1?Ln(t.index,e):e);let u=QM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=QM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function XM(t=1){return function n3(t){return(te.lFrame.contextLView=function r3(t,e){for(;t>0;)e=e[Co],t--;return e}(t,te.lFrame.contextLView))[Ye]}(t)}function fh(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function Sy(t){return 2|t}function Es(t){return(131068&t)>>2}function Ay(t,e){return-131069&t|e<<2}function My(t){return 1|t}function ax(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xi(s):Es(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];iq(t[a],e)&&(u=!0,t[a+1]=r?My(l):Sy(l)),a=r?xi(l):Es(l)}u&&(t[n+1]=r?Sy(s):My(s))}function iq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Oo(t,e)>=0}function xy(t,e,n){return ur(t,e,n,!1),xy}function ph(t,e){return ur(t,e,null,!0),ph}function ur(t,e,n,r){const i=D(),s=fe(),o=function Kr(t){const e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function gx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[un()],o=function px(t,e){return e>=t.expandoStartIndex}(t,n);(function vx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function fq(t,e,n,r){const i=function sm(t){const e=te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ju(n=ky(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ky(i,t,e,n,r),null===s){let u=function pq(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Es(r))return t[xi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ky(null,t,e,u[1],r),u=Ju(u,e.attrs,r),function gq(t,e,n,r){t[xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function mq(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ju(r,t[s].hostAttrs,n);return Ju(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function nq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xi(o),u=Es(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Oo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=xi(t[a+1]);t[r+1]=fh(h,a),0!==h&&(t[h+1]=Ay(t[h+1],r)),t[a+1]=function eq(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=fh(a,0),0!==a&&(t[a+1]=Ay(t[a+1],r)),a=r;else t[r+1]=fh(u,0),0===a?a=r:t[u+1]=Ay(t[u+1],r),u=r;c&&(t[r+1]=Sy(t[r+1])),ax(t,l,r,!0),ax(t,l,r,!1),function rq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Oo(s,e)>=0&&(n[r+1]=My(n[r+1]))}(e,l,t,r,s),o=fh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ne&&Xt(i,o,e)&&function yx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function tq(t){return 1==(1&t)}(c)?_x(u,e,n,i,Es(c),o):void 0;gh(l)||(gh(s)||function Zz(t){return 2==(2&t)}(c)&&(s=_x(u,null,n,i,a,o)),function _H(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:vn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vn.Important),t.setStyle(n,r,i,s))}}(r,o,Od(un(),n),i,s))}(s,s.data[un()],i,i[ue],t,i[o+1]=function vq(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Te(function Mi(t){return t instanceof SA?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}function ky(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ju(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ju(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function _x(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ne&&(h=d?ye:void 0);let f=d?vm(h,r):l===r?h:void 0;if(c&&!gh(f)&&(f=vm(u,r)),gh(f)&&(a=f,o))return a;const p=t[i+1];i=o?xi(p):Es(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=vm(u,r))}return a}function gh(t){return void 0!==t}function Ae(t,e=""){const n=D(),r=fe(),i=t+ke,s=r.firstCreatePass?Go(r,i,1,e,null):r.data[i],o=n[i]=function Rm(t,e){return t.createText(e)}(n[ue],e);Yd(r,n,o,s),wr(s,!1)}function Zu(t){return ec("",t,""),Zu}function ec(t,e,n){const r=D(),i=function qo(t,e,n,r){return Xt(t,So(),n)?e+ee(n)+r:ne}(r,t,e,n);return i!==ne&&function Xr(t,e,n){const r=Od(e,t);!function uA(t,e,n){t.setValue(e,n)}(t[ue],r,n)}(r,un(),i),ec}const na="en-US";let $x=na;function Oy(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)Oy(t[s],e,n,r,i);else{const s=fe(),o=D();let a=_s(t)?t:W(t.provide),u=zA(t);const c=Ot(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(_s(t)||!t.multi){const f=new Ru(u,i,I),p=Fy(a,e,i?l:l+h,d);-1===p?(gm(jd(c,o),s,a),Py(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Fy(a,e,l+h,d),p=Fy(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){gm(jd(c,o),s,a);const _=function L4(t,e,n,r,i){const s=new Ru(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,h1(s,i,r&&!n),s}(i?F4:P4,n.length,i,r,u);!i&&m&&(n[p].providerFactory=_),Py(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(_),o.push(_)}else Py(s,t,f>-1?f:p,h1(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Py(t,e,n,r){const i=_s(e),s=function QH(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function h1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function P4(t,e,n,r){return Ly(this.multi,[])}function F4(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=gs(n,n[N],this.providerFactory.index,r);s=a.slice(0,o),Ly(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ly(i,s);return s}function Ly(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Fe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function O4(t,e,n){const r=fe();if(r.firstCreatePass){const i=or(t);Oy(n,r.data,r.blueprint,i,!0),Oy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ra{}class f1{}class p1 extends ra{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new MM(this);const r=Nn(e);this._bootstrapComponents=Yr(r.bootstrap),this._r3Injector=aM(e,n,[{provide:ra,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],Te(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vy extends f1{constructor(e){super(),this.moduleType=e}create(e){return new p1(this.moduleType,e)}}class U4 extends ra{constructor(e,n,r){super(),this.componentFactoryResolver=new MM(this),this.instance=null;const i=new GA([...e,{provide:ra,useValue:this},{provide:qu,useValue:this.componentFactoryResolver}],n||rh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function wh(t,e,n=null){return new U4(t,e,n).injector}let B4=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=BA(0,n.type),i=r.length>0?wh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=L({token:t,providedIn:"environment",factory:()=>new t(F(Ir))}),t})();function g1(t){t.getStandaloneInjector=e=>e.get(B4).getOrCreateStandaloneInjector(t)}function oc(t,e,n,r){return C1(D(),an(),t,e,n,r)}function I1(t,e,n,r,i){return function b1(t,e,n,r,i,s,o){const a=e+n;return function vs(t,e,n,r){const i=Xt(t,e,n);return Xt(t,e+1,r)||i}(t,a,i,s)?Dr(t,a+2,o?r.call(o,i,s):r(i,s)):ac(t,a+2)}(D(),an(),t,e,n,r,i)}function ac(t,e){const n=t[e];return n===ne?void 0:n}function C1(t,e,n,r,i,s){const o=e+n;return Xt(t,o,i)?Dr(t,o+1,s?r.call(s,i):r(i)):ac(t,o+1)}function Jr(t,e){const n=fe();let r;const i=t+ke;n.firstCreatePass?(r=function rW(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=fs(r.type)),o=Kn(I);try{const a=$d(!1),u=s();return $d(a),function zz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,u),u}finally{Kn(o)}}function Zr(t,e,n){const r=t+ke,i=D(),s=function To(t,e){return t[e]}(i,r);return function uc(t,e){return t[N].data[e].pure}(i,r)?C1(i,an(),e,s.transform,n,s):s.transform(n)}function By(t){return e=>{setTimeout(t,void 0,e)}}const $e=class uW extends jr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=By(s),i&&(i=By(i)),o&&(o=By(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}};function cW(){return this._results[Symbol.iterator]()}class $y{get changes(){return this._changes||(this._changes=new $e)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$y.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Yn(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function I3(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=hW,t})();const lW=ei,dW=class extends lW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=sh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Au]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[vr];return null!==o&&(i[vr]=o.createEmbeddedView(r)),uy(r,i,e),new Ku(i)}};function hW(){return Eh(Ot(),D())}function Eh(t,e){return 4&t.type?new dW(e,t,Uo(t,e)):null}let lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=fW,t})();function fW(){return x1(Ot(),D())}const pW=lr,A1=class extends pW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const e=pm(this._hostTNode,this._hostLView);if(AS(e)){const n=Bd(e,this._hostLView),r=Ud(e);return new Mo(n[N].data[r+8],n)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=M1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Pu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Qu(we(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Ir,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[N];if(function zj(t){return sr(t[Ge])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[Ge],h=new A1(d,d[Kt],d[Ge]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function lH(t,e,n,r){const i=on+r,s=n.length;r>0&&(n[i-1][ir]=e),r<s-on?(e[ir]=n[i],BS(n,on+r,e)):(n.push(e),e[ir]=null),e[Ge]=n;const o=e[Au];null!==o&&n!==o&&function dH(t,e){const n=t[Do];e[Qt]!==e[Ge][Ge][Qt]&&(t[ZT]=!0),null===n?t[Do]=[e]:n.push(e)}(o,e);const a=e[vr];null!==a&&a.insertView(t),e[oe]|=64}(i,r,o,s);const a=Lm(s,o),u=r[ue],c=Qd(u,o[kd]);return null!==c&&function aH(t,e,n,r,i,s){r[qr]=i,r[Kt]=e,ju(t,r,n,1,i,s)}(i,o[Kt],u,r,c,a),e.attachToViewContainerRef(),BS(jy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=M1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Om(this._lContainer,n);r&&(zd(jy(this._lContainer),n),lA(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=Om(this._lContainer,n);return r&&null!=zd(jy(this._lContainer),n)?new Ku(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function M1(t){return t[Rd]}function jy(t){return t[Rd]||(t[Rd]=[])}function x1(t,e){let n;const r=e[t.index];if(sr(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const s=e[ue];i=s.createComment("");const o=Fn(t,e);ys(s,Qd(s,o),i,function gH(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=bM(r,e,i,t),ah(e,n)}return new A1(n,t,e)}class Hy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Hy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Gy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==L1(e,n).matches&&this.queries[n].setDirty()}}class k1{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class zy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new zy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new qy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,gW(n,s)),this.matchTNodeWithReadOption(e,n,Hd(n,e,s,!1,!1))}else r===ei?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Hd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===En||i===lr||i===ei&&4&n.type)this.addMatch(n.index,-2);else{const s=Hd(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function gW(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function yW(t,e,n,r){return-1===n?function mW(t,e){return 11&t.type?Uo(t,e):4&t.type?Eh(t,e):null}(e,t):-2===n?function _W(t,e,n){return n===En?Uo(e,t):n===ei?Eh(e,t):n===lr?x1(e,t):void 0}(t,e,r):gs(t,t[N],n,e)}function R1(t,e,n,r){const i=e[vr].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:yW(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Wy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=R1(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=on;d<l.length;d++){const h=l[d];h[Au]===h[Ge]&&Wy(h[N],h,c,r)}if(null!==l[Do]){const d=l[Do];for(let h=0;h<d.length;h++){const f=d[h];Wy(f[N],f,c,r)}}}}}return r}function Ky(t){const e=D(),n=fe(),r=yS();om(r+1);const i=L1(n,r);if(t.dirty&&function Gj(t){return 4==(4&t[oe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Wy(n,e,r,[]):R1(n,e,i,r);t.reset(s,oG),t.notifyOnChanges()}return!0}return!1}function N1(t,e,n){const r=fe();r.firstCreatePass&&(function F1(t,e,n){null===t.queries&&(t.queries=new zy),t.queries.track(new qy(e,n))}(r,new k1(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function P1(t,e,n){const r=new $y(4==(4&n));_M(t,e,r,r.destroy),null===e[vr]&&(e[vr]=new Gy),e[vr].queries.push(new Hy(r))}(r,D(),e)}function L1(t,e){return t.queries.getByIndex(e)}function Ch(...t){}const bh=new P("Application Initializer");let Dh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ch,this.reject=Ch,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Xu(s))n.push(s);else if(Dy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(bh,8))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lc=new P("AppId",{providedIn:"root",factory:function tk(){return`${t_()}${t_()}${t_()}`}});function t_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nk=new P("Platform Initializer"),oa=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rk=new P("appBootstrapListener");let $W=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ti=new P("LocaleId",{providedIn:"root",factory:()=>z(ti,K.Optional|K.SkipSelf)||function jW(){return typeof $localize<"u"&&$localize.locale||na}()});class GW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ik=(()=>{class t{compileModuleSync(n){return new Vy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Yr(Nn(n).declarations).reduce((o,a)=>{const u=we(a);return u&&o.push(new Qu(u)),o},[]);return new GW(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const WW=(()=>Promise.resolve(0))();function n_(t){typeof Zone>"u"?WW.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function KW(){let t=xe.requestAnimationFrame,e=xe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function XW(t){const e=()=>{!function YW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,i_(t),t.isCheckStableRunning=!0,r_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),i_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ak(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),uk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ak(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),uk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,i_(t),r_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,QW,Ch,Ch);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const QW={};function r_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function i_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ak(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uk(t){t._nesting--,r_(t)}class JW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const ck=new P(""),Th=new P("");let a_,s_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a_||(function ZW(t){a_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),n_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Le),F(o_),F(Th))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})(),o_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return a_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ki=null;const lk=new P("AllowMultipleToken"),u_=new P("PlatformDestroyListeners"),ni=!1;class dk{constructor(e,n){this.name=e,this.token=n}}function fk(t,e,n=[]){const r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=c_();if(!o||o.injector.get(lk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function n5(t){if(ki&&!ki.get(lk,!1))throw new b(400,!1);ki=t;const e=t.get(gk);(function hk(t){const e=t.get(nk,null);e&&e.forEach(n=>n())})(t)}(function pk(t=[],e){return In.create({name:e,providers:[{provide:Ym,useValue:"platform"},{provide:u_,useValue:new Set([()=>ki=null])},...t]})}(a,r))}return function i5(t){const e=c_();if(!e)throw new b(401,!1);return e}()}}function c_(){return ki?.get(gk)??null}let gk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function yk(t,e){let n;return n="noop"===t?new JW:("zone.js"===t?void 0:t)||new Le(e),n}(r?.ngZone,function mk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Le,useValue:i}];return i.run(()=>{const o=In.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get($o,null);if(!u)throw new b(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Ah(this._modules,a),c.unsubscribe()})}),function _k(t,e,n){try{const r=n();return Xu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Dh);return c.runInitializers(),c.donePromise.then(()=>(function jx(t){Wn(t,"Expected localeId to be defined"),"string"==typeof t&&($x=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ti,na)||na),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=vk({},r);return function e5(t,e,n){const r=new Vy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Sh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(u_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(In))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function vk(t,e){return Array.isArray(e)?e.reduce(vk,t):{...t,...e}}let Sh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Pe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Pe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),n_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function dj(...t){const e=Iu(t),n=function ij(t,e){return"number"==typeof Ug(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?qn(r[0]):vo(n)(ot(r,e)):yr}(s,o.pipe(function hj(t={}){const{connector:e=(()=>new jr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return It((g,m)=>{c++,!d&&!l&&h();const _=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Bg(p,i))}),_.subscribe(m),!o&&c>0&&(o=new Eu({next:C=>_.next(C),error:C=>{d=!0,h(),a=Bg(f,n,C),_.error(C)},complete:()=>{l=!0,h(),a=Bg(f,r),_.complete()}}),qn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof qA;if(!this._injector.get(Dh).done){!i&&function Eo(t){const e=we(t)||Wt(t)||sn(t);return null!==e&&e.standalone}(n);throw new b(405,ni)}let o;o=i?n:this._injector.get(qu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function t5(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ra),c=o.create(In.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(ck,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Ah(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ah(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(rk,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ah(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(F(Le),F(Ir),F($o))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ah(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Mh=(()=>{class t{}return t.__NG_ELEMENT_ID__=o5,t})();function o5(t){return function a5(t,e,n){if(xu(t)&&!n){const r=Ln(t.index,e);return new Ku(r,r)}return 47&t.type?new Ku(e[Qt],e):null}(Ot(),D(),16==(16&t))}class bk{constructor(){}supports(e){return dh(e)}create(e){return new f5(e)}}const h5=(t,e)=>e;class f5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||h5}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Tk(r,i,s)?n:r,a=Tk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!dh(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function $z(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new p5(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Dk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Dk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class p5{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Dk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new g5,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sk{constructor(){}supports(e){return e instanceof Map||Ey(e)}create(){return new m5}}class m5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ey(e)))throw new b(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new y5(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class y5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ak(){return new Rh([new bk])}let Rh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ak()),deps:[[t,new Lu,new cn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new b(901,!1)}}return t.\u0275prov=L({token:t,providedIn:"root",factory:Ak}),t})();function Mk(){return new dc([new Sk])}let dc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Mk()),deps:[[t,new Lu,new cn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new b(901,!1)}}return t.\u0275prov=L({token:t,providedIn:"root",factory:Mk}),t})();const w5=fk(null,"core",[]);let E5=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(Sh))},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({}),t})();let p_=null;function ri(){return p_}class b5{}const Ct=new P("DocumentToken");let g_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(){return function D5(){return F(xk)}()},providedIn:"platform"}),t})();const T5=new P("Location Initialized");let xk=(()=>{class t extends g_{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ri().getBaseHref(this._doc)}onPopState(n){const r=ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){kk()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){kk()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Ct))},t.\u0275prov=L({token:t,factory:function(){return function S5(){return new xk(F(Ct))}()},providedIn:"platform"}),t})();function kk(){return!!window.history.pushState}function m_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Rk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ii(t){return t&&"?"!==t[0]?"?"+t:t}let bs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(){return z(Ok)},providedIn:"root"}),t})();const Nk=new P("appBaseHref");let Ok=(()=>{class t extends bs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return m_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ii(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ii(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(g_),F(Nk,8))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A5=(()=>{class t extends bs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=m_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ii(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(g_),F(Nk,8))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})(),y_=(()=>{class t{constructor(n){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function k5(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Rk(Pk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ii(r))}normalize(n){return t.stripTrailingSlash(function x5(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Pk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ii(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ii,t.joinWithSlash=m_,t.stripTrailingSlash=Rk,t.\u0275fac=function(n){return new(n||t)(F(bs))},t.\u0275prov=L({token:t,factory:function(){return function M5(){return new y_(F(bs))}()},providedIn:"root"}),t})();function Pk(t){return t.replace(/\/index.html$/,"")}function Gk(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const S_=/\s+/,zk=[];let ua=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=zk,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(S_):zk}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(S_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(S_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(I(Rh),I(dc),I(En),I(Cr))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class g6{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A_=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new g6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Kk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Kk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(lr),I(ei),I(Rh))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Kk(t,e){t.context.$implicit=e.item}let Qk=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new y6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(lr),I(ei))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class y6{constructor(){this.$implicit=null,this.ngIf=null}}function Yk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Te(e)}'.`)}class w6{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class E6{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const I6=new E6,C6=new w6;let pc=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Xu(n))return I6;if(qM(n))return C6;throw function fr(t,e){return new b(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(I(Mh,16))},t.\u0275pipe=_n({name:"async",type:t,pure:!1,standalone:!0}),t})(),jh=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({}),t})();let z6=(()=>{class t{}return t.\u0275prov=L({token:t,providedIn:"root",factory:()=>new q6(F(Ct),window)}),t})();class q6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function W6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=eR(this.window.history)||eR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tR{}const gc=t=>t.src,rR=new P("ImageLoader",{providedIn:"root",factory:()=>gc}),g8=new P("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let m8=(()=>{class t{constructor(){this.preloadedImages=z(g8),this.document=z(Ct)}createPreloadLinkTag(n,r,i,s){if(this.preloadedImages.has(r))return;this.preloadedImages.add(r);const o=n.createElement("link");n.setAttribute(o,"as","image"),n.setAttribute(o,"href",r),n.setAttribute(o,"rel","preload"),n.setAttribute(o,"fetchpriority","high"),s&&n.setAttribute(o,"imageSizes",s),i&&n.setAttribute(o,"imageSrcset",i),n.appendChild(this.document.head,o)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const aR=/^((\s*\d+w\s*(,|$)){1,})$/,_8=[1,2],lR={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},C8=new P("ImageConfig",{providedIn:"root",factory:()=>lR});let b8=(()=>{class t{constructor(){this.imageLoader=z(rR),this.config=function D8(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((n,r)=>n-r)),Object.assign({},lR,t,e)}(z(C8)),this.renderer=z(Cr),this.imgElement=z(En).nativeElement,this.injector=z(In),this.isServer=function G6(t){return"server"===t}(z(oa)),this.preloadLinkChecker=z(m8),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1,this._disableOptimizedSrcset=!1,this._fill=!1}set width(n){this._width=dR(n)}get width(){return this._width}set height(n){this._height=dR(n)}get height(){return this._height}set priority(n){this._priority=P_(n)}get priority(){return this._priority}set disableOptimizedSrcset(n){this._disableOptimizedSrcset=P_(n)}get disableOptimizedSrcset(){return this._disableOptimizedSrcset}set fill(n){this._fill=P_(n)}get fill(){return this._fill}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const n=this.getRewrittenSrc();let r;this.setHostAttribute("src",n),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),this.isServer&&this.priority&&this.preloadLinkChecker.createPreloadLinkTag(this.renderer,n,r,this.sizes)}ngOnChanges(n){}callImageLoader(n){let r=n;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const n=aR.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>""!==i).map(i=>{i=i.trim();const s=n?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:s})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:n}=this.config;let r=n;return"100vw"===this.sizes?.trim()&&(r=n.filter(s=>s>=640)),r.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}getFixedSrcset(){return _8.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this._disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==gc&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(n,r){this.renderer.setAttribute(this.imgElement,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(n,r){2&n&&xy("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:"width",height:"height",loading:"loading",priority:"priority",loaderParams:"loaderParams",disableOptimizedSrcset:"disableOptimizedSrcset",fill:"fill",src:"src",srcset:"srcset"},standalone:!0,features:[Pn]}),t})();function dR(t){return"string"==typeof t?parseInt(t,10):t}function P_(t){return null!=t&&"false"!=`${t}`}class M8 extends b5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F_ extends M8{static makeCurrent(){!function C5(t){p_||(p_=t)}(new F_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function x8(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}();return null==n?null:function k8(t){zh=zh||document.createElement("a"),zh.setAttribute("href",t);const e=zh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gk(document.cookie,e)}}let zh,yc=null;const hR=new P("TRANSITION_ID"),N8=[{provide:bh,useFactory:function R8(t,e,n){return()=>{n.get(Dh).donePromise.then(()=>{const r=ri(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[hR,Ct,In],multi:!0}];let P8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();const qh=new P("EventManagerPlugins");let Wh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(qh),F(Le))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();class fR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ri().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let pR=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})(),_c=(()=>{class t extends pR{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(F(Ct))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();const L_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V_=/%COMP%/g,yR=new P("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function _R(t,e){return e.flat(100).map(n=>n.replace(V_,t))}function vR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let U_=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new B_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof IR?i.applyToHost(n):i instanceof $_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case _r.Emulated:s=new IR(o,a,r,this.appId,u);break;case _r.ShadowDom:return new j8(o,a,n,r);default:s=new $_(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(Wh),F(_c),F(lc),F(yR))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();class B_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(L_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(ER(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ER(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=L_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=L_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(vn.DashCase|vn.Important)?e.style.setProperty(n,r,i&vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,vR(r)):this.eventManager.addEventListener(e,n,vR(r))}}function ER(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class j8 extends B_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_R(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $_ extends B_{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=_R(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class IR extends $_{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function U8(t){return"_ngcontent-%COMP%".replace(V_,t)}(o),this.hostAttr=function B8(t){return"_nghost-%COMP%".replace(V_,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let H8=(()=>{class t extends fR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Ct))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();const CR=["alt","control","meta","shift"],G8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q8=(()=>{class t extends fR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ri().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),CR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=G8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),CR.forEach(o=>{o!==i&&(0,z8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Ct))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();const DR=[{provide:oa,useValue:"browser"},{provide:nk,useValue:function W8(){F_.makeCurrent()},multi:!0},{provide:Ct,useFactory:function Q8(){return function CH(t){$m=t}(document),document},deps:[]}],Y8=fk(w5,"browser",DR),TR=new P(""),SR=[{provide:Th,useClass:class O8{addToWindow(e){xe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),xe.getAllAngularRootElements=()=>e.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const i=xe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ri().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:ck,useClass:s_,deps:[Le,o_,Th]},{provide:s_,useClass:s_,deps:[Le,o_,Th]}],AR=[{provide:Ym,useValue:"root"},{provide:$o,useFactory:function K8(){return new $o},deps:[]},{provide:qh,useClass:H8,multi:!0,deps:[Ct,Le,oa]},{provide:qh,useClass:q8,multi:!0,deps:[Ct]},{provide:U_,useClass:U_,deps:[Wh,_c,lc,yR]},{provide:KA,useExisting:U_},{provide:pR,useExisting:_c},{provide:_c,useClass:_c,deps:[Ct]},{provide:Wh,useClass:Wh,deps:[qh,Le]},{provide:tR,useClass:P8,deps:[]},[]];let X8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:lc,useValue:n.appId},{provide:hR,useExisting:lc},N8]}}}return t.\u0275fac=function(n){return new(n||t)(F(TR,12))},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({providers:[...AR,...SR],imports:[jh,E5]}),t})(),MR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(F(Ct))},t.\u0275prov=L({token:t,factory:function(n){let r=null;return r=n?new n:function Z8(){return new MR(F(Ct))}(),r},providedIn:"root"}),t})();function G(...t){return ot(t,Iu(t))}typeof window<"u"&&window;class bt extends jr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Kh=wu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:a7}=Array,{getPrototypeOf:u7,prototype:c7,keys:l7}=Object;function RR(t){if(1===t.length){const e=t[0];if(a7(e))return{args:e,keys:null};if(function d7(t){return t&&"object"==typeof t&&u7(t)===c7}(e)){const n=l7(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:h7}=Array;function NR(t){return re(e=>function f7(t,e){return h7(e)?t(...e):t(e)}(t,e))}function OR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function PR(...t){const e=Iu(t),n=VT(t),{args:r,keys:i}=RR(t);if(0===r.length)return ot([],e);const s=new Pe(function p7(t,e,n=ls){return r=>{FR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)FR(e,()=>{const c=ot(t[u],e);let l=!1;c.subscribe(pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>OR(i,o):ls));return n?s.pipe(NR(n)):s}function FR(t,e,n){t?Hr(n,t,e):e()}function G_(...t){return function g7(){return vo(1)}()(ot(t,Iu(t)))}function LR(t){return new Pe(e=>{qn(t()).subscribe(e)})}function vc(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new Pe(e?i=>e.schedule(r,0,i):r)}function z_(){return It((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class VR extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,CT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return z_()(this)}}function Mr(t,e){return It((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,u=>{i?.unsubscribe();let c=0;const l=s++;qn(t(u,l)).subscribe(i=pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function wc(t){return t<=0?()=>yr:It((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function oi(t,e){return It((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Qh(t){return It((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function UR(t=y7){return It((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function y7(){return new Kh}function Ni(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oi((i,s)=>t(i,s,r)):ls,wc(1),n?Qh(e):UR(()=>new Kh))}function Oi(t,e){return De(e)?kt(t,e,1):kt(t,1)}function Lt(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?It((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ls}function Pi(t){return It((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=qn(t(o,Pi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function BR(t,e){return It(function _7(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function q_(t){return t<=0?()=>yr:It((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $R(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oi((i,s)=>t(i,s,r)):ls,q_(1),n?Qh(e):UR(()=>new Kh))}function W_(t){return It((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",Ec=Symbol("RouteTitle");class E7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ca(t){return new E7(t)}function I7(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jR(t[i],e[i]))return!1;return!0}function jR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function HR(t){return Array.prototype.concat.apply([],t)}function GR(t){return t.length>0?t[t.length-1]:null}function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fi(t){return Dy(t)?t:Xu(t)?ot(Promise.resolve(t)):G(t)}const Yh=!1,b7={exact:function WR(t,e,n){if(!Ds(t.segments,e.segments)||!Xh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!WR(t.children[r],e.children[r],n))return!1;return!0},subset:KR},zR={exact:function D7(t,e){return xr(t,e)},subset:function T7(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jR(t[n],e[n]))},ignored:()=>!0};function qR(t,e,n){return b7[n.paths](t.root,e.root,n.matrixParams)&&zR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function KR(t,e,n){return QR(t,e,e.segments,n)}function QR(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ds(i,n)||e.hasChildren()||!Xh(i,n,r))}if(t.segments.length===n.length){if(!Ds(t.segments,n)||!Xh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!KR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ds(t.segments,i)&&Xh(t.segments,i,r)&&t.children[ie])&&QR(t.children[ie],e,s,r)}}function Xh(t,e,n){return e.every((r,i)=>zR[n](t[i].parameters,r.parameters))}class Li{constructor(e=new ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ca(this.queryParams)),this._queryParamMap}toString(){return M7.serialize(this)}}class ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Vt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jh(this)}}class Ic{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ca(this.parameters)),this._parameterMap}toString(){return JR(this)}}function Ds(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Cc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(){return new K_},providedIn:"root"}),t})();class K_{parse(e){const n=new V7(e);return new Li(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${bc(e.root,!0)}`,r=function R7(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Zh(n)}=${Zh(i)}`).join("&"):`${Zh(n)}=${Zh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function x7(t){return encodeURI(t)}(e.fragment)}`:""}`}}const M7=new K_;function Jh(t){return t.segments.map(e=>JR(e)).join("/")}function bc(t,e){if(!t.hasChildren())return Jh(t);if(e){const n=t.children[ie]?bc(t.children[ie],!1):"",r=[];return Vt(t.children,(i,s)=>{s!==ie&&r.push(`${s}:${bc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function A7(t,e){let n=[];return Vt(t.children,(r,i)=>{i===ie&&(n=n.concat(e(r,i)))}),Vt(t.children,(r,i)=>{i!==ie&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ie?[bc(t.children[ie],!1)]:[`${i}:${bc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Jh(t)}/${n[0]}`:`${Jh(t)}/(${n.join("//")})`}}function YR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(t){return YR(t).replace(/%3B/gi,";")}function Q_(t){return YR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(t){return decodeURIComponent(t)}function XR(t){return ef(t.replace(/\+/g,"%20"))}function JR(t){return`${Q_(t.path)}${function k7(t){return Object.keys(t).map(e=>`;${Q_(e)}=${Q_(t[e])}`).join("")}(t.parameters)}`}const N7=/^[^\/()?;=#]+/;function tf(t){const e=t.match(N7);return e?e[0]:""}const O7=/^[^=?&#]+/,F7=/^[^&#]+/;class V7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new ce(e,n)),r}parseSegment(){const e=tf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,Yh);return this.capture(e),new Ic(ef(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=tf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=tf(this.remaining);i&&(r=i,this.capture(r))}e[ef(n)]=ef(r)}parseQueryParam(e){const n=function P7(t){const e=t.match(O7);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function L7(t){const e=t.match(F7);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=XR(n),s=XR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=tf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,Yh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,Yh)}}function Y_(t){return t.segments.length>0?new ce([],{[ie]:t}):t}function nf(t){const e={};for(const r of Object.keys(t.children)){const s=nf(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function U7(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new ce(t.segments.concat(e.segments),e.children)}return t}(new ce(t.segments,e))}function Ts(t){return t instanceof Li}const X_=!1;function B7(t,e,n,r,i){if(0===n.length)return la(e.root,e.root,e.root,r,i);const s=function rN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Vt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new nN(n,e,r)}(n);return s.toRoot()?la(e.root,e.root,new ce([],{}),r,i):function o(u){const c=function j7(t,e,n,r){if(t.isAbsolute)return new da(e.root,!0,0);if(-1===r)return new da(n,n===e.root,0);return function iN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,X_&&"Invalid number of '../'");i=r.segments.length}return new da(r,!1,i-s)}(n,r+(Dc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?ha(c.segmentGroup,c.index,s.commands):J_(c.segmentGroup,c.index,s.commands);return la(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Dc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tc(t){return"object"==typeof t&&null!=t&&t.outlets}function la(t,e,n,r,i){let o,s={};r&&Vt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:tN(t,e,n);const a=Y_(nf(o));return new Li(a,s,i)}function tN(t,e,n){const r={};return Vt(t.children,(i,s)=>{r[s]=i===e?n:tN(i,e,n)}),new ce(t.segments,r)}class nN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dc(r[0]))throw new b(4003,X_&&"Root segment cannot have matrix parameters");const i=r.find(Tc);if(i&&i!==GR(r))throw new b(4004,X_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class da{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function J_(t,e,n){if(t||(t=new ce([],{})),0===t.segments.length&&t.hasChildren())return ha(t,e,n);const r=function G7(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Tc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!oN(u,c,o))return s;r+=2}else{if(!oN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ce(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new ce(t.segments.slice(r.pathIndex),t.children),ha(s,0,i)}return r.match&&0===i.length?new ce(t.segments,{}):r.match&&!t.hasChildren()?Z_(t,e,n):r.match?ha(t,0,i):Z_(t,e,n)}function ha(t,e,n){if(0===n.length)return new ce(t.segments,{});{const r=function H7(t){return Tc(t[0])?t[0].outlets:{[ie]:t}}(n),i={};return!r[ie]&&t.children[ie]&&1===t.numberOfChildren&&0===t.children[ie].segments.length?ha(t.children[ie],e,n):(Vt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=J_(t.children[o],e,s))}),Vt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ce(t.segments,i))}}function Z_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Tc(s)){const u=z7(s.outlets);return new ce(r,u)}if(0===i&&Dc(n[0])){r.push(new Ic(t.segments[e].path,sN(n[0]))),i++;continue}const o=Tc(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dc(a)?(r.push(new Ic(o,sN(a))),i+=2):(r.push(new Ic(o,{})),i++)}return new ce(r,{})}function z7(t){const e={};return Vt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Z_(new ce([],{}),0,n))}),e}function sN(t){const e={};return Vt(t,(n,r)=>e[r]=`${n}`),e}function oN(t,e,n){return t==n.path&&xr(e,n.parameters)}const Sc="imperative";class kr{constructor(e,n){this.id=e,this.url=n}}class ev extends kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ss extends kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sf extends kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class tv extends kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class q7 extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W7 extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K7 extends kr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q7 extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y7 extends kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class J7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let sK=(()=>{class t{createUrlTree(n,r,i,s,o,a){return B7(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})(),aK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(e){return sK.\u0275fac(e)},providedIn:"root"}),t})();class uN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=nv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=nv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=rv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return rv(e,this._root).map(n=>n.value)}}function nv(t,e){if(t===e.value)return e;for(const n of e.children){const r=nv(t,n);if(r)return r}return null}function rv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=rv(t,n);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function fa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class cN extends uN{constructor(e,n){super(e),this.snapshot=n,iv(this,e)}toString(){return this.snapshot.toString()}}function lN(t,e){const n=function uK(t,e){const o=new af([],{},{},"",{},ie,e,null,t.root,-1,{});return new hN("",new ai(o,[]))}(t,e),r=new bt([new Ic("",{})]),i=new bt({}),s=new bt({}),o=new bt({}),a=new bt(""),u=new pa(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new cN(new ai(u,[]),n)}class pa{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(re(c=>c[Ec]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>ca(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>ca(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function cK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class af{get title(){return this.data?.[Ec]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ca(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ca(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hN extends uN{constructor(e,n){super(n),this.url=e,iv(this,n)}toString(){return fN(this._root)}}function iv(t,e){e.value._routerState=t,e.children.forEach(n=>iv(t,n))}function fN(t){const e=t.children.length>0?` { ${t.children.map(fN).join(", ")} } `:"";return`${t.value}${e}`}function sv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xr(e.params,n.params)||t.params.next(n.params),function C7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ov(t,e){const n=xr(t.params,e.params)&&function S7(t,e){return Ds(t,e)&&t.every((n,r)=>xr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ov(t.parent,e.parent))}function Ac(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function dK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ac(t,r,i);return Ac(t,r)})}(t,e,n);return new ai(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ac(t,a)),o}}const r=function hK(t){return new pa(new bt(t.url),new bt(t.params),new bt(t.queryParams),new bt(t.fragment),new bt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ac(t,s));return new ai(r,i)}}const av="ngNavigationCancelingError";function pN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function gN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[av]=!0,r.cancellationCode=e,n&&(r.url=n),r}function mN(t){return yN(t)&&Ts(t.url)}function yN(t){return t&&t[av]}class fK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mc,this.attachRef=null}}let Mc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new fK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const uf=!1;let uv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=z(Mc),this.location=z(lr),this.changeDetector=z(Mh),this.environmentInjector=z(Ir)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,uf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,uf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,uf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,uf);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pK(n,a,i.injector);if(r&&function gK(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]}),t})();class pK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===pa?this.route:e===Mc?this.childContexts:this.parent.get(e,n)}}let cv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=rn({type:t,selectors:[["ng-component"]],standalone:!0,features:[g1],decls:1,vars:0,template:function(n,r){1&n&&Re(0,"router-outlet")},dependencies:[uv],encapsulation:2}),t})();function _N(t,e){return t.providers&&!t._injector&&(t._injector=wh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dv(t){const e=t.children&&t.children.map(dv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=cv),n}function er(t){return t.outlet||ie}function vN(t,e){const n=t.filter(r=>er(r)===e);return n.push(...t.filter(r=>er(r)!==e)),n}function xc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class wK{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=fa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Vt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=fa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new nK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new eK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(sv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=xc(i.snapshot),u=a?.get(qu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class wN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cf{constructor(e,n){this.component=e,this.route=n}}function EK(t,e,n){const r=t._root;return kc(r,e?e._root:null,n,[r.value])}function ga(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function vj(t){return null!==bd(t)}(t)?e.get(t):t:r}function kc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=fa(e);return t.children.forEach(o=>{(function CK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function bK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ds(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ds(t.url,e.url)||!xr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ov(t,e)||!xr(t.queryParams,e.queryParams);default:return!ov(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),kc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cf(a.outlet.component,o))}else o&&Rc(e,a,i),i.canActivateChecks.push(new wN(r)),kc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Vt(s,(o,a)=>Rc(o,n.getContext(a),i)),i}function Rc(t,e,n){const r=fa(t),i=t.value;Vt(r,(s,o)=>{Rc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new cf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Nc(t){return"function"==typeof t}function hv(t){return t instanceof Kh||"EmptyError"===t?.name}const lf=Symbol("INITIAL_VALUE");function ma(){return Mr(t=>PR(t.map(e=>e.pipe(wc(1),function m7(...t){const e=Iu(t);return It((n,r)=>{(e?G_(t,n,e):G_(t,n)).subscribe(r)})}(lf)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===lf)return lf;if(!1===n||n instanceof Li)return n}return!0}),oi(e=>e!==lf),wc(1)))}function EN(t){return function V$(...t){return wT(t)}(Lt(e=>{if(Ts(e))throw pN(0,e)}),re(e=>!0===e))}const fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IN(t,e,n,r,i){const s=pv(t,e,n);return s.matched?function $K(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ga(o,t);return Fi(function xK(t){return t&&Nc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ma(),EN()):G(!0)}(r=_N(e,r),e,n).pipe(re(o=>!0===o?s:{...fv})):G(s)}function pv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...fv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||I7)(n,t,e);if(!i)return{...fv};const s={};Vt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function df(t,e,n,r){if(n.length>0&&function GK(t,e,n){return n.some(r=>hf(t,e,r)&&er(r)!==ie)}(t,n,r)){const s=new ce(e,function HK(t,e,n,r){const i={};i[ie]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&er(s)!==ie){const o=new ce([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[er(s)]=o}return i}(t,e,r,new ce(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function zK(t,e,n){return n.some(r=>hf(t,e,r))}(t,n,r)){const s=new ce(t.segments,function jK(t,e,n,r,i){const s={};for(const o of r)if(hf(t,n,o)&&!i[er(o)]){const a=new ce([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[er(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new ce(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function hf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function CN(t,e,n,r){return!!(er(t)===r||r!==ie&&hf(e,n,t))&&("**"===t.path||pv(e,t,n).matched)}function bN(t,e,n){return 0===e.length&&!t.children[n]}const ff=!1;class pf{constructor(e){this.segmentGroup=e||null}}class DN{constructor(e){this.urlTree=e}}function Oc(t){return vc(new pf(t))}function TN(t){return vc(new DN(t))}class QK{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=df(this.urlTree.root,[],[],this.config).segmentGroup,n=new ce(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ie).pipe(re(s=>this.createUrlTree(nf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pi(s=>{if(s instanceof DN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof pf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(re(i=>this.createUrlTree(nf(i),e.queryParams,e.fragment))).pipe(Pi(i=>{throw i instanceof pf?this.noMatchError(i):i}))}noMatchError(e){return new b(4002,ff)}createUrlTree(e,n,r){const i=Y_(e);return new Li(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(re(s=>new ce([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ot(i).pipe(Oi(s=>{const o=r.children[s],a=vN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(re(u=>({segment:u,outlet:s})))}),BR((s,o)=>(s[o.outlet]=o.segment,s),{}),$R())}expandSegment(e,n,r,i,s,o){return ot(r).pipe(Oi(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Pi(c=>{if(c instanceof pf)return G(null);throw c}))),Ni(a=>!!a),Pi((a,u)=>{if(hv(a))return bN(n,i,s)?G(new ce([],{})):Oc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return CN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Oc(n):Oc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?TN(s):this.lineralizeSegments(r,s).pipe(kt(o=>{const a=new ce(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=pv(n,i,s);if(!a)return Oc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?TN(d):this.lineralizeSegments(i,d).pipe(kt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=_N(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ce(i,{})))):G(new ce(i,{}))):IN(n,r,i,e).pipe(Mr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(kt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=df(n,a,u,h),g=new ce(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(re(w=>new ce(a,w)));if(0===h.length&&0===p.length)return G(new ce(a,{}));const m=er(r)===s;return this.expandSegment(d,g,h,p,m?ie:s,!0).pipe(re(C=>new ce(a.concat(C.segments),C.children)))})):Oc(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function BK(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ga(o,t);return Fi(function TK(t){return t&&Nc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ma(),EN())}(e,n,r).pipe(kt(i=>i?this.configLoader.loadChildren(e,n).pipe(Lt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function WK(t){return vc(gN(ff,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ie])return e.redirectTo,vc(new b(4e3,ff));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Li(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Vt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Vt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,ff);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class XK{}class e9{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=df(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(re(n=>{if(null===n)return null;const r=new af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ai(r,n),s=new hN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=dN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return ot(Object.keys(r.children)).pipe(Oi(i=>{const s=r.children[i],o=vN(n,i);return this.processSegmentGroup(e,o,s,i)}),BR((i,s)=>i&&s?(i.push(...s),i):null),function v7(t,e=!1){return It((n,r)=>{let i=0;n.subscribe(pt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Qh(null),$R(),re(i=>{if(null===i)return null;const s=AN(i);return function t9(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return ot(n).pipe(Oi(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ni(o=>!!o),Pi(o=>{if(hv(o))return bN(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!CN(n,r,i,s))return G(null);let o;if("**"===n.path){const a=i.length>0?GR(i).parameters:{},u=xN(r)+i.length;o=G({snapshot:new af(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kN(n),er(n),n.component??n._loadedComponent??null,n,MN(r),u,RN(n)),consumedSegments:[],remainingSegments:[]})}else o=IN(r,n,i,e).pipe(re(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=xN(r)+u.length;return{snapshot:new af(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kN(n),er(n),n.component??n._loadedComponent??null,n,MN(r),d,RN(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Mr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function n9(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=df(r,c,l,h.filter(m=>void 0===m.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(m=>null===m?null:[new ai(u,m)]));if(0===h.length&&0===p.length)return G([new ai(u,[])]);const g=er(n)===s;return this.processSegment(d,h,f,p,g?ie:s).pipe(re(m=>null===m?null:[new ai(u,m)]))}))}}function r9(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function AN(t){const e=[],n=new Set;for(const r of t){if(!r9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=AN(r.children);e.push(new ai(r.value,i))}return e.filter(r=>!n.has(r))}function MN(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function kN(t){return t.data||{}}function RN(t){return t.resolve||{}}function NN(t){return"string"==typeof t.title||null===t.title}function gv(t){return Mr(e=>{const n=t(e);return n?ot(n).pipe(re(()=>e)):G(e)})}const ya=new P("ROUTES");let mv=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Fi(n.loadComponent()).pipe(re(PN),Lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),W_(()=>{this.componentLoaders.delete(n)})),i=new VR(r,()=>new jr).pipe(z_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=HR(u.get(ya,[],K.Self|K.Optional)));return{routes:c.map(dv),injector:u}}),W_(()=>{this.childrenLoaders.delete(r)})),o=new VR(s,()=>new jr).pipe(z_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Fi(n()).pipe(re(PN),kt(i=>i instanceof f1||Array.isArray(i)?G(i):ot(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(F(In),F(ik))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PN(t){return function h9(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let mf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new jr,this.configLoader=z(mv),this.environmentInjector=z(Ir),this.urlSerializer=z(Cc),this.rootContexts=z(Mc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new J7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new X7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new bt({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oi(r=>0!==r.id),re(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Mr(r=>{let i=!1,s=!1;return G(r).pipe(Lt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new sf(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),yr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return FN(o.source)&&(n.browserUrlTree=o.extractedUrl),G(o).pipe(Mr(l=>{const d=this.transitions?.getValue();return this.events.next(new ev(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?yr:Promise.resolve(l)}),function YK(t,e,n,r){return Mr(i=>function KK(t,e,n,r,i){return new QK(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(re(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Lt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function s9(t,e,n,r,i){return kt(s=>function ZK(t,e,n,r,i,s,o="emptyOnly"){return new e9(t,e,n,r,i,o,s).recognize().pipe(Mr(a=>null===a?function JK(t){return new Pe(e=>e.error(t))}(new XK):G(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(re(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Lt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new q7(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new ev(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=lN(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new sf(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),yr}}),Lt(o=>{const a=new W7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),re(o=>r={...o,guards:EK(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function RK(t,e){return kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function NK(t,e,n,r){return ot(t).pipe(kt(i=>function UK(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=xc(e)??i,c=ga(a,u);return Fi(function MK(t){return t&&Nc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ni())})).pipe(ma()):G(!0)}(i.component,i.route,n,e,r)),Ni(i=>!0!==i,!0))}(o,r,i,t).pipe(kt(a=>a&&function DK(t){return"boolean"==typeof t}(a)?function OK(t,e,n,r){return ot(e).pipe(Oi(i=>G_(function FK(t,e){return null!==t&&e&&e(new Z7(t)),G(!0)}(i.route.parent,r),function PK(t,e){return null!==t&&e&&e(new tK(t)),G(!0)}(i.route,r),function VK(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function IK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>LR(()=>G(o.guards.map(u=>{const c=xc(o.node)??n,l=ga(u,c);return Fi(function AK(t){return t&&Nc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ni())})).pipe(ma())));return G(s).pipe(ma())}(t,i.path,n),function LK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>LR(()=>{const o=xc(e)??n,a=ga(s,o);return Fi(function SK(t){return t&&Nc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ni())}));return G(i).pipe(ma())}(t,i.route,n))),Ni(i=>!0!==i,!0))}(r,s,t,e):G(a)),re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Lt(o=>{if(r.guardsResult=o.guardsResult,Ts(o.guardsResult))throw pN(0,o.guardsResult);const a=new K7(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),oi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),gv(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Lt(a=>{const u=new Q7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mr(a=>{let u=!1;return G(a).pipe(function o9(t,e){return kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return ot(i).pipe(Oi(o=>function a9(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!NN(i)&&(s[Ec]=i.title),function u9(t,e,n,r){const i=function c9(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return ot(i).pipe(kt(o=>function l9(t,e,n,r){const i=xc(e)??r,s=ga(t,i);return Fi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ni(),Lt(a=>{s[o]=a}))),q_(1),function w7(t){return re(()=>t)}(s),Pi(o=>hv(o)?yr:vc(o)))}(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=dN(t,n).resolve,i&&NN(i)&&(t.data[Ec]=i.title),null)))}(o.route,r,t,e)),Lt(()=>s++),q_(1),kt(o=>s===i.length?G(n):yr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Lt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Lt(a=>{const u=new Y7(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),gv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Lt(l=>{u.component=l}),re(()=>{})));for(const l of u.children)c.push(...a(l));return c};return PR(a(o.targetSnapshot.root)).pipe(Qh(),wc(1))}),gv(()=>this.afterPreactivation()),re(o=>{const a=function lK(t,e,n){const r=Ac(t,e._root,n?n._root:void 0);return new cN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Lt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>re(r=>(new wK(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Lt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ss(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),W_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Pi(o=>{if(s=!0,yN(o)){mN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new rf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),mN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||FN(r.source)};n.scheduleNavigation(u,Sc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new tv(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return yr}))}))}cancelNavigationTransition(n,r,i){const s=new rf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function FN(t){return t!==Sc}let LN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Ec]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(){return z(f9)},providedIn:"root"}),t})(),f9=(()=>{class t extends LN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(F(MR))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(){return z(m9)},providedIn:"root"}),t})();class g9{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let m9=(()=>{class t extends g9{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Pt(t)))(r||t)}}(),t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yf=new P("",{providedIn:"root",factory:()=>({})});let _9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:function(){return z(v9)},providedIn:"root"}),t})(),v9=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function w9(t){throw t}function E9(t,e,n){return e.parse("/")}const I9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z($W),this.isNgZoneEnabled=!1,this.options=z(yf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||w9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||E9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z(_9),this.routeReuseStrategy=z(p9),this.urlCreationStrategy=z(aK),this.titleStrategy=z(LN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=HR(z(ya,{optional:!0})??[]),this.navigationTransitions=z(mf),this.urlSerializer=z(Cc),this.location=z(y_),this.isNgZoneEnabled=z(Le)instanceof Le&&Le.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Li,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(dv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ts(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Sc,null,r)}navigate(n,r={skipLocationChange:!1}){return function b9(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new b(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...I9}:!1===r?{...C9}:r,Ts(n))return qR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return qR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class VN{}let S9=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(oi(n=>n instanceof Ss),Oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=wh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ot(i).pipe(vo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(kt(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ot([s,this.loader.loadComponent(r)]).pipe(vo()):s})}}return t.\u0275fac=function(n){return new(n||t)(F(Jt),F(ik),F(Ir),F(VN),F(mv))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vv=new P("");let UN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ss&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof aN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function pM(){throw new Error("invalid")}()},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();var Bn=(()=>((Bn=Bn||{})[Bn.COMPLETE=0]="COMPLETE",Bn[Bn.FAILED=1]="FAILED",Bn[Bn.REDIRECTING=2]="REDIRECTING",Bn))();const _a=!1;function Vi(t,e){return{\u0275kind:t,\u0275providers:e}}const wv=new P("",{providedIn:"root",factory:()=>!1});function $N(){const t=z(In);return e=>{const n=t.get(Sh);if(e!==n.components[0])return;const r=t.get(Jt),i=t.get(jN);1===t.get(Ev)&&r.initialNavigation(),t.get(HN,null,K.Optional)?.setUpPreloading(),t.get(vv,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const jN=new P(_a?"bootstrap done indicator":"",{factory:()=>new jr}),Ev=new P(_a?"initial navigation":"",{providedIn:"root",factory:()=>1});function R9(){let t=[];return t=_a?[{provide:th,multi:!0,useFactory:()=>{const e=z(Jt);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function rK(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],Vi(1,t)}const HN=new P(_a?"router preloader":"");function N9(t){return Vi(0,[{provide:HN,useExisting:S9},{provide:VN,useExisting:t}])}const Pc=!1,GN=new P(Pc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),O9=[y_,{provide:Cc,useClass:K_},Jt,Mc,{provide:pa,useFactory:function BN(t){return t.routerState.root},deps:[Jt]},mv,Pc?{provide:wv,useValue:!0}:[]];function P9(){return new dk("Router",Jt)}let zN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[O9,Pc&&r?.enableTracing?R9().\u0275providers:[],{provide:ya,multi:!0,useValue:n},{provide:GN,useFactory:U9,deps:[[Jt,new cn,new Lu]]},{provide:yf,useValue:r||{}},r?.useHash?{provide:bs,useClass:A5}:{provide:bs,useClass:Ok},{provide:vv,useFactory:()=>{const t=z(z6),e=z(Le),n=z(yf),r=z(mf),i=z(Cc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new UN(i,r,t,e,n)}},r?.preloadingStrategy?N9(r.preloadingStrategy).\u0275providers:[],{provide:dk,multi:!0,useFactory:P9},r?.initialNavigation?B9(r):[],[{provide:qN,useFactory:$N},{provide:rk,multi:!0,useExisting:qN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ya,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(F(GN,8))},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({imports:[cv]}),t})();function U9(t){if(Pc&&t)throw new b(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function B9(t){return["disabled"===t.initialNavigation?Vi(3,[{provide:bh,multi:!0,useFactory:()=>{const e=z(Jt);return()=>{e.setUpLocationChangeListener()}}},{provide:Ev,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Vi(2,[{provide:Ev,useValue:0},{provide:bh,multi:!0,deps:[In],useFactory:e=>{const n=e.get(T5,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Jt),s=e.get(jN);(function A9(t,e){t.events.pipe(oi(n=>n instanceof Ss||n instanceof rf||n instanceof tv||n instanceof sf),re(n=>n instanceof Ss||n instanceof sf?Bn.COMPLETE:n instanceof rf&&(0===n.code||1===n.code)?Bn.REDIRECTING:Bn.FAILED),oi(n=>n!==Bn.REDIRECTING),wc(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(mf).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const qN=new P(Pc?"Router Initializer":"");class Fc{}Fc.\u0275fac=function(e){return new(e||Fc)},Fc.\u0275cmp=rn({type:Fc,selectors:[["app-title"]],decls:11,vars:0,consts:[["id","title-component"],[1,"pos-abs","w-p-100","jc-c","flex-column","al-i-c","cont-title"],[1,"main-title","fs-6em","c-4"],[1,"pos-fix","top-main","fs-6em","c-4"],["src","../../../assets/img/cara.png","alt","",1,"img-fall"],[1,"main-title","fs-6em","c-5"],[1,"pos-fix","top-sec","fs-6em","c-5"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1)(2,"h1",2),Ae(3,"FALL"),X(),$(4,"h1",3),Ae(5,"FALL"),X(),Re(6,"img",4),$(7,"h1",5),Ae(8,"MEMORAM"),X(),$(9,"h1",6),Ae(10,"MEMORAM"),X()()())},styles:["#title-component[_ngcontent-%COMP%]   .pos-abs[_ngcontent-%COMP%]{position:absolute;z-index:1}#title-component[_ngcontent-%COMP%]   .pos-rel[_ngcontent-%COMP%]{position:relative}#title-component[_ngcontent-%COMP%]   .cont-title[_ngcontent-%COMP%]{padding-top:2em}#title-component[_ngcontent-%COMP%]   .fs-6em[_ngcontent-%COMP%]{font-size:6em}#title-component[_ngcontent-%COMP%]   .pos-fix[_ngcontent-%COMP%]{position:fixed}#title-component[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-weight:100;-webkit-text-stroke:18px #fff}#title-component[_ngcontent-%COMP%]   .top-main[_ngcontent-%COMP%]{top:3.5%}#title-component[_ngcontent-%COMP%]   .top-sec[_ngcontent-%COMP%]{top:19.4%}#title-component[_ngcontent-%COMP%]   .img-fall[_ngcontent-%COMP%]{position:relative;z-index:1;width:2em;top:-4.5em;left:-1.6em}"]});class pr{constructor(){this.sharingCardListOP=new bt([]),this.sharingAttempsOP=new bt(0),this.sharingShowModalScoresOP=new bt(!1),this.sharingShowLoadingOP=new bt(!0),this.sharingScoresListOP=new bt([]),this.sharingFinishGameOP=new bt(!1),this.sharingSaveGameOP=new bt(!1)}get sharingCardListObservable(){return this.sharingCardListOP.asObservable()}set sharingCardListObservableData(e){this.sharingCardListOP.next(e)}get sharingAttempsObservable(){return this.sharingAttempsOP.asObservable()}set sharingAttempsObservableData(e){this.sharingAttempsOP.next(e)}get sharingShowModelScoresObservable(){return this.sharingShowModalScoresOP.asObservable()}set sharingShowModelScoresObservableData(e){this.sharingShowModalScoresOP.next(e)}get sharingShowLoadingObservable(){return this.sharingShowLoadingOP.asObservable()}set sharingShowLoadingObservableData(e){this.sharingShowLoadingOP.next(e)}get sharingScoresListObservable(){return this.sharingScoresListOP.asObservable()}set sharingScoresListObservableData(e){this.sharingScoresListOP.next(e)}get sharingFinishGameObservable(){return this.sharingFinishGameOP.asObservable()}set sharingFinishGameObservableData(e){this.sharingFinishGameOP.next(e)}get sharingSaveGameObservable(){return this.sharingSaveGameOP.asObservable()}set sharingSaveGameObservableData(e){this.sharingSaveGameOP.next(e)}restartGame(){this.sharingAttempsObservableData=0,this.sharingSaveGameObservableData=!1,this.sharingFinishGameObservableData=!1}}pr.\u0275fac=function(e){return new(e||pr)},pr.\u0275prov=L({token:pr,factory:pr.\u0275fac,providedIn:"root"});class Lc{constructor(e,n){this.router=e,this.sharingService=n}goToGame(e){this.sharingService.sharingShowLoadingObservableData=!0,this.router.navigate([e])}}Lc.\u0275fac=function(e){return new(e||Lc)(I(Jt),I(pr))},Lc.\u0275cmp=rn({type:Lc,selectors:[["app-game-mode"]],decls:21,vars:0,consts:[["id","gamemode-component"],[1,"pos-abs","w-p-100","jc-c"],[1,"pos-rel"],[1,"jc-c"],[1,"c-w","t-sh-4"],[1,"jc-c","gap-100","mt-3em"],[1,"card","bounce-anim",3,"click"],[1,"card-i"],[1,"title-card","jc-c"],[1,"m-0","c-w","t-sh-2"],[1,"img-card"],["src","https://i.ibb.co/t3MtnHd/solo-mode.png",1,"img-card-i"],["src","https://i.ibb.co/4J9dfQd/vs-mode.png","alt","",1,"img-card-i","img-gray"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Ae(5," GAME MODE "),X()(),$(6,"div",5)(7,"div",6),Xe("click",function(){return n.goToGame("solo")}),$(8,"div",7)(9,"div",8)(10,"h4",9),Ae(11," SOLO SHOW "),X()(),$(12,"div",10),Re(13,"img",11),X()()(),$(14,"div",6),Xe("click",function(){return n.goToGame("vs")}),$(15,"div",7)(16,"div",8)(17,"h4",9),Ae(18," VS SHOW "),X()(),$(19,"div",10),Re(20,"img",12),X()()()()()()())},styles:["#gamemode-component[_ngcontent-%COMP%]{padding-top:6em}#gamemode-component[_ngcontent-%COMP%]   .pos-abs[_ngcontent-%COMP%]{position:absolute;z-index:1;top:22em}#gamemode-component[_ngcontent-%COMP%]   .pos-rel[_ngcontent-%COMP%]{position:relative}#gamemode-component[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#fff;min-width:16em;min-height:20em;border-radius:10px;outline:.3em solid #fff;box-shadow:10px 10px 4px #000;touch-action:manipulation;cursor:pointer}#gamemode-component[_ngcontent-%COMP%]   .card-i[_ngcontent-%COMP%]{border-radius:12px;border:5px solid #f0d602}#gamemode-component[_ngcontent-%COMP%]   .title-card[_ngcontent-%COMP%]{background-color:#eb2997;padding:1.6em 1em;border-radius:8px 8px 0 0}#gamemode-component[_ngcontent-%COMP%]   .img-card[_ngcontent-%COMP%]{height:16em}#gamemode-component[_ngcontent-%COMP%]   .img-card-i[_ngcontent-%COMP%]{border-radius:0 0 8px 8px;height:16em}#gamemode-component[_ngcontent-%COMP%]   .img-gray[_ngcontent-%COMP%]{filter:grayscale(100%)}"]});class va{}va.\u0275fac=function(e){return new(e||va)},va.\u0275cmp=rn({type:va,selectors:[["app-main"]],decls:9,vars:0,consts:[["id","main-component"],[1,"cont-crown-1"],["src","https://i.ibb.co/yqcM19B/crown1.png",1,"crown-1","op-6"],[1,"cont-crown-2"],["src","https://i.ibb.co/HYyRL6Z/crown2.png",1,"crown-2","op-6"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div"),Re(2,"app-title"),X(),$(3,"div",1),Re(4,"img",2),X(),$(5,"div"),Re(6,"app-game-mode"),X(),$(7,"div",3),Re(8,"img",4),X()())},dependencies:[Fc,Lc],styles:["@charset \"UTF-8\";#main-component[_ngcontent-%COMP%]{background-color:#d065a9;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25'%3E%3Cdefs%3E%3ClinearGradient id='a' gradientUnits='userSpaceOnUse' x1='0' x2='0' y1='0' y2='100%25' gradientTransform='rotate(360,960,468)'%3E%3Cstop offset='0' stop-color='%23D065A9'/%3E%3Cstop offset='1' stop-color='%236139A9'/%3E%3C/linearGradient%3E%3Cpattern patternUnits='userSpaceOnUse' id='b' width='600' height='500' x='0' y='0' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.1'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/pattern%3E%3C/defs%3E%3Crect x='0' y='0' fill='url(%23a)' width='100%25' height='100%25'/%3E%3Crect x='0' y='0' fill='url(%23b)' width='100%25' height='100%25'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover;height:100vh}#main-component[_ngcontent-%COMP%]   .op-6[_ngcontent-%COMP%]{opacity:.6}#main-component[_ngcontent-%COMP%]   .crown-1[_ngcontent-%COMP%]{position:absolute;top:10%;right:0%}#main-component[_ngcontent-%COMP%]   .crown-2[_ngcontent-%COMP%]{position:absolute;top:100%}@keyframes _ngcontent-%COMP%_go-crown-1-left-right{0%{top:0%}to{top:calc(10% - 20px)}}#main-component[_ngcontent-%COMP%]   .cont-crown-1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_go-crown-1-left-right 5s infinite alternate;position:relative}@keyframes _ngcontent-%COMP%_go-crown-2-left-right{0%{top:24%}to{top:calc(40% - 20px)}}#main-component[_ngcontent-%COMP%]   .cont-crown-2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_go-crown-2-left-right 6s infinite alternate;position:relative}"]});class _f{}class Iv{}class ui{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ui;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ui?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class j9{encodeKey(e){return WN(e)}encodeValue(e){return WN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const G9=/%(\d[a-f0-9])/gi,z9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WN(t){return encodeURIComponent(t).replace(G9,(e,n)=>z9[n]??e)}function vf(t){return`${t}`}class Ui{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new j9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H9(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(vf):[vf(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ui({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(vf(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(vf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class q9{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function KN(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function QN(t){return typeof Blob<"u"&&t instanceof Blob}function YN(t){return typeof FormData<"u"&&t instanceof FormData}class Vc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function W9(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ui),this.context||(this.context=new q9),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ui,this.urlWithParams=n}serializeBody(){return null===this.body?null:KN(this.body)||QN(this.body)||YN(this.body)||function K9(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ui?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||YN(this.body)?null:QN(this.body)?this.body.type||null:KN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ui?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Vc(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var dt=(()=>((dt=dt||{})[dt.Sent=0]="Sent",dt[dt.UploadProgress=1]="UploadProgress",dt[dt.ResponseHeader=2]="ResponseHeader",dt[dt.DownloadProgress=3]="DownloadProgress",dt[dt.Response=4]="Response",dt[dt.User=5]="User",dt))();class Cv{constructor(e,n=200,r="OK"){this.headers=e.headers||new ui,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class bv extends Cv{constructor(e={}){super(e),this.type=dt.ResponseHeader}clone(e={}){return new bv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wf extends Cv{constructor(e={}){super(e),this.type=dt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class XN extends Cv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Dv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let JN=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Vc)s=n;else{let u,c;u=i.headers instanceof ui?i.headers:new ui(i.headers),i.params&&(c=i.params instanceof Ui?i.params:new Ui({fromObject:i.params})),s=new Vc(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=G(s).pipe(Oi(u=>this.handler.handle(u)));if(n instanceof Vc||"events"===i.observe)return o;const a=o.pipe(oi(u=>u instanceof wf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ui).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Dv(i,r))}post(n,r,i={}){return this.request("POST",n,Dv(i,r))}put(n,r,i={}){return this.request("PUT",n,Dv(i,r))}}return t.\u0275fac=function(n){return new(n||t)(F(_f))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();function ZN(t,e){return e(t)}function Q9(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const X9=new P("HTTP_INTERCEPTORS"),Uc=new P("HTTP_INTERCEPTOR_FNS");function J9(){let t=null;return(e,n)=>(null===t&&(t=(z(X9,{optional:!0})??[]).reduceRight(Q9,ZN)),t(e,n))}let eO=(()=>{class t extends _f{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Uc)));this.chain=r.reduceRight((i,s)=>function Y9(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(i,s,this.injector),ZN)}return this.chain(n,r=>this.backend.handle(r))}}return t.\u0275fac=function(n){return new(n||t)(F(Iv),F(Ir))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();const nQ=/^\)\]\}',?\n/;let nO=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new ui(i.getAllResponseHeaders()),g=function rQ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new bv({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let C=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof _){const w=_;_=_.replace(nQ,"");try{_=""!==_?JSON.parse(_):null}catch(k){_=w,C&&(C=!1,_={error:k,text:_})}}C?(r.next(new wf({body:_,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new XN({error:_,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new XN({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:dt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:dt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:dt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(F(tR))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();const Tv=new P("XSRF_ENABLED"),rO=new P("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),iO=new P("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sO{}let oQ=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gk(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(F(Ct),F(oa),F(rO))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t})();function aQ(t,e){const n=t.url.toLowerCase();if(!z(Tv)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=z(sO).getToken(),i=z(iO);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ze=(()=>((Ze=Ze||{})[Ze.Interceptors=0]="Interceptors",Ze[Ze.LegacyInterceptors=1]="LegacyInterceptors",Ze[Ze.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ze[Ze.NoXsrfProtection=3]="NoXsrfProtection",Ze[Ze.JsonpSupport=4]="JsonpSupport",Ze[Ze.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ze))();function wa(t,e){return{\u0275kind:t,\u0275providers:e}}function uQ(...t){const e=[JN,nO,eO,{provide:_f,useExisting:eO},{provide:Iv,useExisting:nO},{provide:Uc,useValue:aQ,multi:!0},{provide:Tv,useValue:!0},{provide:sO,useClass:oQ}];for(const n of t)e.push(...n.\u0275providers);return function qH(t){return{\u0275providers:t}}(e)}const oO=new P("LEGACY_INTERCEPTOR_FN");let lQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({providers:[uQ(wa(Ze.LegacyInterceptors,[{provide:oO,useFactory:J9},{provide:Uc,useExisting:oO,multi:!0}]))]}),t})();class Ea{constructor(e){this.httpClient=e}getCards(){return this.httpClient.get("../../assets/files/cards.json")}}function aO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){aO(s,r,i,o,a,"next",u)}function a(u){aO(s,r,i,o,a,"throw",u)}o(void 0)})}}Ea.\u0275fac=function(e){return new(e||Ea)(F(JN))},Ea.\u0275prov=L({token:Ea,factory:Ea.\u0275fac,providedIn:"root"});const uO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new pQ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ef=function(t){return function(t){const e=uO(t);return Av.encodeByteArray(e,!0)}(t).replace(/\./g,"")},If=function(t){try{return Av.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Cf=()=>{try{return function yQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&If(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},IQ=t=>{const e=(t=>{var e,n;return null===(n=null===(e=Cf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CQ=()=>{var t;return null===(t=Cf())||void 0===t?void 0:t.config};class bf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function $n(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function As(){try{return"object"==typeof indexedDB}catch{return!1}}function Bc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function xv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rr.prototype.create)}}class Rr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function xQ(t,e){return t.replace(kQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new gr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const kQ=/\{\$([^}]+)}/g;function kv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dO(s)&&dO(o)){if(!kv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dO(t){return null!==t&&"object"==typeof t}function hO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class NQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function OQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Rv),void 0===i.error&&(i.error=Rv),void 0===i.complete&&(i.complete=Rv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rv(){}const PQ=1e3,FQ=2,LQ=144e5,VQ=.5;function Ov(t,e=PQ,n=FQ){const r=e*Math.pow(n,t),i=Math.round(VQ*r*(Math.random()-.5)*2);return Math.min(LQ,r+i)}function tr(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ms="[DEFAULT]";class BQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function jQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ms?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class HQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Pv=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const fO={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},GQ=pe.INFO,zQ={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},qQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=zQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ia{constructor(e){this.name=e,this._logLevel=GQ,this._logHandler=qQ,this._userLogHandler=null,Pv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const WQ=(t,e)=>e.some(n=>t instanceof n);let pO,gO;const mO=new WeakMap,Fv=new WeakMap,yO=new WeakMap,Lv=new WeakMap,Vv=new WeakMap;let Uv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Fv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||yO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function eY(t){return"function"==typeof t?function ZQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function QQ(){return gO||(gO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Bv(this),e),ci(mO.get(this))}:function(...e){return ci(t.apply(Bv(this),e))}:function(e,...n){const r=t.call(Bv(this),e,...n);return yO.set(r,e.sort?e.sort():[e]),ci(r)}}(t):(t instanceof IDBTransaction&&function XQ(t){if(Fv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fv.set(t,e)}(t),WQ(t,function KQ(){return pO||(pO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Uv):t)}function ci(t){if(t instanceof IDBRequest)return function YQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mO.set(n,t)}).catch(()=>{}),Vv.set(e,t),e}(t);if(Lv.has(t))return Lv.get(t);const e=eY(t);return e!==t&&(Lv.set(t,e),Vv.set(e,t)),e}const Bv=t=>Vv.get(t);function Tf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ci(o.result),u.oldVersion,u.newVersion,ci(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function $v(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ci(n).then(()=>{})}const tY=["get","getKey","getAll","getAllKeys","count"],nY=["put","add","delete","clear"],jv=new Map;function _O(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jv.get(e))return jv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tY.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return jv.set(e,s),s}!function JQ(t){Uv=t(Uv)}(t=>({...t,get:(e,n,r)=>_O(e,n)||t.get(e,n,r),has:(e,n)=>!!_O(e,n)||t.has(e,n)}));class rY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function iY(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Hv="@firebase/app",xs=new Ia("@firebase/app"),Sf="[DEFAULT]",xY={[Hv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ks=new Map,Af=new Map;function kY(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hn(t){const e=t.name;if(Af.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;Af.set(e,t);for(const n of ks.values())kY(n,t);return!0}function Mf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const li=new Rr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class NY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}const xf="9.17.2";function wO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=CQ()),!n)throw li.create("no-options");const s=ks.get(i);if(s){if(kv(n,s.options)&&kv(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new HQ(i);for(const u of Af.values())o.addComponent(u);const a=new NY(n,r,o);return ks.set(i,a),a}function EO(t=Sf){const e=ks.get(t);if(!e&&t===Sf)return wO();if(!e)throw li.create("no-app",{appName:t});return e}function IO(){return Array.from(ks.values())}function et(t,e,n){var r;let i=null!==(r=xY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void xs.warn(a.join(" "))}hn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const OY="firebase-heartbeat-database",PY=1,$c="firebase-heartbeat-store";let zv=null;function CO(){return zv||(zv=Tf(OY,PY,{upgrade:(t,e)=>{0===e&&t.createObjectStore($c)}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),zv}function qv(){return(qv=y(function*(t){try{return(yield CO()).transaction($c).objectStore($c).get(DO(t))}catch(e){if(e instanceof gr)xs.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e?.message});xs.warn(n.message)}}})).apply(this,arguments)}function bO(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=y(function*(t,e){try{const r=(yield CO()).transaction($c,"readwrite");return yield r.objectStore($c).put(e,DO(t)),r.done}catch(n){if(n instanceof gr)xs.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n?.message});xs.warn(r.message)}}})).apply(this,arguments)}function DO(t){return`${t.name}!${t.options.appId}`}class UY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $Y(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=TO(),{heartbeatsToSend:r,unsentEntries:i}=function BY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ef(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function TO(){return(new Date).toISOString().substring(0,10)}class $Y{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!As()&&Bc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function FY(t){return qv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return bO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return bO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function SO(t){return Ef(JSON.stringify({version:2,heartbeats:t})).length}!function jY(t){hn(new Zt("platform-logger",e=>new rY(e),"PRIVATE")),hn(new Zt("heartbeat",e=>new UY(e),"PRIVATE")),et(Hv,"0.9.4",t),et(Hv,"0.9.4","esm2017"),et("fire-js","")}(""),et("firebase","9.17.2","app");const AO="@firebase/installations",Kv="0.6.4",MO=1e4,xO=`w:${Kv}`,kO="FIS_v2",zY="https://firebaseinstallations.googleapis.com/v1",qY=36e5,di=new Rr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function RO(t){return t instanceof gr&&t.code.includes("request-failed")}function Qv({projectId:t}){return`${zY}/projects/${t}/installations`}function NO(t){return{token:t.token,requestStatus:2,expiresIn:YY(t.expiresIn),creationTime:Date.now()}}function Yv(t,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=y(function*(t,e){const r=(yield e.json()).error;return di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jv(t){return Zv.apply(this,arguments)}function Zv(){return(Zv=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function YY(t){return Number(t.replace("s","000"))}function ew(){return(ew=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Qv(t),i=OO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:kO,appId:t.appId,sdkVersion:xO})},u=yield Jv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:NO(c.authToken)}}throw yield Yv("Create Installation",u)})).apply(this,arguments)}function FO(t){return new Promise(e=>{setTimeout(e,t)})}const eX=/^[cdef][\w-]{21}$/,tw="";function tX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function nX(t){return function ZY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return eX.test(n)?n:tw}catch{return tw}}function Ca(t){return`${t.appName}!${t.appId}`}const ba=new Map;function LO(t,e){const n=Ca(t);VO(n,e),function sX(t,e){const n=function UO(){return!Rs&&"BroadcastChannel"in self&&(Rs=new BroadcastChannel("[Firebase] FID Change"),Rs.onmessage=t=>{VO(t.data.key,t.data.fid)}),Rs}();n&&n.postMessage({key:t,fid:e}),function BO(){0===ba.size&&Rs&&(Rs.close(),Rs=null)}()}(n,e)}function VO(t,e){const n=ba.get(t);if(n)for(const r of n)r(e)}let Rs=null;const oX="firebase-installations-database",aX=1,Ns="firebase-installations-store";let nw=null;function rw(){return nw||(nw=Tf(oX,aX,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ns)}})),nw}function kf(t,e){return iw.apply(this,arguments)}function iw(){return(iw=y(function*(t,e){const n=Ca(t),i=(yield rw()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&LO(t,e.fid),e})).apply(this,arguments)}function sw(t){return ow.apply(this,arguments)}function ow(){return(ow=y(function*(t){const e=Ca(t),r=(yield rw()).transaction(Ns,"readwrite");yield r.objectStore(Ns).delete(e),yield r.done})).apply(this,arguments)}function jc(t,e){return aw.apply(this,arguments)}function aw(){return(aw=y(function*(t,e){const n=Ca(t),i=(yield rw()).transaction(Ns,"readwrite"),s=i.objectStore(Ns),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&LO(t,a.fid),a})).apply(this,arguments)}function uw(t){return cw.apply(this,arguments)}function cw(){return cw=y(function*(t){let e;const n=yield jc(t.appConfig,r=>{const i=function uX(t){return jO(t||{fid:tX(),registrationStatus:0})}(r),s=function cX(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(di.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function lX(t,e){return lw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dX(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===tw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),cw.apply(this,arguments)}function lw(){return lw=y(function*(t,e){try{const n=yield function JY(t,e){return ew.apply(this,arguments)}(t,e);return kf(t.appConfig,n)}catch(n){throw RO(n)&&409===n.customData.serverCode?yield sw(t.appConfig):yield kf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),lw.apply(this,arguments)}function dX(t){return dw.apply(this,arguments)}function dw(){return(dw=y(function*(t){let e=yield $O(t.appConfig);for(;1===e.registrationStatus;)yield FO(100),e=yield $O(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield uw(t);return r||n}return e})).apply(this,arguments)}function $O(t){return jc(t,e=>{if(!e)throw di.create("installation-not-found");return jO(e)})}function jO(t){return function hX(t){return 1===t.registrationStatus&&t.registrationTime+MO<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function hw(){return(hw=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function pX(t,{fid:e}){return`${Qv(t)}/${e}/authTokens:generate`}(t,n),i=function PO(t,{refreshToken:e}){const n=OO(t);return n.append("Authorization",function XY(t){return`${kO} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:xO,appId:t.appId}})},u=yield Jv(()=>fetch(r,a));if(u.ok)return NO(yield u.json());throw yield Yv("Generate Auth Token",u)})).apply(this,arguments)}function fw(t){return pw.apply(this,arguments)}function pw(){return pw=y(function*(t,e=!1){let n;const r=yield jc(t.appConfig,s=>{if(!GO(s))throw di.create("not-registered");const o=s.authToken;if(!e&&function yX(t){return 2===t.requestStatus&&!function _X(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qY}(t)}(o))return s;if(1===o.requestStatus)return n=function gX(t,e){return gw.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw di.create("app-offline");const a=function vX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function mX(t,e){return mw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),pw.apply(this,arguments)}function gw(){return(gw=y(function*(t,e){let n=yield HO(t.appConfig);for(;1===n.authToken.requestStatus;)yield FO(100),n=yield HO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?fw(t,e):r})).apply(this,arguments)}function HO(t){return jc(t,e=>{if(!GO(e))throw di.create("not-registered");return function wX(t){return 1===t.requestStatus&&t.requestTime+MO<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function mw(){return mw=y(function*(t,e){try{const n=yield function fX(t,e){return hw.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield kf(t.appConfig,r),n}catch(n){if(!RO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield kf(t.appConfig,r)}else yield sw(t.appConfig);throw n}}),mw.apply(this,arguments)}function GO(t){return void 0!==t&&2===t.registrationStatus}function yw(){return(yw=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield uw(e);return r?r.catch(console.error):fw(e).catch(console.error),n.fid})).apply(this,arguments)}function _w(){return _w=y(function*(t,e=!1){const n=t;return yield function CX(t){return vw.apply(this,arguments)}(n),(yield fw(n,e)).token}),_w.apply(this,arguments)}function vw(){return(vw=y(function*(t){const{registrationPromise:e}=yield uw(t);e&&(yield e)})).apply(this,arguments)}function Iw(t){return di.create("missing-app-config-values",{valueName:t})}const zO="installations",AX=t=>{const e=t.getProvider("app").getImmediate(),n=function TX(t){if(!t||!t.options)throw Iw("App Configuration");if(!t.name)throw Iw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Mf(e,"heartbeat"),_delete:()=>Promise.resolve()}},MX=t=>{const n=Mf(t.getProvider("app").getImmediate(),zO).getImmediate();return{getId:()=>function EX(t){return yw.apply(this,arguments)}(n),getToken:i=>function IX(t){return _w.apply(this,arguments)}(n,i)}};(function xX(){hn(new Zt(zO,AX,"PUBLIC")),hn(new Zt("installations-internal",MX,"PRIVATE"))})(),et(AO,Kv),et(AO,Kv,"esm2017");const Cw="@firebase/remote-config",bn=new Rr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $X{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function jX(t=navigator){return t.languages&&t.languages[0]||t.language}class HX{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:jX()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((_,C)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",C(w)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(_){let C="fetch-client-network";throw"AbortError"===_?.name&&(C="fetch-timeout"),bn.create(C,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(C){throw bn.create("fetch-client-parse",{originalErrorMessage:C?.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class qX{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function GX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function zX(t){if(!(t instanceof gr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ov(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class QX{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nf(t,e){const n=t.target.error||void 0;return bn.create(e,{originalErrorMessage:n&&n?.message})}const Os="app_namespace_store";class ZX{constructor(e,n,r,i=function JX(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Nf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Os,{keyPath:"compositeKey"})}}catch(n){e(bn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Os],"readonly").objectStore(Os),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Nf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(bn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Os],"readwrite").objectStore(Os),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Nf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(bn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Os],"readwrite").objectStore(Os),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Nf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(bn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class eJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nJ(){return Aw.apply(this,arguments)}function Aw(){return(Aw=y(function*(){if(!As())return!1;try{return yield Bc()}catch{return!1}})).apply(this,arguments)}!function tJ(){hn(new Zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bn.create("registration-window");if(!As())throw bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw bn.create("registration-project-id");if(!o)throw bn.create("registration-api-key");if(!a)throw bn.create("registration-app-id");const u=new ZX(a,r.name,n=n||"firebase"),c=new eJ(u),l=new Ia(Cw);l.logLevel=pe.ERROR;const d=new HX(i,xf,n,s,o,a),h=new qX(d,u),f=new $X(h,u,c,l),p=new QX(r,f,c,u,l);return function VX(t){const e=tr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),et(Cw,"0.4.4"),et(Cw,"0.4.4","esm2017")}();const rJ="/firebase-messaging-sw.js",iJ="/firebase-cloud-messaging-push-scope",QO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sJ="https://fcmregistrations.googleapis.com/v1",YO="google.c.a.c_id",oJ="google.c.a.c_l",aJ="google.c.a.ts",uJ="google.c.a.e";var Da=(()=>{return(t=Da||(Da={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Da;var t})();function hi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cJ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Mw="fcm_token_details_db",lJ=5,XO="fcm_token_object_Store";function xw(){return xw=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Mw))return null;let e=null;return(yield Tf(Mw,lJ,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(XO))return;const c=a.objectStore(XO),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:hi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hi(d.auth),p256dh:hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hi(d.auth),p256dh:hi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield $v(Mw),yield $v("fcm_vapid_details_db"),yield $v("undefined"),function hJ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),xw.apply(this,arguments)}const fJ="firebase-messaging-database",pJ=1,Ps="firebase-messaging-store";let kw=null;function Rw(){return kw||(kw=Tf(fJ,pJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ps)}})),kw}function JO(t){return Nw.apply(this,arguments)}function Nw(){return Nw=y(function*(t){const e=Lw(t),r=yield(yield Rw()).transaction(Ps).objectStore(Ps).get(e);if(r)return r;{const i=yield function dJ(t){return xw.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Ow(t,i),i}}),Nw.apply(this,arguments)}function Ow(t,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=y(function*(t,e){const n=Lw(t),i=(yield Rw()).transaction(Ps,"readwrite");return yield i.objectStore(Ps).put(e,n),yield i.done,e})).apply(this,arguments)}function Fw(){return(Fw=y(function*(t){const e=Lw(t),r=(yield Rw()).transaction(Ps,"readwrite");yield r.objectStore(Ps).delete(e),yield r.done})).apply(this,arguments)}function Lw({appConfig:t}){return t.appId}const Ut=new Rr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yJ(t,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=y(function*(t,e){const n=yield jw(t),r=eP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch($w(t.appConfig),i)).json()}catch(o){throw Ut.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ut.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Uw(){return(Uw=y(function*(t,e){const n=yield jw(t),r=eP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${$w(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ut.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ut.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ut.create("token-update-no-token");return s.token})).apply(this,arguments)}function ZO(t,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=y(function*(t,e){const r={method:"DELETE",headers:yield jw(t)};try{const s=yield(yield fetch(`${$w(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ut.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ut.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function $w({projectId:t}){return`${sJ}/projects/${t}/registrations`}function jw(t){return Hw.apply(this,arguments)}function Hw(){return(Hw=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function eP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==QO&&(i.web.applicationPubKey=r),i}const vJ=6048e5;function Gw(){return Gw=y(function*(t){const e=yield function IJ(t,e){return Kw.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hi(e.getKey("auth")),p256dh:hi(e.getKey("p256dh"))},r=yield JO(t.firebaseDependencies);if(r){if(function CJ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+vJ?function EJ(t,e){return qw.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ZO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return nP(t.firebaseDependencies,n)}return nP(t.firebaseDependencies,n)}),Gw.apply(this,arguments)}function zw(){return zw=y(function*(t){const e=yield JO(t.firebaseDependencies);e&&(yield ZO(t.firebaseDependencies,e.token),yield function gJ(t){return Fw.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),zw.apply(this,arguments)}function qw(){return qw=y(function*(t,e){try{const n=yield function _J(t,e){return Uw.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Ow(t.firebaseDependencies,r),n}catch(n){throw yield function tP(t){return zw.apply(this,arguments)}(t),n}}),qw.apply(this,arguments)}function nP(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=y(function*(t,e){const r={token:yield yJ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Ow(t,r),r.token})).apply(this,arguments)}function Kw(){return(Kw=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cJ(e)})})).apply(this,arguments)}function rP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function bJ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function DJ(t,e){e.data&&(t.data=e.data)}(e,t),function TJ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function iP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Qw(t){return Ut.create("missing-app-config-values",{valueName:t})}iP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),iP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class MJ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function AJ(t){if(!t||!t.options)throw Qw("App Configuration Object");if(!t.name)throw Qw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Qw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function sP(t){return Yw.apply(this,arguments)}function Yw(){return(Yw=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(rJ,{scope:iJ}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ut.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Xw(){return(Xw=y(function*(t,e){if(!e&&!t.swRegistration&&(yield sP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ut.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Jw(){return(Jw=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=QO)})).apply(this,arguments)}function Zw(){return Zw=y(function*(t,e){if(!navigator)throw Ut.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ut.create("permission-blocked");return yield function kJ(t,e){return Jw.apply(this,arguments)}(t,e?.vapidKey),yield function xJ(t,e){return Xw.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function wJ(t){return Gw.apply(this,arguments)}(t)}),Zw.apply(this,arguments)}function e0(){return(e0=y(function*(t,e,n){const r=function NJ(t){switch(t){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[YO],message_name:n[oJ],message_time:n[aJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function t0(){return t0=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Da.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(rP(n)):t.onMessageHandler.next(rP(n)));const r=n.data;(function SJ(t){return"object"==typeof t&&!!t&&YO in t})(r)&&"1"===r[uJ]&&(yield function RJ(t,e,n){return e0.apply(this,arguments)}(t,n.messageType,r))}),t0.apply(this,arguments)}const aP="@firebase/messaging",PJ=t=>{const e=new MJ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function OJ(t,e){return t0.apply(this,arguments)}(e,n)),e},FJ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function oP(t,e){return Zw.apply(this,arguments)}(e,r)}};function cP(){return n0.apply(this,arguments)}function n0(){return(n0=y(function*(){try{yield Bc()}catch{return!1}return typeof window<"u"&&As()&&xv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function LJ(){hn(new Zt("messaging",PJ,"PUBLIC")),hn(new Zt("messaging-internal",FJ,"PRIVATE")),et(aP,"0.12.4"),et(aP,"0.12.4","esm2017")}();const Of="analytics",BJ="firebase_id",$J="origin",jJ=6e4,HJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lP="https://www.googletagmanager.com/gtag/js",Bt=new Ia("@firebase/analytics");function dP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function o0(){return(o0=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield dP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Bt.error(a)}t("config",i,s)})).apply(this,arguments)}function a0(){return(a0=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield dP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Bt.error(s)}})).apply(this,arguments)}const jn=new Rr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),JJ=30,hP=new class eZ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function u0(){return(u0=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tZ(r)},s=HJ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function c0(){return(c0=y(function*(t,e=hP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw jn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new oZ;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:jJ),fP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function fP(t,e,n){return l0.apply(this,arguments)}function l0(){return l0=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hP){var s;const{appId:o,measurementId:a}=t;try{yield function iZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function nZ(t){return u0.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function sZ(t){if(!(t instanceof gr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Ov(n,i.intervalMillis,JJ):Ov(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Bt.debug(`Calling attemptFetch again in ${l} millis`),fP(t,d,r,i)}}),l0.apply(this,arguments)}class oZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let d0,y0;function h0(){return(h0=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function _0(){return(_0=y(function*(){if(!As())return Bt.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Bc()}catch(t){return Bt.warn(jn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function v0(){return v0=y(function*(t,e,n,r,i,s,o){var a;const u=function rZ(t){return c0.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Bt.error(f)),e.push(u);const c=function hZ(){return _0.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function YJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lP)&&n.src.includes(t))return n;return null})(s)||function GJ(t,e){const n=document.createElement("script");n.src=`${lP}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(s,l.measurementId),y0&&(i("consent","default",y0),function pP(t){y0=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[$J]="firebase",h.update=!0,null!=d&&(h[BJ]=d),i("config",l.measurementId,h),d0&&(i("set",d0),function gP(t){d0=t}(void 0)),l.measurementId}),v0.apply(this,arguments)}class pZ{constructor(e){this.app=e}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},mP=[];const yP={};let vP,pi,Pf="dataLayer",_P="gtag",w0=!1;function mZ(t,e,n){!function gZ(){const t=[];if(Mv()&&t.push("This is a browser extension environment."),xv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw jn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw jn.create("no-api-key");Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[r])throw jn.create("already-exists",{id:r});if(!w0){!function zJ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Pf);const{wrappedGtag:s,gtagCore:o}=function QJ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function KJ(t,e,n,r){function s(){return s=y(function*(o,a,u){try{"event"===o?yield function WJ(t,e,n,r,i){return a0.apply(this,arguments)}(t,e,n,a,u):"config"===o?yield function qJ(t,e,n,r,i,s){return o0.apply(this,arguments)}(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Bt.error(c)}}),s.apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(fi,mP,yP,Pf,_P);pi=s,vP=o,w0=!0}return fi[r]=function fZ(t,e,n,r,i,s,o){return v0.apply(this,arguments)}(t,mP,yP,e,vP,Pf,n),new pZ(t)}function _Z(){return E0.apply(this,arguments)}function E0(){return(E0=y(function*(){if(Mv()||!xv()||!As())return!1;try{return yield Bc()}catch{return!1}})).apply(this,arguments)}const wP="@firebase/analytics";!function wZ(){hn(new Zt(Of,(e,{options:n})=>mZ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),hn(new Zt("analytics-internal",function t(e){try{const n=e.getProvider(Of).getImmediate();return{logEvent:(r,i,s)=>function vZ(t,e,n,r){t=tr(t),function aZ(t,e,n,r,i){return h0.apply(this,arguments)}(pi,fi[t.app.options.appId],e,n,r).catch(i=>Bt.error(i))}(n,r,i,s)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),et(wP,"0.9.4"),et(wP,"0.9.4","esm2017")}();class EZ extends xn{constructor(e,n){super()}schedule(e,n=0){return this}}const Ff={setInterval(t,e,...n){const{delegate:r}=Ff;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ff;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class IP extends EZ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ff.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ff.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,_o(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const CP={now:()=>(CP.delegate||Date).now(),delegate:void 0};class Hc{constructor(e,n=Hc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Hc.now=CP.now;class bP extends Hc{constructor(e,n=Hc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const bZ=new class CZ extends bP{}(class IZ extends IP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),DZ=new bP(IP),I0=new Bo("7.5.0"),C0="__angularfire_symbol__analyticsIsSupportedValue",b0="__angularfire_symbol__analyticsIsSupported",D0="__angularfire_symbol__remoteConfigIsSupportedValue",T0="__angularfire_symbol__remoteConfigIsSupported",S0="__angularfire_symbol__messagingIsSupportedValue",A0="__angularfire_symbol__messagingIsSupported";globalThis[b0]||(globalThis[b0]=_Z().then(t=>globalThis[C0]=t).catch(()=>globalThis[C0]=!1)),globalThis[A0]||(globalThis[A0]=cP().then(t=>globalThis[S0]=t).catch(()=>globalThis[S0]=!1)),globalThis[T0]||(globalThis[T0]=nJ().then(t=>globalThis[D0]=t).catch(()=>globalThis[D0]=!1));const k0=(t,e)=>{const n=e?[e]:IO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ta(){}class DP{constructor(e,n=bZ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class TZ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta)),n.pipe(Lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let TP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new DP(Zone.current)),this.insideAngular=n.run(()=>new DP(Zone.current,DZ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(Le))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ls(t){return Fs().ngZone.run(()=>t())}function AZ(t){return Fs(),function MZ(t){return function(n){return(n=n.lift(new TZ(t.ngZone))).pipe(Id(t.outsideAngular),Ed(t.insideAngular))}}(Fs())(t)}const xZ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ls(()=>t.apply(void 0,r))},Gc=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ls(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta)))),r[s]=xZ(r[s],n));const i=function SZ(t){return Fs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Pe){const s=Fs();return i.pipe(Id(s.outsideAngular),Ed(s.insideAngular))}return Ls(()=>i)}return i instanceof Pe?i.pipe(AZ):i instanceof Promise?Ls(()=>new Promise((s,o)=>i.then(a=>Ls(()=>s(a)),a=>Ls(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ls(()=>i)};class Sa{constructor(e){return e}}class SP{constructor(){return IO()}}const R0=new P("angularfire2._apps"),RZ={provide:Sa,useFactory:function kZ(t){return t&&1===t.length?t[0]:new Sa(EO())},deps:[[new cn,R0]]},NZ={provide:SP,deps:[[new cn,R0]]};function OZ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Sa(r)}}let PZ=(()=>{class t{constructor(n){et("angularfire",I0.full,"core"),et("angularfire",I0.full,"app"),et("angular",QA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(oa))},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({providers:[RZ,NZ]}),t})();const LZ=Gc(wO,!0);const VZ=function AP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},MP=new Rr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xP=new Ia("@firebase/auth");function Lf(t,...e){xP.logLevel<=pe.ERROR&&xP.error(`Auth (${xf}): ${t}`,...e)}function Dn(t,...e){throw N0(t,...e)}function Nr(t,...e){return N0(t,...e)}function N0(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MP.create(t,...e)}function A(t,e,...n){if(!t)throw N0(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Bi(t,e){t||Or(e)}const RP=new Map;function gi(t){Bi(t instanceof Function,"Expected a class definition");let e=RP.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RP.set(t,e),e)}function NP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=function TQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}()||function AQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function $Z(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function O0(){return"http:"===NP()||"https:"===NP()}()||Mv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class OP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},GZ=new qc(3e4,6e4);function Dt(t,e,n,r){return F0.apply(this,arguments)}function F0(){return(F0=y(function*(t,e,n,r,i={}){return PP(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=hO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),OP.fetch()(FP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function PP(t,e,n){return L0.apply(this,arguments)}function L0(){return(L0=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HZ),e);try{const i=new zZ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Wc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Wc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Wc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function kP(t,e,n){const r=Object.assign(Object.assign({},VZ()),{[e]:n});return new Rr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Dn(t,l)}}catch(i){if(i instanceof gr)throw i;Dn(t,"internal-error",{message:String(i)})}})).apply(this,arguments)}function FP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function P0(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class zZ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),GZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}function U0(){return(U0=y(function*(t,e){return Dt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $0(){return($0=y(function*(t,e){return Dt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function j0(){return(j0=y(function*(t,e=!1){const n=tr(t),r=yield n.getIdToken(e),i=Vf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Kc(H0(i.auth_time)),issuedAtTime:Kc(H0(i.iat)),expirationTime:Kc(H0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function H0(t){return 1e3*Number(t)}function Vf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=If(n);return i?JSON.parse(i):(Lf("Failed to decode base64 JWT payload"),null)}catch(i){return Lf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yi(t,e){return G0.apply(this,arguments)}function G0(){return(G0=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof gr&&function XZ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class JZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class LP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qc(t){return z0.apply(this,arguments)}function z0(){return z0=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield yi(t,function KZ(t,e){return $0.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function tee(t){return t.map(e=>{var{providerId:n}=e,r=DT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function eee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new LP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),z0.apply(this,arguments)}function q0(){return(q0=y(function*(t){const e=tr(t);yield Qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function W0(){return(W0=y(function*(t,e){const n=yield PP(t,{},y(function*(){const r=hO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function YZ(t){const e=Vf(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function nee(t,e){return W0.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Yc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return Or("not implemented")}}function $i(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=DT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new LP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield yi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function QZ(t){return j0.apply(this,arguments)}(this,e)}reload(){return function ZZ(t){return q0.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Qc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield yi(e,function qZ(t,e){return U0.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,_=null!==(c=n.createdAt)&&void 0!==c?c:void 0,C=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:k,isAnonymous:B,providerData:H,stsTokenManager:st}=n;A(w&&st,e,"internal-error");const yo=Yc.fromJSON(this.name,st);A("string"==typeof w,e,"internal-error"),$i(d,e.name),$i(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof B,e,"internal-error"),$i(f,e.name),$i(p,e.name),$i(g,e.name),$i(m,e.name),$i(_,e.name),$i(C,e.name);const pT=new Vs({uid:w,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:B,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:yo,createdAt:_,lastLoginAt:C});return H&&Array.isArray(H)&&(pT.providerData=H.map(cce=>Object.assign({},cce))),m&&(pT._redirectEventId=m),pT}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Yc;i.updateFromServerResponse(n);const s=new Vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qc(s),s})()}}const VP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Vs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Ma(gi(VP),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||gi(VP);const o=Uf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Vs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ma(s,e,r)):new Ma(s,e,r)})()}}function UP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function jP(t=$n()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function BP(t=$n()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function GP(t=$n()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function zP(t=$n()){return/webos/i.test(t)}(e))return"Webos";if(function K0(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function $P(t=$n()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function HP(t=$n()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function qP(t,e=[]){let n;switch(t){case"Browser":n=UP($n());break;case"Worker":n=`${UP($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xf}/${r}`}class see{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class oee{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WP(this),this.idTokenSubscription=new WP(this),this.beforeStateQueue=new see(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ma.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Qc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function jZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?tr(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(gi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&gi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ma.create(n,[gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class WP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function RQ(t,e){const n=new NQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function hF(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new qc(3e4,6e4),new qc(2e3,1e4),new qc(3e4,6e4),new qc(5e3,15e3);var bF="@firebase/auth";class Jte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Cf(),function ene(t){hn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qP(t)},l=new oee(a,u,c);return function BZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hn(new Zt("auth-internal",e=>{const n=function Tn(t){return tr(t)}(e.getProvider("auth").getImmediate());return new Jte(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(bF,"0.21.4",function Zte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),et(bF,"0.21.4","esm2017")}("Browser");class AF{constructor(){return k0("auth")}}const xI=new Map,MF={activated:!1,tokenObservers:[]},ane={initialized:!1,enabled:!1};function $t(t){return xI.get(t)||Object.assign({},MF)}function Xf(){return ane}const kI="https://content-firebaseappcheck.googleapis.com/v1",dne="exchangeDebugToken",xF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class fne{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new bf,yield function pne(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new bf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const fn=new Rr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OI(){return OI=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw fn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw fn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw fn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw fn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),OI.apply(this,arguments)}const vne="firebase-app-check-database",wne=1,tl="firebase-app-check-store";let ep=null;function PI(){return PI=y(function*(t,e){const r=(yield function NF(){return ep||(ep=new Promise((t,e)=>{try{const n=indexedDB.open(vne,wne);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(fn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tl,{keyPath:"compositeKey"})}}catch(n){e(fn.create("storage-open",{originalErrorMessage:n?.message}))}}),ep)}()).transaction(tl,"readwrite"),s=r.objectStore(tl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(fn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),PI.apply(this,arguments)}const nl=new Ia("@firebase/app-check");function VI(t,e){return As()?function Ine(t,e){return function OF(t,e){return PI.apply(this,arguments)}(function FF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{nl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function BI(){return BI=y(function*(){const t=Xf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BI.apply(this,arguments)}const Ane={error:"UNKNOWN_ERROR"};function Mne(t){return Av.encodeString(JSON.stringify(t),!1)}function tp(t){return $I.apply(this,arguments)}function $I(){return $I=y(function*(t,e=!1){const n=t.app;!function kF(t){if(!$t(t).activated)throw fn.create("use-before-activation",{appName:t.name})}(n);const r=$t(n);let s,i=r.token;if(i&&!xa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(xa(u)?i=u:yield VI(n,void 0))}if(!e&&i&&xa(i))return{token:i.token};let a,o=!1;if(function LF(){return Xf().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function NI(t,e){return OI.apply(this,arguments)}(function _ne(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${kI}/projects/${n}/apps/${r}:${dne}?key=${i}`,body:{debug_token:e}}}(n,yield function VF(){return BI.apply(this,arguments)}()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield VI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield $t(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?nl.warn(u.message):nl.error(u),s=u}return i?s?a=xa(i)?{token:i.token,internalError:s}:$F(s):(a={token:i.token},r.token=i,yield VI(n,i)):a=$F(s),o&&function BF(t,e){const n=$t(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),$I.apply(this,arguments)}function HI(t,e){const n=$t(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UF(t){const{app:e}=t,n=$t(e);let r=n.tokenRefresher;r||(r=function xne(t){const{app:e}=t;return new fne(y(function*(){let r;if(r=$t(e).token?yield tp(t,!0):yield tp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$t(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},xF.RETRIAL_MIN_WAIT,xF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function xa(t){return t.expireTimeMillis-Date.now()>0}function $F(t){return{token:Mne(Ane),error:t}}class kne{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$t(this.app);for(const n of e)HI(this.app,n.next);return Promise.resolve()}}const QF="app-check-internal";!function zne(){hn(new Zt("app-check",t=>function Rne(t,e){return new kne(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(QF).initialize()})),hn(new Zt(QF,t=>function Nne(t){return{getToken:e=>tp(t,e),addTokenListener:e=>function jI(t,e,n,r){const{app:i}=t,s=$t(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&xa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),UF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UF(t))}(t,"INTERNAL",e),removeTokenListener:e=>HI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),et("@firebase/app-check","0.6.4")}();class XF{constructor(){return k0("app-check")}}typeof window<"u"&&window;var V,Yne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vi={},KI=KI||{},J=Yne||self;function rp(){}function ip(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var QI="closure_uid_"+(1e9*Math.random()>>>0),Jne=0;function Zne(t,e,n){return t.call.apply(t.bind,arguments)}function ere(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zne:ere).apply(null,arguments)}function sp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function jt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ji(){this.s=this.s,this.o=this.o}ji.prototype.s=!1,ji.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Xne(t){Object.prototype.hasOwnProperty.call(t,QI)&&t[QI]||(t[QI]=++Jne)}(this)},ji.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function YI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ZF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ip(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var nre=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",rp,e),J.removeEventListener("test",rp,e)}catch{}return t}();function op(t){return/^[\s\xa0]*$/.test(t)}var eL=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function XI(t,e){return t<e?-1:t>e?1:0}function ap(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Pr(t){return-1!=ap().indexOf(t)}function JI(t){return JI[" "](t),t}JI[" "]=rp;var up,ire=Pr("Opera"),ka=Pr("Trident")||Pr("MSIE"),tL=Pr("Edge"),ZI=tL||ka,nL=Pr("Gecko")&&!(-1!=ap().toLowerCase().indexOf("webkit")&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),sre=-1!=ap().toLowerCase().indexOf("webkit")&&!Pr("Edge");function rL(){var t=J.document;return t?t.documentMode:void 0}e:{var eC="",tC=function(){var t=ap();return nL?/rv:([^\);]+)(\)|;)/.exec(t):tL?/Edge\/([\d\.]+)/.exec(t):ka?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):sre?/WebKit\/(\S+)/.exec(t):ire?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tC&&(eC=tC?tC[1]:""),ka){var nC=rL();if(null!=nC&&nC>parseFloat(eC)){up=String(nC);break e}}up=eC}var ore={};var ure=J.document&&ka&&(rL()||parseInt(up,10))||void 0;function il(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nL){e:{try{JI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cre[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&il.X.h.call(this)}}jt(il,tn);var cre={2:"touch",3:"pen",4:"mouse"};il.prototype.h=function(){il.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),lre=0;function dre(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++lre,this.ba=this.ea=!1}function cp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function iC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sL(t){const e={};for(const n in t)e[n]=t[n];return e}const oL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<oL.length;s++)n=oL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lp(t){this.src=t,this.g={},this.h=0}function sC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=JF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function oC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}lp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=oC(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new dre(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var aC="closure_lm_"+(1e6*Math.random()|0),uC={};function uL(t,e,n,r,i){if(r&&r.once)return lL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uL(t,e[s],n,r,i);return null}return n=hC(n),t&&t[sl]?t.N(e,n,rl(r)?!!r.capture:!!r,i):cL(t,e,n,!1,r,i)}function cL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=rl(i)?!!i.capture:!!i,a=lC(t);if(a||(t[aC]=a=new lp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function hre(){const e=fre;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nre||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lL(t,e[s],n,r,i);return null}return n=hC(n),t&&t[sl]?t.O(e,n,rl(r)?!!r.capture:!!r,i):cL(t,e,n,!0,r,i)}function dL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dL(t,e[s],n,r,i);else r=rl(r)?!!r.capture:!!r,n=hC(n),t&&t[sl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=oC(s=t.g[e],n,r,i))&&(cp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=lC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oC(e,n,r,i)),(n=-1<t?e[t]:null)&&cC(n))}function cC(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[sl])sC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lC(e))?(sC(n,t),0==n.h&&(n.src=null,e[aC]=null)):cp(t)}}}function hL(t){return t in uC?uC[t]:uC[t]="on"+t}function fre(t,e){if(t.ba)t=!0;else{e=new il(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&cC(t),t=n.call(r,e)}return t}function lC(t){return(t=t[aC])instanceof lp?t:null}var dC="__closure_events_fn_"+(1e9*Math.random()>>>0);function hC(t){return"function"==typeof t?t:(t[dC]||(t[dC]=function(e){return t.handleEvent(e)}),t[dC])}function Tt(){ji.call(this),this.i=new lp(this),this.P=this,this.I=null}function Ht(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;aL(e=new tn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dp(o,r,!0,e)&&i}if(i=dp(o=e.g=t,r,!0,e)&&i,i=dp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=dp(o=e.g=n[s],r,!1,e)&&i}function dp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&sC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}jt(Tt,ji),Tt.prototype[sl]=!0,Tt.prototype.removeEventListener=function(t,e,n,r){dL(this,t,e,n,r)},Tt.prototype.M=function(){if(Tt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cp(n[r]);delete t.g[e],t.h--}}this.I=null},Tt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var fC=J.JSON.stringify;function pre(){var t=gL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var pC,fL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mre,t=>t.reset());class mre{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yre(t){J.setTimeout(()=>{throw t},0)}function pL(t,e){pC||function _re(){var t=J.Promise.resolve(void 0);pC=function(){t.then(vre)}}(),gC||(pC(),gC=!0),gL.add(t,e)}var gC=!1,gL=new class gre{constructor(){this.h=this.g=null}add(e,n){const r=fL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function vre(){for(var t;t=pre();){try{t.h.call(t.g)}catch(n){yre(n)}var e=fL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gC=!1}function hp(t,e){Tt.call(this),this.h=t||1,this.g=e||J,this.j=en(this.lb,this),this.l=Date.now()}function mC(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function yC(t,e,n){if("function"==typeof t)n&&(t=en(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=en(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function mL(t){t.g=yC(()=>{t.g=null,t.i&&(t.i=!1,mL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}jt(hp,Tt),(V=hp.prototype).ca=!1,V.R=null,V.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ht(this,"tick"),this.ca&&(mC(this),this.start()))}},V.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.M=function(){hp.X.M.call(this),mC(this),delete this.g};class wre extends ji{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mL(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(t){ji.call(this),this.h=t,this.g={}}jt(ol,ji);var yL=[];function _L(t,e,n,r){Array.isArray(n)||(n&&(yL[0]=n.toString()),n=yL);for(var i=0;i<n.length;i++){var s=uL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function vL(t){iC(t.g,function(e,n){this.g.hasOwnProperty(n)&&cC(e)},t),t.g={}}function fp(){this.g=!0}function Ra(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}ol.prototype.M=function(){ol.X.M.call(this),vL(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fp.prototype.Aa=function(){this.g=!1},fp.prototype.info=function(){};var js={},wL=null;function pp(){return wL=wL||new Tt}function EL(t){tn.call(this,js.Pa,t)}function al(t){const e=pp();Ht(e,new EL(e))}function IL(t,e){tn.call(this,js.STAT_EVENT,t),this.stat=e}function pn(t){const e=pp();Ht(e,new IL(e,t))}function CL(t,e){tn.call(this,js.Qa,t),this.size=e}function ul(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}js.Pa="serverreachability",jt(EL,tn),js.STAT_EVENT="statevent",jt(IL,tn),js.Qa="timingevent",jt(CL,tn);var gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},bL={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _C(){}function TL(){}_C.prototype.h=null;var EC,cl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vC(){tn.call(this,"d")}function wC(){tn.call(this,"c")}function mp(){}function ll(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ol(this),this.O=Dre,this.T=new hp(t=ZI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new SL}function SL(){this.i=null,this.g="",this.h=!1}jt(vC,tn),jt(wC,tn),jt(mp,_C),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},EC=new mp;var Dre=45e3,IC={},yp={};function CC(t,e,n){t.K=1,t.v=Ep(wi(e)),t.s=n,t.P=!0,AL(t,null)}function AL(t,e){t.F=Date.now(),dl(t),t.A=wi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),VL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new SL,t.g=uV(t.l,n?e:null,!t.s),0<t.N&&(t.L=new wre(en(t.La,t,t.g),t.N)),_L(t.S,t.g,"readystatechange",t.ib),e=t.H?sL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),al(),function Ere(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function ML(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function xL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Tre(t,n),i==yp){4==e&&(t.o=4,pn(14),r=!1),Ra(t.j,t.m,null,"[Incomplete Response]");break}if(i==IC){t.o=4,pn(15),Ra(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ra(t.j,t.m,i,null),bC(t,i)}ML(t)&&i!=yp&&i!=IC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,pn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),RC(e),e.K=!0,pn(11))):(Ra(t.j,t.m,n,"[Invalid Chunked Response]"),Hs(t),hl(t))}function Tre(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?yp:(n=Number(e.substring(n,r)),isNaN(n)?IC:(r+=1)+n>e.length?yp:(e=e.substr(r,n),t.C=r+n,e))}function dl(t){t.V=Date.now()+t.O,kL(t,t.O)}function kL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ul(en(t.gb,t),e)}function _p(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function hl(t){0==t.l.G||t.I||iV(t.l,t)}function Hs(t){_p(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,mC(t.T),vL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function bC(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||DC(n.h,t)))if(!t.J&&DC(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Sp(n),Dp(n)}kC(n),pn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ul(en(n.cb,n),6e3));if(1>=$L(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else zs(n,11)}else if((t.J||n.g==t)&&Sp(n),!op(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(TC(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Ve(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=aV(r,r.H?r.ka:null,r.V),o.J){jL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(_p(a),dl(a)),r.g=o}else nV(r);0<n.i.length&&Tp(n)}else"stop"!=c[0]&&"close"!=c[0]||zs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zs(n,7):xC(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}al()}catch{}}function RL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ip(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Are(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ip(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Sre(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(V=ll.prototype).setTimeout=function(t){this.O=t},V.ib=function(t){t=t.target;const e=this.L;e&&3==Ei(t)?e.l():this.La(t)},V.La=function(t){try{if(t==this.g)e:{const l=Ei(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||ZI||this.g&&(this.h.h||this.g.fa()||YL(this.g)))){this.I||4!=l||7==e||al(),_p(this);var n=this.g.aa();this.Y=n;t:if(ML(this)){var r=YL(this.g);t="";var i=r.length,s=4==Ei(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),hl(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Ire(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!op(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,pn(12),Hs(this),hl(this);break e}Ra(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bC(this,n)}this.P?(xL(this,l,o),ZI&&this.i&&3==l&&(_L(this.S,this.T,"tick",this.hb),this.T.start())):(Ra(this.j,this.m,o,null),bC(this,o)),4==l&&Hs(this),this.i&&!this.I&&(4==l?iV(this.l,this):(this.i=!1,dl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),Hs(this),hl(this)}}}catch{}},V.hb=function(){if(this.g){var t=Ei(this.g),e=this.g.fa();this.C<e.length&&(_p(this),xL(this,t,e),this.i&&4!=t&&dl(this))}},V.cancel=function(){this.I=!0,Hs(this)},V.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Cre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(al(),pn(17)),Hs(this),this.o=2,hl(this)):kL(this,this.V-t)};var NL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gs){this.h=void 0!==e?e:t.h,vp(this,t.j),this.s=t.s,this.g=t.g,wp(this,t.m),this.l=t.l,e=t.i;var n=new gl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),OL(this,n),this.o=t.o}else t&&(n=String(t).match(NL))?(this.h=!!e,vp(this,n[1]||"",!0),this.s=fl(n[2]||""),this.g=fl(n[3]||"",!0),wp(this,n[4]),this.l=fl(n[5]||"",!0),OL(this,n[6]||"",!0),this.o=fl(n[7]||"")):(this.h=!!e,this.i=new gl(null,this.h))}function wi(t){return new Gs(t)}function vp(t,e,n){t.j=n?fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function OL(t,e,n){e instanceof gl?(t.i=e,function Pre(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FL(this,r),VL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=pl(e,Nre)),t.i=new gl(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Ep(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Gs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pl(e,PL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(pl(e,PL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(pl(n,"/"==n.charAt(0)?Rre:kre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pl(n,Ore)),t.join("")};var PL=/[#\/\?@]/g,kre=/[#\?:]/g,Rre=/[#\?]/g,Nre=/[#\?@]/g,Ore=/#/g;function gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Mre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function FL(t,e){Hi(t),e=Na(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LL(t,e){return Hi(t),e=Na(t,e),t.g.has(e)}function VL(t,e,n){FL(t,e),0<n.length&&(t.i=null,t.g.set(Na(t,e),YI(n)),t.h+=n.length)}function Na(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function UL(t){this.l=t||Lre,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=gl.prototype).add=function(t,e){Hi(this),this.i=null,t=Na(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},V.forEach=function(t,e){Hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},V.oa=function(){Hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},V.W=function(t){Hi(this);let e=[];if("string"==typeof t)LL(this,t)&&(e=e.concat(this.g.get(Na(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},V.set=function(t,e){return Hi(this),this.i=null,LL(this,t=Na(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},V.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Lre=10;function BL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $L(t){return t.h?1:t.g?t.g.size:0}function DC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function TC(t,e){t.g?t.g.add(e):t.h=e}function jL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function HL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return YI(t.i)}function SC(){}function Vre(){this.g=new SC}function Ure(t,e,n){const r=n||"";try{RL(t,function(i,s){let o=i;rl(i)&&(o=fC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ip(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ml(t){this.l=t.ac||null,this.j=t.jb||!1}function Cp(t,e){Tt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=AC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UL.prototype.cancel=function(){if(this.i=HL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},SC.prototype.stringify=function(t){return J.JSON.stringify(t,void 0)},SC.prototype.parse=function(t){return J.JSON.parse(t,void 0)},jt(ml,_C),ml.prototype.g=function(){return new Cp(this.l,this.j)},ml.prototype.i=function(t){return function(){return t}}({}),jt(Cp,Tt);var AC=0;function GL(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function yl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_l(t)}function _l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(V=Cp.prototype).open=function(t,e){if(this.readyState!=AC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_l(this)},V.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yl(this)),this.readyState=AC},V.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GL(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},V.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yl(this):_l(this),3==this.readyState&&GL(this)}},V.Va=function(t){this.g&&(this.response=this.responseText=t,yl(this))},V.Ua=function(t){this.g&&(this.response=t,yl(this))},V.ga=function(){this.g&&yl(this)},V.setRequestHeader=function(t,e){this.v.append(t,e)},V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Cp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $re=J.JSON.parse;function We(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zL,this.K=this.L=!1}jt(We,Tt);var zL="",jre=/^https?$/i,Hre=["POST","PUT"];function qL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WL(t),bp(t)}function WL(t){t.D||(t.D=!0,Ht(t,"complete"),Ht(t,"error"))}function KL(t){if(t.h&&typeof KI<"u"&&(!t.C[1]||4!=Ei(t)||2!=t.aa()))if(t.v&&4==Ei(t))yC(t.Ha,0,t);else if(Ht(t,"readystatechange"),4==Ei(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(NL)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!jre.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<Ei(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",WL(t)}}finally{bp(t)}}}function bp(t,e){if(t.g){QL(t);const n=t.g,r=t.C[0]?rp:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function QL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function Ei(t){return t.g?t.g.readyState:0}function YL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case zL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function XL(t){let e="";return iC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function MC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JL(t){this.Ca=0,this.i=[],this.j=new fp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vl("baseRetryDelayMs",5e3,t),this.bb=vl("retryDelaySeedMs",1e4,t),this.$a=vl("forwardChannelMaxRetries",2,t),this.ta=vl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new UL(t&&t.concurrentRequestLimit),this.Fa=new Vre,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xC(t){if(ZL(t),3==t.G){var e=t.U++,n=wi(t.F);Ve(n,"SID",t.I),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),wl(t,n),(e=new ll(t,t.j,e,void 0)).K=2,e.v=Ep(wi(n)),n=!1,J.navigator&&J.navigator.sendBeacon&&(n=J.navigator.sendBeacon(e.v.toString(),"")),!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=uV(e.l,null),e.g.da(e.v)),e.F=Date.now(),dl(e)}oV(t)}function Dp(t){t.g&&(RC(t),t.g.cancel(),t.g=null)}function ZL(t){Dp(t),t.u&&(J.clearTimeout(t.u),t.u=null),Sp(t),t.h.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function Tp(t){BL(t.h)||t.m||(t.m=!0,pL(t.Ja,t),t.C=0)}function eV(t,e){var n;n=e?e.m:t.U++;const r=wi(t.F);Ve(r,"SID",t.I),Ve(r,"RID",n),Ve(r,"AID",t.T),wl(t,r),t.o&&t.s&&MC(r,t.o,t.s),n=new ll(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=tV(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),TC(t.h,n),CC(n,r,e)}function wl(t,e){t.ia&&iC(t.ia,function(n,r){Ve(e,r,n)}),t.l&&RL({},function(n,r){Ve(e,r,n)})}function tV(t,e,n){n=Math.min(t.i.length,n);var r=t.l?en(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Ure(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function nV(t){t.g||t.u||(t.Z=1,pL(t.Ia,t),t.A=0)}function kC(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=ul(en(t.Ia,t),sV(t,t.A)),t.A++,0))}function RC(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function rV(t){t.g=new ll(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=wi(t.sa);Ve(e,"RID","rpc"),Ve(e,"SID",t.I),Ve(e,"CI",t.L?"0":"1"),Ve(e,"AID",t.T),Ve(e,"TYPE","xmlhttp"),wl(t,e),t.o&&t.s&&MC(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ep(wi(e)),n.s=null,n.P=!0,AL(n,t)}function Sp(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function iV(t,e){var n=null;if(t.g==e){Sp(t),RC(t),t.g=null;var r=2}else{if(!DC(t.h,e))return;n=e.D,jL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ht(r=pp(),new CL(r,n)),Tp(t)}else nV(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function zre(t,e){return!($L(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=ul(en(t.Ja,t,e),sV(t,t.C)),t.C++,0)))}(t,e)||2==r&&kC(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:zs(t,5);break;case 4:zs(t,10);break;case 3:zs(t,6);break;default:zs(t,2)}}function sV(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function zs(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=en(t.kb,t);n||(n=new Gs("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||vp(n,"https"),Ep(n)),function Bre(t,e){const n=new fp;if(J.Image){const r=new Image;r.onload=sp(Ip,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sp(Ip,n,r,"TestLoadImage: error",!1,e),r.onabort=sp(Ip,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sp(Ip,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else pn(2);t.G=0,t.l&&t.l.va(e),oV(t),ZL(t)}function oV(t){if(t.G=0,t.la=[],t.l){const e=HL(t.h);(0!=e.length||0!=t.i.length)&&(ZF(t.la,e),ZF(t.la,t.i),t.h.i.length=0,YI(t.i),t.i.length=0),t.l.ua()}}function aV(t,e,n){var r=n instanceof Gs?wi(n):new Gs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),wp(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Gs(null,void 0);r&&vp(s,r),e&&(s.g=e),i&&wp(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Ve(r,n,e),Ve(r,"VER",t.ma),wl(t,r),r}function uV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new We(n&&t.Da&&!t.ra?new ml({jb:!0}):t.ra)).Ka(t.H),e}function cV(){}function Ap(){if(ka&&!(10<=Number(ure)))throw Error("Environmental error: no available transport.")}function Hn(t,e){Tt.call(this),this.g=new JL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!op(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!op(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Oa(this)}function lV(t){vC.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function dV(){wC.call(this),this.status=1}function Oa(t){this.g=t}(V=We.prototype).Ka=function(t){this.L=t},V.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():EC.g(),this.C=function DL(t){return t.h||(t.h=t.i())}(this.u?this.u:EC),this.g.onreadystatechange=en(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void qL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=JF(Hre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QL(this),0<this.B&&((this.K=function Gre(t){return ka&&function are(){return function rre(t){var e=ore;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=eL(String(up)).split("."),n=eL("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=XI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||XI(0==i[2].length,0==s[2].length)||XI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.qa,this)):this.A=yC(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qL(this,s)}},V.qa=function(){typeof KI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),bp(this))},V.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bp(this,!0)),We.X.M.call(this)},V.Ha=function(){this.s||(this.F||this.v||this.l?KL(this):this.fb())},V.fb=function(){KL(this)},V.aa=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},V.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$re(e)}},V.Ea=function(){return this.m},V.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=JL.prototype).ma=8,V.G=1,V.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ll(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=sL(s),aL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tV(this,i,e),Ve(n=wi(this.F),"RID",t),Ve(n,"CVER",22),this.D&&Ve(n,"X-HTTP-Session-Id",this.D),wl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(XL(s)))+"&"+e:this.o&&MC(n,this.o,s)),TC(this.h,i),this.Ya&&Ve(n,"TYPE","init"),this.O?(Ve(n,"$req",e),Ve(n,"SID","null"),i.Z=!0,CC(i,n,null)):CC(i,n,e),this.G=2}}else 3==this.G&&(t?eV(this,t):0==this.i.length||BL(this.h)||eV(this))},V.Ia=function(){if(this.u=null,rV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ul(en(this.eb,this),t)}},V.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pn(10),Dp(this),rV(this))},V.cb=function(){null!=this.v&&(this.v=null,Dp(this),kC(this),pn(19))},V.kb=function(t){t?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))},(V=cV.prototype).xa=function(){},V.wa=function(){},V.va=function(){},V.ua=function(){},V.Ra=function(){},Ap.prototype.g=function(t,e){return new Hn(t,e)},jt(Hn,Tt),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;pn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=aV(t,null,t.V),Tp(t)},Hn.prototype.close=function(){xC(this.g)},Hn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=fC(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Tp(e)},Hn.prototype.M=function(){this.g.l=null,delete this.j,xC(this.g),delete this.g,Hn.X.M.call(this)},jt(lV,vC),jt(dV,wC),jt(Oa,cV),Oa.prototype.xa=function(){Ht(this.g,"a")},Oa.prototype.wa=function(t){Ht(this.g,new lV(t))},Oa.prototype.va=function(t){Ht(this.g,new dV)},Oa.prototype.ua=function(){Ht(this.g,"b")},Ap.prototype.createWebChannel=Ap.prototype.g,Hn.prototype.send=Hn.prototype.u,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,gp.NO_ERROR=0,gp.TIMEOUT=8,gp.HTTP_ERROR=6,bL.COMPLETE="complete",TL.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Tt.prototype.listen=Tt.prototype.N,We.prototype.listenOnce=We.prototype.O,We.prototype.getLastError=We.prototype.Oa,We.prototype.getLastErrorCode=We.prototype.Ea,We.prototype.getStatus=We.prototype.aa,We.prototype.getResponseJson=We.prototype.Sa,We.prototype.getResponseText=We.prototype.fa,We.prototype.send=We.prototype.da,We.prototype.setWithCredentials=We.prototype.Ka;var qre=vi.createWebChannelTransport=function(){return new Ap},Wre=vi.getStatEventTarget=function(){return pp()},NC=vi.ErrorCode=gp,Kre=vi.EventType=bL,Qre=vi.Event=js,hV=vi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yre=vi.FetchXmlHttpFactory=ml,Mp=vi.WebChannel=TL,Xre=vi.XhrIo=We;const fV="@firebase/firestore";class St{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");let Pa="9.17.2";const Gi=new Ia("@firebase/firestore");function OC(){return Gi.logLevel}function S(t,...e){if(Gi.logLevel<=pe.DEBUG){const n=e.map(PC);Gi.debug(`Firestore (${Pa}): ${t}`,...n)}}function tt(t,...e){if(Gi.logLevel<=pe.ERROR){const n=e.map(PC);Gi.error(`Firestore (${Pa}): ${t}`,...n)}}function Fa(t,...e){if(Gi.logLevel<=pe.WARN){const n=e.map(PC);Gi.warn(`Firestore (${Pa}): ${t}`,...n)}}function PC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function U(t,e){t||O()}function x(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class Zre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eie{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new pV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new St(e)}}class tie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=St.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(U(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new tie(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rie{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.A=n.token,new gV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class mV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new He(0,0))}static max(){return new j(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class El{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===El.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends El{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const sie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends El{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return sie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ge.fromString(e))}static fromName(e){return new M(ge.fromString(e).popFirst(5))}static empty(){return new M(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ge(e.slice()))}}function vV(t){return new Gn(t.readTime,t.key,-1)}class Gn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gn(j.min(),M.empty(),-1)}static max(){return new Gn(j.max(),M.empty(),-1)}}function LC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:Z(t.largestBatchId,e.largestBatchId))}const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zi(t){return VC.apply(this,arguments)}function VC(){return VC=y(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==wV)throw t;S("LocalStore","Unexpectedly lost primary lease")}),VC.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function qi(t){return"IndexedDbTransactionError"===t.name}let zn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class gie{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ks{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ks("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}function IV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bl(t){return null==t}function Dl(t){return 0===t&&1/t==-1/0}class mie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new mie("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const yie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(U(!!t),"string"==typeof t){let e=0;const n=yie.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ys(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}function $C(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function DV(t){const e=t.mapValue.fields.__previous_value__;return $C(e)?DV(e):e}function Tl(t){const e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}const Ki={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$C(t)?4:MV(t)?9007199254740991:10:O()}function Fr(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Wi(r.timestampValue),o=Wi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ys(t.bytesValue).isEqual(Ys(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ke(r.doubleValue),o=Ke(i.doubleValue);return s===o?Dl(s)===Dl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(IV(s)!==IV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Fr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function Sl(t,e){return void 0!==(t.values||[]).find(n=>Fr(n,e))}function Qi(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ke(i.integerValue||i.doubleValue),a=Ke(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return TV(t.timestampValue,e.timestampValue);case 4:return TV(Tl(t),Tl(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ys(i),a=Ys(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Z(o[u],a[u]);if(0!==c)return c}return Z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(Ke(i.latitude),Ke(s.latitude));return 0!==o?o:Z(Ke(i.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Qi(o[u],a[u]);if(c)return c}return Z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ki.mapValue&&s===Ki.mapValue)return 0;if(i===Ki.mapValue)return 1;if(s===Ki.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Z(a[l],c[l]);if(0!==d)return d;const h=Qi(o[a[l]],u[c[l]]);if(0!==h)return h}return Z(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function TV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);const n=Wi(t),r=Wi(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function Va(t){return jC(t)}function jC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Wi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ys(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jC(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function HC(t){return!!t&&"integerValue"in t}function Al(t){return!!t&&"arrayValue"in t}function SV(t){return!!t&&"nullValue"in t}function AV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Op(t){return!!t&&"mapValue"in t}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yi{constructor(e,n){this.position=e,this.inclusive=n}}function RV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):Qi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function NV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}class OV{}class de extends OV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new wie(e,n,r):"array-contains"===n?new Cie(e,r):"in"===n?new BV(e,r):"not-in"===n?new bie(e,r):"array-contains-any"===n?new Die(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Eie(e,r):new Iie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Qi(n,this.value)):null!==n&&Xs(this.value)===Xs(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ie extends OV{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new Ie(e,n)}matches(e){return Ua(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return null!==e?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ua(t){return"and"===t.op}function zC(t){return function PV(t){for(const e of t.filters)if(e instanceof Ie)return!1;return!0}(t)&&Ua(t)}function qC(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(zC(t))return t.filters.map(e=>qC(e)).join(",");{const e=t.filters.map(n=>qC(n)).join(",");return`${t.op}(${e})`}}function FV(t,e){return t instanceof de?(n=t,(r=e)instanceof de&&n.op===r.op&&n.field.isEqual(r.field)&&Fr(n.value,r.value)):t instanceof Ie?function(n,r){return r instanceof Ie&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&FV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function VV(t){return t instanceof de?function(e){return`${e.field.canonicalString()} ${e.op} ${Va(e.value)}`}(t):t instanceof Ie?function(e){return e.op.toString()+" {"+e.getFilters().map(VV).join(" ,")+"}"}(t):"Filter"}class wie extends de{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Eie extends de{constructor(e,n){super(e,"in",n),this.keys=UV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Iie extends de{constructor(e,n){super(e,"not-in",n),this.keys=UV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class Cie extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Al(n)&&Sl(n.arrayValue,this.value)}}class BV extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Sl(this.value.arrayValue,n)}}class bie extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Sl(this.value.arrayValue,n)}}class Die extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Al(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}class Ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Qe{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pp(this.root,e,this.comparator,!0)}}class Pp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=s??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1,Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Gt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $V(this.data.getIterator())}getIteratorFrom(e){return new $V(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class $V{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Ce(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Op(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Op(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(Ml(this.value))}}function jV(t){const e=[];return Qs(t.fields,(n,r)=>{const i=new nt([n]);if(Op(r)){const s=jV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}class Ne{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ne(e,0,j.min(),j.min(),j.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new Ne(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Ne(e,2,n,j.min(),j.min(),At.empty(),0)}static newUnknownDocument(e,n){return new Ne(e,3,n,j.min(),j.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ne&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function WC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sie(t,e,n,r,i,s,o)}function Zs(t){const e=x(t);if(null===e._t){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),e._t=n}return e._t}function xl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NV(t.startAt,e.startAt)&&NV(t.endAt,e.endAt)}function Fp(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ii{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this.gt=null}}function ja(t){return new Ii(t)}function qV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function eo(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function Vp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function KC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ba(n)),e.wt.push(new Ba(nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ba(nt.keyField(),s))}}}return e.wt}function gn(t){const e=x(t);if(!e.gt)if("F"===e.limitType)e.gt=WC(e.path,e.collectionGroup,eo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of eo(e))n.push(new Ba(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Yi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yi(e.startAt.position,e.startAt.inclusive):null;e.gt=WC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function Up(t,e,n){return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kl(t,e){return xl(gn(t),gn(e))&&t.limitType===e.limitType}function WV(t){return`${Zs(gn(t))}|lt:${t.limitType}`}function XC(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>VV(r)).join(", ")}]`),bl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),`Target(${n})`}(gn(t))}; limitType=${t.limitType})`}function Rl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of eo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=RV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,eo(n),r)||n.endAt&&!function(i,s,o){const a=RV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,eo(n),r)));var n,r}function QV(t){return(e,n)=>{let r=!1;for(const i of eo(t)){const s=Aie(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Aie(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Qi(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function YV(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(e)?"-0":e}}function XV(t){return{integerValue:""+t}}function JV(t,e){return function bV(t){return"number"==typeof t&&Number.isInteger(t)&&!Dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?XV(e):YV(t,e)}class Bp{constructor(){this._=void 0}}function Mie(t,e,n){return t instanceof Ha?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof to?e2(t,e):t instanceof no?t2(t,e):function(r,i){const s=ZV(r,i),o=n2(s)+n2(r.It);return HC(s)&&HC(r.It)?XV(o):YV(r.Tt,o)}(t,e)}function xie(t,e,n){return t instanceof to?e2(t,e):t instanceof no?t2(t,e):n}function ZV(t,e){return t instanceof Ga?HC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ha extends Bp{}class to extends Bp{constructor(e){super(),this.elements=e}}function e2(t,e){const n=r2(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class no extends Bp{constructor(e){super(),this.elements=e}}function t2(t,e){let n=r2(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Ga extends Bp{constructor(e,n){super(),this.Tt=e,this.It=n}}function n2(t){return Ke(t.integerValue||t.doubleValue)}function r2(t){return Al(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Rie{constructor(e,n){this.version=e,this.transformResults=n}}class Ue{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ue}static exists(e){return new Ue(void 0,e)}static updateTime(e){return new Ue(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class jp{}function i2(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new qa(t.key,Ue.none()):new za(t.key,t.data,Ue.none());{const n=t.data,r=At.empty();let i=new Ce(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new Sn(i.toArray()),Ue.none())}}function Nie(t,e,n){t instanceof za?function(r,i,s){const o=r.value.clone(),a=a2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(r,i,s){if(!$p(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=a2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(o2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ol(t,e,n,r){return t instanceof za?function(i,s,o,a){if(!$p(i.precondition,s))return o;const u=i.value.clone(),c=u2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(i,s,o,a){if(!$p(i.precondition,s))return o;const u=u2(i.fieldTransforms,a,s),c=s.data;return c.setAll(o2(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,$p(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Oie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZV(r.transform,i||null);null!=s&&(null===n&&(n=At.empty()),n.set(r.field,s))}return n||null}function s2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&La(n,r,(i,s)=>function kie(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof to&&r instanceof to||n instanceof no&&r instanceof no?La(n.elements,r.elements,Fr):n instanceof Ga&&r instanceof Ga?Fr(n.It,r.It):n instanceof Ha&&r instanceof Ha);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class za extends jp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends jp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function o2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a2(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xie(o,a,n[i]))}return r}function u2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Mie(s,o,e))}return r}class qa extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JC extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pie{constructor(e){this.count=e}}var ht,me;function l2(t){if(void 0===t)return tt("GRPC error has no .code"),E.UNKNOWN;switch(t){case ht.OK:return E.OK;case ht.CANCELLED:return E.CANCELLED;case ht.UNKNOWN:return E.UNKNOWN;case ht.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ht.INTERNAL:return E.INTERNAL;case ht.UNAVAILABLE:return E.UNAVAILABLE;case ht.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ht.NOT_FOUND:return E.NOT_FOUND;case ht.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ht.ABORTED:return E.ABORTED;case ht.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ht.DATA_LOSS:return E.DATA_LOSS;default:return O()}}(me=ht||(ht={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CV(this.inner)}size(){return this.innerSize}}const Fie=new Qe(M.comparator);function An(){return Fie}const d2=new Qe(M.comparator);function Pl(...t){let e=d2;for(const n of t)e=e.insert(n.key,n);return e}function h2(t){let e=d2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lr(){return Fl()}function f2(){return Fl()}function Fl(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lie=new Qe(M.comparator),Vie=new Ce(M.comparator);function se(...t){let e=Vie;for(const n of t)e=e.add(n);return e}const Uie=new Ce(Z);function Hp(){return Uie}class Ll{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ll(j.min(),i,Hp(),An(),se())}}class Vl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vl(r,n,se(),se(),se())}}class Gp{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class p2{constructor(e,n){this.targetId=e,this.Rt=n}}class g2{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m2{constructor(){this.bt=0,this.vt=_2(),this.Pt=Et.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=se(),n=se(),r=se();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Vl(this.Pt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=_2()}Ot(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class Bie{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=An(),this.Kt=y2(),this.Gt=new Ce(Z)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(Fp(s))if(0===r){const o=new M(s.path);this.zt(n,o,Ne.newNoDocument(o,j.min()))}else U(1===r);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Fp(a.target)){const u=new M(a.target.path);null!==this.Ut.get(u)||this.ne(o,u)||this.zt(o,u,Ne.newNoDocument(u,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=se();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Ll(e,n,this.Gt,this.Ut,r);return this.Ut=An(),this.Kt=y2(),this.Gt=new Ce(Z),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).Ot(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.Ot(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let n=this.qt.get(e);return n||(n=new m2,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new Ce(Z),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=null!==this.Xt(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new m2),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function y2(){return new Qe(M.comparator)}function _2(){return new Qe(M.comparator)}const $ie={asc:"ASCENDING",desc:"DESCENDING"},jie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hie={and:"AND",or:"OR"};class Gie{constructor(e,n){this.databaseId=e,this.yt=n}}function Wa(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v2(t,e){return t.yt?e.toBase64():e.toUint8Array()}function zie(t,e){return Wa(t,e.toTimestamp())}function rt(t){return U(!!t),j.fromTimestamp(function(e){const n=Wi(e);return new He(n.seconds,n.nanos)}(t))}function ZC(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function w2(t){const e=ge.fromString(t);return U(M2(e)),e}function Ul(t,e){return ZC(t.databaseId,e.path)}function Vr(t,e){const n=w2(e);if(n.get(1)!==t.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(I2(n))}function eb(t,e){return ZC(t.databaseId,e)}function Bl(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I2(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function C2(t,e,n){return{name:Ul(t,e),fields:n.value.mapValue.fields}}function D2(t,e){return{documents:[eb(t,e.path)]}}function nb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=eb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=eb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return A2(Ie.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ji((l=c).field),direction:Yie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.yt||bl(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function T2(t){let e=function E2(t){const e=w2(t);return 4===e.length?ge.emptyPath():I2(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=S2(l);return d instanceof Ie&&zC(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ba(Ka((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,bl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Yi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Yi(l.values||[],!l.before)}(n.endAt)),function zV(t,e,n,r,i,s,o,a){return new Ii(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function S2(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ka(e.unaryFilter.field);return de.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ka(e.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ka(e.unaryFilter.field);return de.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ka(e.unaryFilter.field);return de.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return de.create(Ka(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ie.create(e.compositeFilter.filters.map(n=>S2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function Yie(t){return $ie[t]}function Xie(t){return jie[t]}function Jie(t){return Hie[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Ka(t){return nt.fromServerFormat(t.fieldPath)}function A2(t){return t instanceof de?function(e){if("=="===e.op){if(AV(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NAN"}};if(SV(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AV(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NOT_NAN"}};if(SV(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(e.field),op:Xie(e.op),value:e.value}}}(t):t instanceof Ie?function(e){const n=e.getFilters().map(r=>A2(r));return 1===n.length?n[0]:{compositeFilter:{op:Jie(e.op),filters:n}}}(t):O()}function Zie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M2(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ib{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=i2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>s2(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>s2(n,r))}}class sb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=Lie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sb(e,n,r,i)}}class ob{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zi{constructor(e,n,r,i,s=j.min(),o=j.min(),a=Et.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class F2{constructor(e){this.oe=e}}function ab(t){const e=T2({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Up(e,e.limit,"L"):e}class oo{constructor(){}ae(e,n){this.he(e,n),n.le()}he(e,n){if("nullValue"in e)this.fe(n,5);else if("booleanValue"in e)this.fe(n,10),n.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(n,15),n.de(Ke(e.integerValue));else if("doubleValue"in e){const r=Ke(e.doubleValue);isNaN(r)?this.fe(n,13):(this.fe(n,15),Dl(r)?n.de(0):n.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(n,20),"string"==typeof r?n._e(r):(n._e(`${r.seconds||""}`),n.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,n),this.me(n);else if("bytesValue"in e)this.fe(n,30),n.ge(Ys(e.bytesValue)),this.me(n);else if("referenceValue"in e)this.ye(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(n,45),n.de(r.latitude||0),n.de(r.longitude||0)}else"mapValue"in e?MV(e)?this.fe(n,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,n),this.me(n)):"arrayValue"in e?(this.Ie(e.arrayValue,n),this.me(n)):O()}we(e,n){this.fe(n,25),this.Te(e,n)}Te(e,n){n._e(e)}pe(e,n){const r=e.fields||{};this.fe(n,55);for(const i of Object.keys(r))this.we(i,n),this.he(r[i],n)}Ie(e,n){const r=e.values||[];this.fe(n,50);for(const i of r)this.he(i,n)}ye(e,n){this.fe(n,37),M.fromName(e).path.forEach(r=>{this.fe(n,60),this.Te(r,n)})}fe(e,n){e.de(n)}me(e){e.de(2)}}oo.Ee=new oo;class Tse{constructor(){this.Ze=new fb}addToCollectionParentIndex(e,n){return this.Ze.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Gn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class fb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(ge.comparator)).toArray()}}new Uint8Array(0);class Mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class uo{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new uo(0)}static Sn(){return new uo(-1)}}class Nse{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ne.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ol(r.mutation,i,Sn.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=An();const o=Fl(),a=Fl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ci)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Ol(l.mutation,c,l.mutation.getFieldMask(),He.now())):o.set(c.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Fse(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fl();let i=new Qe((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Sn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=f2();l.forEach(h=>{if(!s.has(h)){const f=i2(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function QC(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Lr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:h2(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Pl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ii(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ne.newInvalidDocument(c)))});let o=Pl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Ol(c.mutation,u,Sn.empty(),He.now()),Rl(n,u)&&(o=o.insert(a,u))}),o})}}class Lse{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return v.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:rt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,{name:(r=n).name,query:ab(r.bundledQuery),readTime:rt(r.readTime)}),v.resolve();var r}}class Vse{constructor(){this.overlays=new Qe(M.comparator),this.ss=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Lr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Lr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Lr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ob(n,r));let s=this.ss.get(n);void 0===s&&(s=se(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}class pb{constructor(){this.rs=new Ce(xt.os),this.us=new Ce(xt.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new xt(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new xt(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new M(new ge([])),r=new xt(n,e),i=new xt(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new M(new ge([])),r=new xt(n,e),i=new xt(n,e+1);let s=se();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xt(e,0),r=this.rs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return M.comparator(e.key,n.key)||Z(e.gs,n.gs)}static cs(e,n){return Z(e.gs,n.gs)||M.comparator(e.key,n.key)}}class Use{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ce(xt.os)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++;const o=new ib(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Ts(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(Z);return n.forEach(i=>{const s=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),v.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new xt(new M(s),0);let a=new Ce(Z);return this.ps.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gs)),!0)},o),v.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.As(n.batchId,"removed")),this.mutationQueue.shift();let r=this.ps;return v.forEach(n.mutations,i=>{const s=new xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}bn(e){}containsKey(e,n){const r=new xt(n,0),i=this.ps.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}As(e,n){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Bse{constructor(e){this.Rs=e,this.docs=new Qe(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(e,n){let r=An();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ne.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=An();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LC(vV(l),r)<=0||(i.has(l.key)||Rl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}bs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $se(this)}getSize(e){return v.resolve(this.size)}}class $se extends Nse{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}class jse{constructor(e){this.persistence=e,this.vs=new Xi(n=>Zs(n),xl),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new pb,this.targetCount=0,this.Ss=uo.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ps&&(this.Ps=n),v.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.xn(n),v.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Vs.containsKey(n))}}class aU{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new zn(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new jse(this),this.indexManager=new Tse,this.remoteDocumentCache=new Bse(r=>this.referenceDelegate.ks(r)),this.Tt=new F2(n),this.Os=new Lse(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new Use(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Hse(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Fs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}$s(e,n){return v.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class Hse extends uie{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Bs=new pb,this.Ls=null}static qs(e){return new eg(e)}get Us(){if(this.Ls)return this.Ls;throw O()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),v.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Fs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Us,r=>{const i=M.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return v.or([()=>v.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.$s(e,n)])}}class _b{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _b(e,n.fromCache,r,i)}}class cU{constructor(){this.ki=!1}initialize(e,n){this.Oi=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Fi(e,n,i,r)).next(s=>s||this.$i(e,n))}Mi(e,n){if(qV(n))return v.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Up(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Oi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Bi(n,a);return this.Li(n,c,o,u.readTime)?this.Mi(e,Up(n,null,"F")):this.qi(e,c,n,u)}))})))}Fi(e,n,r,i){return qV(n)||i.isEqual(j.min())?this.$i(e,n):this.Oi.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.$i(e,n):(OC()<=pe.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XC(n)),this.qi(e,o,n,function _V(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new He(n+1,0):new He(n,r));return new Gn(i,M.empty(),e)}(i,-1)))})}Bi(e,n){let r=new Ce(QV(e));return n.forEach((i,s)=>{Rl(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}$i(e,n){return OC()<=pe.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",XC(n)),this.Oi.getDocumentsMatchingQuery(e,n,Gn.min())}qi(e,n,r,i){return this.Oi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class zse{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new Qe(Z),this.Gi=new Xi(s=>Zs(s),xl),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oU(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function dU(t,e){return vb.apply(this,arguments)}function vb(){return vb=y(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Wi:c,removedBatchIds:o,addedBatchIds:a}))})})}),vb.apply(this,arguments)}function hU(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function Kse(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ja(t,e,n){return wb.apply(this,arguments)}function wb(){return wb=y(function*(t,e,n){const r=x(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!qi(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}),wb.apply(this,arguments)}function ng(t,e,n){const r=x(t);let i=j.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Gi.get(c);return void 0!==d?v.resolve(l.Ki.get(d)):l.Ns.getTargetData(u,c)}(r,o,gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:se())).next(a=>(function mU(t,e,n){let r=t.Qi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}(r,function KV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Yi:s})))}class Db{constructor(){this.activeTargetIds=Hp()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vU{constructor(){this.Ur=new Db,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xse{Gr(e){}shutdown(){}}class wU{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zse{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class eoe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=this.fo(e,n);S("RestConnection","Sending: ",o,r);const a={};return this._o(a,i,s),this.wo(e,o,a,r).then(u=>(S("RestConnection","Received: ",u),u),u=>{throw Fa("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){return`${this.co}/v1/${n}:${Jse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){return new Promise((s,o)=>{const a=new Xre;a.setWithCredentials(!0),a.listenOnce(Kre.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case NC.NO_ERROR:const c=a.getResponseJson();S("Connection","XHR received:",JSON.stringify(c)),s(c);break;case NC.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),o(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case NC.HTTP_ERROR:const l=a.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(g)>=0?g:E.UNKNOWN}(h.status);o(new T(f,h.message))}else o(new T(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(E.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{S("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}yo(e,n,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qre(),o=Wre(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yre({})),this._o(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");S("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Zse({Yr:p=>{d?S("Connection","Not sending because WebChannel is closed:",p):(l||(S("Connection","Opening WebChannel transport."),c.open(),l=!0),S("Connection","WebChannel sending:",p),c.send(p))},Zr:()=>c.close()}),f=(p,g,m)=>{p.listen(g,_=>{try{m(_)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,Mp.EventType.OPEN,()=>{d||S("Connection","WebChannel transport opened.")}),f(c,Mp.EventType.CLOSE,()=>{d||(d=!0,S("Connection","WebChannel transport closed"),h.oo())}),f(c,Mp.EventType.ERROR,p=>{d||(d=!0,Fa("Connection","WebChannel transport errored:",p),h.oo(new T(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,Mp.EventType.MESSAGE,p=>{var g;if(!d){const m=p.data[0];U(!!m);const C=m.error||(null===(g=m[0])||void 0===g?void 0:g.error);if(C){S("Connection","WebChannel received error:",C);const w=C.status;let k=function(H){const st=ht[H];if(void 0!==st)return l2(st)}(w),B=C.message;void 0===k&&(k=E.INTERNAL,B="Unknown error status: "+w+" with message "+C.message),d=!0,h.oo(new T(k,B)),c.close()}else S("Connection","WebChannel received:",m),h.uo(m)}}),f(o,Qre.STAT_EVENT,p=>{p.stat===hV.PROXY?S("Connection","Detected buffering proxy"):p.stat===hV.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.ro()},0),h}}function sg(){return typeof document<"u"?document:null}function Yl(t){return new Gie(t,!0)}class Sb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class IU{constructor(e,n,r,i,s,o,a,u){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Sb(e,n)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return y(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return y(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,n){var r=this;return y(function*(){r.Uo(),r.Ko(),r.ko.cancel(),r.Co++,4!==e?r.ko.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),r.ko.bo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Go(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.no(n)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new T(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){var e=this;this.state=5,this.ko.vo(y(function*(){e.state=0,e.start()}))}zo(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class toe extends IU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=function Wie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.yt?(U(void 0===c||"string"==typeof c),Et.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:l2(u.code);return new T(c,u.message||"")}(o);n=new g2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Vr(t,r.document.name),s=rt(r.document.updateTime),o=r.document.createTime?rt(r.document.createTime):j.min(),a=new At({mapValue:{fields:r.document.fields}}),u=Ne.newFoundDocument(i,s,o,a);n=new Gp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Vr(t,r.document),s=r.readTime?rt(r.readTime):j.min(),o=Ne.newNoDocument(i,s);n=new Gp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Vr(t,r.document);n=new Gp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new Pie(r.count||0);n=new p2(r.targetId,s)}}var u;return n}(this.Tt,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?rt(s.readTime):j.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=Bl(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=Fp(a)?{documents:D2(i,a)}:{query:nb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=v2(i,s.resumeToken):s.snapshotVersion.compareTo(j.min())>0&&(o.readTime=Wa(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=function Qie(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=Bl(this.Tt),n.removeTarget=e,this.qo(n)}}class noe extends IU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=function Kie(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=rt(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=rt(i)),new Rie(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=rt(e.commitTime);return this.listener.eu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Bl(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function $l(t,e){let n;if(e instanceof za)n={update:C2(t,e.key,e.value)};else if(e instanceof qa)n={delete:Ul(t,e.key)};else if(e instanceof Ci)n={update:C2(t,e.key,e.data),updateMask:Zie(e.fieldMask)};else{if(!(e instanceof JC))return O();n={verify:Ul(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof to)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof no)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ga)return{fieldPath:s.field.canonicalString(),increment:o.It};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:zie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.Tt,r))};this.qo(n)}}class roe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(E.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(E.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class soe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(tt(n),this.cu=!1):S("OnlineStateTracker",n)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class ooe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(a=>{r.enqueueAndForget(y(function*(){var u;bi(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=x(c);l.mu.add(4),yield Za(l),l.pu.set("Unknown"),l.mu.delete(4),yield Xl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.pu=new soe(r,i)}}function Xl(t){return Mb.apply(this,arguments)}function Mb(){return Mb=y(function*(t){if(bi(t))for(const e of t.gu)yield e(!0)}),Mb.apply(this,arguments)}function Za(t){return xb.apply(this,arguments)}function xb(){return xb=y(function*(t){for(const e of t.gu)yield e(!1)}),xb.apply(this,arguments)}function og(t,e){const n=x(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),Nb(n)?Rb(n):tu(n).Mo()&&kb(n,e))}function Jl(t,e){const n=x(t),r=tu(n);n.wu.delete(e),r.Mo()&&CU(n,e),0===n.wu.size&&(r.Mo()?r.Bo():bi(n)&&n.pu.set("Unknown"))}function kb(t,e){t.Iu.Ft(e.targetId),tu(t).Jo(e)}function CU(t,e){t.Iu.Ft(e),tu(t).Yo(e)}function Rb(t){t.Iu=new Bie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),tu(t).start(),t.pu.au()}function Nb(t){return bi(t)&&!tu(t).Oo()&&t.wu.size>0}function bi(t){return 0===x(t).mu.size}function bU(t){t.Iu=void 0}function aoe(t){return Ob.apply(this,arguments)}function Ob(){return Ob=y(function*(t){t.wu.forEach((e,n)=>{kb(t,e)})}),Ob.apply(this,arguments)}function uoe(t,e){return Pb.apply(this,arguments)}function Pb(){return Pb=y(function*(t,e){bU(t),Nb(t)?(t.pu.fu(e),Rb(t)):t.pu.set("Unknown")}),Pb.apply(this,arguments)}function coe(t,e,n){return Fb.apply(this,arguments)}function Fb(){return Fb=y(function*(t,e,n){if(t.pu.set("Online"),e instanceof g2&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.wu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.wu.delete(a),i.Iu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ag(t,r)}else if(e instanceof Gp?t.Iu.Qt(e):e instanceof p2?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(j.min()))try{const r=yield hU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.wu.get(u);c&&i.wu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.wu.get(a);if(!u)return;i.wu.set(a,u.withResumeToken(Et.EMPTY_BYTE_STRING,u.snapshotVersion)),CU(i,a);const c=new Zi(u.target,a,1,u.sequenceNumber);kb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield ag(t,r)}var r}),Fb.apply(this,arguments)}function ag(t,e,n){return Lb.apply(this,arguments)}function Lb(){return Lb=y(function*(t,e,n){if(!qi(e))throw e;t.mu.add(1),yield Za(t),t.pu.set("Offline"),n||(n=()=>hU(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.mu.delete(1),yield Xl(t)}))}),Lb.apply(this,arguments)}function DU(t,e){return e().catch(n=>ag(t,n,e))}function eu(t){return Vb.apply(this,arguments)}function Vb(){return Vb=y(function*(t){const e=x(t),n=rs(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;loe(e);)try{const i=yield Kse(e.localStore,r);if(null===i){0===e._u.length&&n.Bo();break}r=i.batchId,doe(e,i)}catch(i){yield ag(e,i)}TU(e)&&SU(e)}),Vb.apply(this,arguments)}function loe(t){return bi(t)&&t._u.length<10}function doe(t,e){t._u.push(e);const n=rs(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function TU(t){return bi(t)&&!rs(t).Oo()&&t._u.length>0}function SU(t){rs(t).start()}function hoe(t){return Ub.apply(this,arguments)}function Ub(){return Ub=y(function*(t){rs(t).su()}),Ub.apply(this,arguments)}function foe(t){return Bb.apply(this,arguments)}function Bb(){return Bb=y(function*(t){const e=rs(t);for(const n of t._u)e.tu(n.mutations)}),Bb.apply(this,arguments)}function poe(t,e,n){return $b.apply(this,arguments)}function $b(){return $b=y(function*(t,e,n){const r=t._u.shift(),i=sb.from(r,e,n);yield DU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield eu(t)}),$b.apply(this,arguments)}function goe(t,e){return jb.apply(this,arguments)}function jb(){return jb=y(function*(t,e){var n;e&&rs(t).Xo&&(yield(n=y(function*(r,i){if(function c2(t){switch(t){default:return O();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r._u.shift();rs(r).$o(),yield DU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield eu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),TU(t)&&SU(t)}),jb.apply(this,arguments)}function AU(t,e){return Hb.apply(this,arguments)}function Hb(){return Hb=y(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=bi(n);n.mu.add(3),yield Za(n),r&&n.pu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),yield Xl(n)}),Hb.apply(this,arguments)}function zb(){return zb=y(function*(t,e){const n=x(t);e?(n.mu.delete(2),yield Xl(n)):e||(n.mu.add(2),yield Za(n),n.pu.set("Unknown"))}),zb.apply(this,arguments)}function tu(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.ru(),new toe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:aoe.bind(null,t),no:uoe.bind(null,t),Ho:coe.bind(null,t)}),t.gu.push(function(){var e=y(function*(n){n?(t.Tu.$o(),Nb(t)?Rb(t):t.pu.set("Unknown")):(yield t.Tu.stop(),bU(t))});return function(n){return e.apply(this,arguments)}}())),t.Tu}function rs(t){return t.Eu||(t.Eu=function(e,n,r){const i=x(e);return i.ru(),new noe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:hoe.bind(null,t),no:goe.bind(null,t),nu:foe.bind(null,t),eu:poe.bind(null,t)}),t.gu.push(function(){var e=y(function*(n){n?(t.Eu.$o(),yield eu(t)):(yield t.Eu.stop(),t._u.length>0&&(S("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))});return function(n){return e.apply(this,arguments)}}())),t.Eu}class qb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(t,e){if(tt("AsyncQueue",`${e}: ${t}`),qi(t))return new T(E.UNAVAILABLE,`${e}: ${t}`);throw t}class ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class MU{constructor(){this.Au=new Qe(M.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?0!==e.type&&3===r.type?this.Au=this.Au.insert(n,e):3===e.type&&1!==r.type?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Au=this.Au.remove(n):1===e.type&&2===r.type?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):O():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class iu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new iu(e,n,ru.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class moe{constructor(){this.bu=void 0,this.listeners=[]}}class yoe{constructor(){this.queries=new Xi(e=>WV(e),kl),this.onlineState="Unknown",this.vu=new Set}}function Kb(){return Kb=y(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new moe),i)try{s.bu=yield n.onListen(r)}catch(o){const a=nu(o,`Initialization of query '${XC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.bu&&e.Vu(s.bu)&&Xb(n)}),Kb.apply(this,arguments)}function Yb(){return Yb=y(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Yb.apply(this,arguments)}function _oe(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.bu=i}}r&&Xb(n)}function voe(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Xb(t){t.vu.forEach(e=>{e.next()})}class Jb{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new iu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){return!e.fromCache||(!this.options.Ou||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class RU{constructor(e){this.key=e}}class NU{constructor(e){this.key=e}}class OU{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=se(),this.mutatedKeys=se(),this.ju=QV(e),this.zu=new ru(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new MU,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Rl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Yu(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ju(f,u)>0||c&&this.ju(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.ju(c.doc,l.doc)),this.Zu(r);const o=n?this.Xu():[],a=0===this.Qu.size&&this.current?1:0,u=a!==this.Gu;return this.Gu=a,0!==s.length||u?{snapshot:new iu(this.query,e.zu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new MU,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=se(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new NU(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new RU(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=se();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return iu.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class Ioe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Coe{constructor(e){this.key=e,this.ic=!1}}class boe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Xi(a=>WV(a),kl),this.uc=new Map,this.cc=new Set,this.ac=new Qe(M.comparator),this.hc=new Map,this.lc=new pb,this.fc={},this.dc=new Map,this._c=uo.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function Doe(t,e){return Zb.apply(this,arguments)}function Zb(){return Zb=y(function*(t,e){const n=function ID(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ooe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aoe.bind(null,e),e.rc.Ho=_oe.bind(null,e.eventManager),e.rc.gc=voe.bind(null,e.eventManager),e}(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=yield function Xa(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new Zi(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}(n.localStore,gn(e));n.isPrimaryClient&&og(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function eD(t,e,n,r,i){return tD.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken)}return i}),Zb.apply(this,arguments)}function tD(){return tD=y(function*(t,e,n,r,i){t.mc=(d,h,f)=>{return(p=y(function*(g,m,_,C){let w=m.view.Hu(_);w.Li&&(w=yield ng(g.localStore,m.query,!1).then(({documents:H})=>m.view.Hu(H,w)));const k=C&&C.targetChanges.get(m.targetId),B=m.view.applyChanges(w,g.isPrimaryClient,k);return dD(g,m.targetId,B.tc),B.snapshot}),function(g,m,_,C){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield ng(t.localStore,e,!0),o=new OU(e,s.Yi),a=o.Hu(s.documents),u=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);dD(t,n,c.tc);const l=new Ioe(e,n,o);return t.oc.set(e,l),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),c.snapshot}),tD.apply(this,arguments)}function Toe(t,e){return nD.apply(this,arguments)}function nD(){return nD=y(function*(t,e){const n=x(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!kl(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ja(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Jl(n.remoteStore,r.targetId),su(n,r.targetId)}).catch(zi))):(su(n,r.targetId),yield Ja(n.localStore,r.targetId,!0))}),nD.apply(this,arguments)}function rD(){return rD=y(function*(t,e,n){const r=function CD(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Moe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xoe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=x(s),u=He.now(),c=o.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=An(),p=se();return a.ji.getEntries(h,c).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const m=[];for(const _ of o){const C=Oie(_,l.get(_.key).overlayedDocument);null!=C&&m.push(new Ci(_.key,C,jV(C.value.mapValue),Ue.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:h2(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.fc[s.currentUser.toKey()];u||(u=new Qe(Z)),u=u.insert(o,a),s.fc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Di(r,i.changes),yield eu(r.remoteStore)}catch(i){const s=nu(i,"Failed to persist write");n.reject(s)}}),rD.apply(this,arguments)}function PU(t,e){return iD.apply(this,arguments)}function iD(){return iD=y(function*(t,e){const n=x(t);try{const r=yield function Wse(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ns.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;e.targetMismatches.has(d)?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Ns.updateTargetData(s,f))});let u=An(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function fU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=An();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Hi:o,Ji:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Hi,c=l.Ji})),!r.isEqual(j.min())){const l=n.Ns.getLastRemoteSnapshotVersion(s).next(d=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ki=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?U(o.ic):i.removedDocuments.size>0&&(U(o.ic),o.ic=!1))}),yield Di(n,r,e)}catch(r){yield zi(r)}}),iD.apply(this,arguments)}function FU(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.oc.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Pu(o)&&(u=!0)}),u&&Xb(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Aoe(t,e,n){return sD.apply(this,arguments)}function sD(){return sD=y(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new Qe(M.comparator);o=o.insert(s,Ne.newNoDocument(s,j.min()));const a=se().add(s),u=new Ll(j.min(),new Map,new Ce(Z),o,a);yield PU(r,u),r.ac=r.ac.remove(s),r.hc.delete(e),hD(r)}else yield Ja(r.localStore,e,!1).then(()=>su(r,e,n)).catch(zi)}),sD.apply(this,arguments)}function Moe(t,e){return oD.apply(this,arguments)}function oD(){return oD=y(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield function qse(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);U(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);lD(n,r,null),cD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Di(n,i)}catch(i){yield zi(i)}}),oD.apply(this,arguments)}function xoe(t,e,n){return aD.apply(this,arguments)}function aD(){return aD=y(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);lD(r,e,n),cD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Di(r,i)}catch(i){yield zi(i)}}),aD.apply(this,arguments)}function cD(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function lD(t,e,n){const r=x(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function su(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||LU(t,r)})}function LU(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);null!==n&&(Jl(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),hD(t))}function dD(t,e,n){for(const r of n)r instanceof RU?(t.lc.addReference(r.key,e),Roe(t,r)):r instanceof NU?(S("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||LU(t,r.key)):O()}function Roe(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.cc.add(r),hD(t))}function hD(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new M(ge.fromString(e)),r=t._c.next();t.hc.set(r,new Coe(n)),t.ac=t.ac.insert(n,r),og(t.remoteStore,new Zi(gn(ja(n.path)),r,2,zn.at))}}function Di(t,e,n){return fD.apply(this,arguments)}function fD(){return fD=y(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.oc.isEmpty()||(r.oc.forEach((a,u)=>{o.push(r.mc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=_b.Ni(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.rc.Ho(i),yield(a=y(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Ci,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.xi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!qi(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ki.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ki=l.Ki.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),fD.apply(this,arguments)}function Noe(t,e){return pD.apply(this,arguments)}function pD(){return pD=y(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield dU(n.localStore,e);n.currentUser=e,(i=n).dc.forEach(o=>{o.forEach(a=>{a.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.dc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Di(n,r.Wi)}var i}),pD.apply(this,arguments)}function Ooe(t,e){const n=x(t),r=n.hc.get(e);if(r&&r.ic)return se().add(r.key);{let i=se();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}class Hoe{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.Tt=Yl(e.databaseInfo.databaseId),n.sharedClientState=n.Ic(e),n.persistence=n.Tc(e),yield n.persistence.start(),n.localStore=n.Ec(e),n.gcScheduler=n.Ac(e,n.localStore),n.indexBackfillerScheduler=n.Rc(e,n.localStore)})()}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return function lU(t,e,n,r){return new zse(t,e,n,r)}(this.persistence,new cU,e.initialUser,this.Tt)}Tc(e){return new aU(eg.qs,this.Tt)}Ic(e){return new vU}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bD{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Noe.bind(null,r.syncEngine),yield function Gb(t,e){return zb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yoe}createDatastore(e){const n=Yl(e.databaseInfo.databaseId),r=new eoe(e.databaseInfo);return new roe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>FU(this.syncEngine,a,0),o=wU.C()?new wU:new Xse,new ooe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new boe(r,i,s,o,a,u);return c&&(l.wc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=x(n);S("RemoteStore","RemoteStore shutting down."),r.mu.add(5),yield Za(r),r.yu.shutdown(),r.pu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Qoe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=mV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=nu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function DD(){return DD=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield dU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),DD.apply(this,arguments)}function TD(){return TD=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function SD(t){return AD.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>AU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>AU(e.remoteStore,s)),t.onlineComponents=e}),TD.apply(this,arguments)}function AD(){return AD=y(function*(t){return t.offlineComponents||(S("FirestoreClient","Using default OfflineComponentProvider"),yield function $U(t,e){return DD.apply(this,arguments)}(t,new Hoe)),t.offlineComponents}),AD.apply(this,arguments)}function cg(t){return MD.apply(this,arguments)}function MD(){return MD=y(function*(t){return t.onlineComponents||(S("FirestoreClient","Using default OnlineComponentProvider"),yield function jU(t,e){return TD.apply(this,arguments)}(t,new bD)),t.onlineComponents}),MD.apply(this,arguments)}function ou(t){return RD.apply(this,arguments)}function RD(){return RD=y(function*(t){const e=yield cg(t),n=e.eventManager;return n.onListen=Doe.bind(null,e.syncEngine),n.onUnlisten=Toe.bind(null,e.syncEngine),n}),RD.apply(this,arguments)}const WU=new Map;function ND(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KU(t){if(!M.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QU(t){if(M.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dg(t);throw new T(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class XU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function rae(t,e,n,r){if(!0===e&&!0===r)throw new T(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Jre;switch(n.type){case"gapi":return new nie(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=WU.get(e);n&&(S("ComponentProvider","Removing Datastore"),WU.delete(e),n.terminate())}(this),Promise.resolve()}}class it{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}}class zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class Br extends zt{constructor(e,n,r){super(e,n,ja(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new M(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function sae(t,e,...n){if(t=tr(t),ND("collection","path",e),t instanceof Zl){const r=ge.fromString(e,...n);return QU(r),new Br(t,null,r)}{if(!(t instanceof it||t instanceof Br))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return QU(r),new Br(t.firestore,null,r)}}class aae{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Sb(this,"async_queue_retry"),this.Hc=()=>{const n=sg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=sg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=sg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new wt;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return y(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(n){if(!qi(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=qb.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&O()}verifyOperationInProgress(){}ta(){var e=this;return y(function*(){let n;do{n=e.qc,yield n}while(n!==e.qc)})()}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function OD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Oe extends Zl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZU(this),this._firestoreClient.terminate()}}function cae(t,e){const r="string"==typeof t?t:e||"(default)",i=Mf("object"==typeof t?t:EO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=IQ("firestore");s&&function iae(t,e,n,r={}){var i;const s=(t=he(t,Zl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=St.MOCK_USER;else{o=function DQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ef(JSON.stringify({alg:"none",type:"JWT"})),Ef(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new St(u)}t._authCredentials=new Zre(new pV(o,a))}}(i,...s)}return i}function ft(t){return t._firestoreClient||ZU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ZU(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new gie(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Qoe(t._authCredentials,t._appCheckCredentials,t._queue,r)}class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(Et.fromBase64String(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class au{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nB{constructor(e){this._methodName=e}}class PD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const dae=/^__.*__$/;class hae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new za(e,this.data,n,this.fieldTransforms)}}function iB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class hg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return pg(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(iB(this.ra)&&dae.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class fae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||Yl(e)}wa(e,n,r,i=!1){return new hg({ra:e,methodName:n,_a:r,path:nt.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function uu(t){const e=t._freezeSettings(),n=Yl(t._databaseId);return new fae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FD(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);VD("Data must be an object, but it was:",o,r);const a=cB(r,o);let u,c;if(s.merge)u=new Sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=nd(e,d,n);if(!o.contains(h))throw new T(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dB(l,h)||l.push(h)}u=new Sn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new hae(new At(a),u,c)}function ho(t,e){if(lB(t=tr(t)))return VD("Unsupported field value:",e,t),cB(t,e);if(t instanceof nB)return function(n,r){if(!iB(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ho(o,r.la(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=tr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return JV(r.Tt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=He.fromDate(n);return{timestampValue:Wa(r.Tt,i)}}if(n instanceof He){const i=new He(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wa(r.Tt,i)}}if(n instanceof PD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof lo)return{bytesValue:v2(r.Tt,n._byteString)};if(n instanceof it){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ZC(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${dg(n)}`)}(t,e)}function cB(t,e){const n={};return CV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,i)=>{const s=ho(i,e.ua(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function lB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof He||t instanceof PD||t instanceof lo||t instanceof it||t instanceof nB)}function VD(t,e,n){if(!lB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dg(n);throw e.fa("an object"===r?t+" a custom object":t+" "+r)}var r}function nd(t,e,n){if((e=tr(e))instanceof au)return e._internalPath;if("string"==typeof e)return fg(t,e);throw pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const yae=new RegExp("[~\\*/\\[\\]]");function fg(t,e,n){if(e.search(yae)>=0)throw pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new au(...e.split("."))._internalPath}catch{throw pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(E.INVALID_ARGUMENT,a+t+u)}function dB(t,e){return t.some(n=>n.isEqual(e))}class UD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _ae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class _ae extends UD{data(){return super.data()}}function gg(t,e){return"string"==typeof e?fg(t,e):e instanceof au?e._internalPath:e._delegate._internalPath}class wae{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){const r={};return Qs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new PD(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=DV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);U(M2(r));const i=new Ks(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends UD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vg extends lu{data(e={}){return super.data(e)}}class du{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vg(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new vg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Iae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Iae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class is extends wae{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function Cae(t,e){const n=he(t.firestore,Oe),r=function oae(t,e,...n){if(t=tr(t),1===arguments.length&&(e=mV.R()),ND("doc","path",e),t instanceof Zl){const r=ge.fromString(e,...n);return KU(r),new it(t,null,new M(r))}{if(!(t instanceof it||t instanceof Br))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return KU(r),new it(t.firestore,t instanceof Br?t.converter:null,new M(r))}}(t),i=function $D(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function id(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(y(function*(){return function Soe(t,e,n){return rD.apply(this,arguments)}(yield function kD(t){return cg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ft(t),e)}(n,[FD(uu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ue.exists(!1))]).then(()=>r)}!function(t,e=!0){Pa=xf,hn(new Zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Oe(new eie(n.getProvider("auth-internal")),new rie(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),et(fV,"3.8.4",t),et(fV,"3.8.4","esm2017")}();var Mae={includeMetadataChanges:!1};function HD(t,e){return void 0===e&&(e=Mae),new Pe(function(n){var r=function bae(t,...e){var n,r,i;t=tr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||OD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof it)c=he(t.firestore,Oe),l=ja(t._key.path),u={next:d=>{e[o]&&e[o](function jD(t,e,n){const r=n.docs.get(e._key),i=new is(t);return new lu(t,i,e._key,r,new fo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=he(t,zt);c=he(d.firestore,Oe),l=d._query;const h=new is(c);u={next:f=>{e[o]&&e[o](new du(c,h,d,f))},error:e[o+1],complete:e[o+2]},function hB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new ug(p),m=new Jb(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function Wb(t,e){return Kb.apply(this,arguments)}(yield ou(d),m)})),()=>{g.Pc(),d.asyncQueue.enqueueAndForget(y(function*(){return function Qb(t,e){return Yb.apply(this,arguments)}(yield ou(d),m)}))}}(ft(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Fae(t,e){return void 0===e&&(e={}),function Pae(t){return HD(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}(t).pipe(re(function(n){return n.map(function(r){return function wB(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Eg{constructor(e){return e}}const bB="firestore",qD=new P("angularfire2.firestore-instances");function Uae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Eg(r)}}const Bae={provide:class Lae{constructor(){return k0(bB)}},deps:[[new cn,qD]]},$ae={provide:Eg,useFactory:function Vae(t,e){const n=function x0(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(bB,t,e);return n&&new Eg(n)},deps:[[new cn,qD],Sa]};let jae=(()=>{class t{constructor(){et("angularfire",I0.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({providers:[$ae,Bae]}),t})();const Gae=Gc(Fae,!0),zae=Gc(Cae,!0),DB=Gc(sae,!0),qae=Gc(cae,!0);class po{constructor(e){this.firestore=e}getScores(){const e=DB(this.firestore,"scores");return Gae(e).pipe(re(n=>n.sort((r,i)=>r.score-i.score).slice(0,10)))}createScore(e){const n=DB(this.firestore,"scores");return zae(n,e)}}po.\u0275fac=function(e){return new(e||po)(F(Eg))},po.\u0275prov=L({token:po,factory:po.\u0275fac,providedIn:"root"});const Wae=function(t,e){return{"tran-in":t,"tran-out":e}};class sd{constructor(){this.moveLoadingOne=!1,this.moveLoadingTwo=!1,this.init()}init(){setTimeout(()=>{this.moveLoadingOne=!0},10),setTimeout(()=>{this.moveLoadingTwo=!0},1500)}ngOnDestroy(){this.moveLoadingOne=!1}}sd.\u0275fac=function(e){return new(e||sd)},sd.\u0275cmp=rn({type:sd,selectors:[["app-loading"]],decls:7,vars:4,consts:[["id","loading-component"],[1,"cont-loading"],[1,"cont-loading-item",3,"ngClass"],["id","container"],["src","../../../../assets/img/cara.png","alt","",1,"img-icon"],["viewBox","0 0 100 100"],["id","spinner","cx","50","cy","50","r","45"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Re(4,"img",4),function CS(){te.lFrame.currentNamespace=sS}(),$(5,"svg",5),Re(6,"circle",6),X()()()()()),2&e&&(ut(2),Ft("ngClass",I1(1,Wae,n.moveLoadingOne,n.moveLoadingTwo)))},dependencies:[ua],styles:["#loading-component[_ngcontent-%COMP%]{background-color:#6cd6fe;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='145' height='145' viewBox='0 0 100 100'%3E%3Cg stroke='%2358CEFE' stroke-width='10.1' stroke-opacity='0'%3E%3Crect fill='%2358CEFE' x='-60' y='-60' width='96' height='240'/%3E%3C/g%3E%3C/svg%3E\");height:100vh}#loading-component[_ngcontent-%COMP%]   .cont-loading[_ngcontent-%COMP%]{position:relative;top:0;left:0;height:100%;width:100%}#loading-component[_ngcontent-%COMP%]   .cont-loading-item[_ngcontent-%COMP%]{position:absolute;top:-14em;left:calc(50% - 100px);height:100%;transition:1s ease}#loading-component[_ngcontent-%COMP%]   .tran-in[_ngcontent-%COMP%]{transform:translateY(56%)}#loading-component[_ngcontent-%COMP%]   .tran-out[_ngcontent-%COMP%]{transform:translateY(150%)}#loading-component[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]{width:200px;height:200px}@keyframes _ngcontent-%COMP%_animation{0%{stroke-dasharray:1 98;stroke-dashoffset:-105}50%{stroke-dasharray:80 10;stroke-dashoffset:-160}to{stroke-dasharray:1 98;stroke-dashoffset:-300}}#loading-component[_ngcontent-%COMP%]   #spinner[_ngcontent-%COMP%]{fill:transparent;stroke:#fff;stroke-width:7px;stroke-linecap:round;transform-origin:center;animation-name:_ngcontent-%COMP%_animation;animation-duration:1.2s;animation-timing-function:cubic-bezier;animation-iteration-count:infinite}#loading-component[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{position:absolute;top:1.7em;left:1.7em;width:9em}"]});const Kae=function(t){return{"cont-in":t}};class od{constructor(){this.showAnim=!1,this.init()}init(){setTimeout(()=>{this.showAnim=!0},10)}ngOnDestroy(){this.showAnim=!1}}od.\u0275fac=function(e){return new(e||od)},od.\u0275cmp=rn({type:od,selectors:[["app-toast"]],decls:4,vars:3,consts:[["id","toast-component"],[1,"cont-toast","jc-c","al-i-c",3,"ngClass"],[1,"c-w","t-sh-2"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1)(2,"h5",2),Ae(3," Score saved "),X()()()),2&e&&(ut(1),Ft("ngClass",oc(1,Kae,n.showAnim)))},dependencies:[ua],styles:["#toast-component[_ngcontent-%COMP%]   .cont-toast[_ngcontent-%COMP%]{position:absolute;bottom:-10em;right:1em;background-color:#00eb6a;height:5rem;width:12rem;outline:.4em solid #fff;border-radius:.4em;box-shadow:10px 10px 8px #000;transition:all .5s ease}#toast-component[_ngcontent-%COMP%]   .cont-in[_ngcontent-%COMP%]{transform:translateY(-12em)}"]});class ad{constructor(e,n){this.sharingService=e,this.router=n,this.attempts$=this.sharingService.sharingAttempsObservable}goToMain(){this.sharingService.restartGame(),this.router.navigate([""])}showModalScores(){this.sharingService.sharingShowModelScoresObservableData=!0}}ad.\u0275fac=function(e){return new(e||ad)(I(pr),I(Jt))},ad.\u0275cmp=rn({type:ad,selectors:[["app-title-score"]],decls:25,vars:3,consts:[["id","title-score-component"],[1,"cont-nav"],[1,"pos-abs","fl","gap-1em","cont-title",3,"click"],["src","../../../../../assets/img/cara.png","alt","",1,"img-icon"],[1,"main-title","fs-2em","c-4"],[1,"pos-fix","top-main","fs-2em","c-4"],[1,"main-title","fs-2em","c-5"],[1,"pos-fix","top-sec","fs-2em","c-5"],[1,"jc-end"],[1,"btn-score","t-sh-2",3,"click"],[1,"sh-2"],[1,"jc-c","al-i-c","gap-1em"],[1,"c-w","t-sh-4"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1)(2,"div",2),Xe("click",function(){return n.goToMain()}),Re(3,"img",3),$(4,"h1",4),Ae(5,"FALL"),X(),$(6,"h1",5),Ae(7,"FALL"),X(),$(8,"h1",6),Ae(9,"MEMORAM"),X(),$(10,"h1",7),Ae(11,"MEMORAM"),X()()(),$(12,"div",8)(13,"div")(14,"button",9),Xe("click",function(){return n.showModalScores()}),$(15,"h4",10),Ae(16," SCORES "),X()()()(),$(17,"div",11)(18,"div")(19,"h3",12),Ae(20," ATTEMPS : "),X()(),$(21,"div")(22,"h2",12),Ae(23),Jr(24,"async"),X()()()()),2&e&&(ut(23),ec(" ",Zr(24,1,n.attempts$)," "))},dependencies:[pc],styles:["#title-score-component[_ngcontent-%COMP%]   .cont-nav[_ngcontent-%COMP%]{padding:.4em}#title-score-component[_ngcontent-%COMP%]   .img-icon[_ngcontent-%COMP%]{width:2.5em;height:2.5em;border-radius:50%;box-shadow:4px 4px 4px 1px #00000080}#title-score-component[_ngcontent-%COMP%]   .pos-abs[_ngcontent-%COMP%]{position:absolute;z-index:1}#title-score-component[_ngcontent-%COMP%]   .pos-rel[_ngcontent-%COMP%]{position:relative}#title-score-component[_ngcontent-%COMP%]   .pos-fix[_ngcontent-%COMP%]{position:fixed}#title-score-component[_ngcontent-%COMP%]   .cont-title[_ngcontent-%COMP%]{padding-top:.4em;cursor:pointer}#title-score-component[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-weight:100;-webkit-text-stroke:10px #fff}#title-score-component[_ngcontent-%COMP%]   .top-main[_ngcontent-%COMP%]{top:.4em;left:1.95em}#title-score-component[_ngcontent-%COMP%]   .top-sec[_ngcontent-%COMP%]{top:.4em;left:5em}#title-score-component[_ngcontent-%COMP%]   .btn-score[_ngcontent-%COMP%]{font-family:Fredoka One,cursive;background-color:#eb2997;color:#fff;border-radius:.6em 0 0 .6em;border:none;outline:.3em solid #fff;padding:.8em 3.5em;box-shadow:8px 8px 4px #000;cursor:pointer;transition:.4s}#title-score-component[_ngcontent-%COMP%]   .btn-score[_ngcontent-%COMP%]:hover{transform:translate(10px)}"]});const Qae=function(t){return{"flip-card":t}};class hu{constructor(){this.selectedCard=new $e}flipCard(e){e.isFliped||(this.selectedCard.emit(e),e.isFliped=!e.isFliped)}backCards(e,n){e.isFliped=!1,n.isFliped=!1}}hu.\u0275fac=function(e){return new(e||hu)},hu.\u0275cmp=rn({type:hu,selectors:[["app-main-card"]],inputs:{card:"card"},outputs:{selectedCard:"selectedCard"},decls:7,vars:5,consts:[["id","main-card-component"],[1,"card-box","size",3,"click"],[1,"card",3,"ngClass"],[1,"front","size"],["fill","",1,"img-card","size",3,"ngSrc"],[1,"front","back","size"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1),Xe("click",function(){return n.flipCard(n.card)}),$(2,"div",2)(3,"div",3),Re(4,"img",4),X(),$(5,"div",5),Re(6,"img",4),X()()()()),2&e&&(ut(2),Ft("ngClass",oc(3,Qae,n.card.isFliped)),ut(2),Ft("ngSrc",n.card.imgBack),ut(2),Ft("ngSrc",n.card.imgFront))},dependencies:[ua,b8],styles:["#main-card-component[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{width:8em;height:10em}#main-card-component[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]{position:relative;perspective:500px;cursor:pointer}#main-card-component[_ngcontent-%COMP%]   .flip-card[_ngcontent-%COMP%]{transform:rotateY(180deg)}#main-card-component[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transform-style:preserve-3d;transition:all .4s linear}#main-card-component[_ngcontent-%COMP%]   .card-box[_ngcontent-%COMP%]:hover   .card[_ngcontent-%COMP%]{scale:1.08}#main-card-component[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;outline:.3em solid #fff;border-radius:10px}#main-card-component[_ngcontent-%COMP%]   .front.back[_ngcontent-%COMP%]{transform:rotateY(180deg)}#main-card-component[_ngcontent-%COMP%]   .img-card[_ngcontent-%COMP%]{object-fit:cover;border-radius:10px}@media (max-width: 1130px){#main-card-component[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{width:7em;height:9em}}@media (max-width: 970px){#main-card-component[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{width:6em;height:8em}}@media (max-width: 740px){#main-card-component[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{width:5em;height:7em}}"]});const Yae=function(t){return{"flip-card":t}};function Xae(t,e){if(1&t){const n=function zM(){return D()}();$(0,"app-main-card",3),Xe("selectedCard",function(i){return function dS(t){return te.lFrame.contextLView=t,t[Ye]}(n),function hS(t){return te.lFrame.contextLView=null,t}(XM().selectCard(i))}),X()}if(2&t){const n=e.$implicit;Ft("ngClass",oc(2,Yae,n.isFliped))("card",n)}}class ud{constructor(e){this.sharingService=e,this.attemps=0,this.cardsToFlip=28,this.cards$=this.sharingService.sharingCardListObservable}selectCard(e){this.cardOne?(this.cardTwo=e,this.validMatch(this.cardOne,this.cardTwo)):this.cardOne=e}validMatch(e,n){e.id===n.id?this.validWin():setTimeout(()=>{this.mainCardComponent.backCards(e,n)},1e3),this.cardOne=null,this.cardTwo=null,this.increaseAttemps()}increaseAttemps(){this.attemps=this.attemps+1,this.sharingService.sharingAttempsObservableData=this.attemps}validWin(){this.cardsToFlip=this.cardsToFlip-2,0===this.cardsToFlip&&(this.sharingService.sharingFinishGameObservableData=!0)}}function Jae(t,e){if(1&t&&($(0,"tr")(1,"td"),Ae(2),X(),$(3,"td"),Ae(4),X(),$(5,"td"),Ae(6),X()()),2&t){const n=e.$implicit;ut(2),Zu(n.date),ut(2),Zu(n.userName),ut(2),Zu(n.score)}}ud.\u0275fac=function(e){return new(e||ud)(I(pr))},ud.\u0275cmp=rn({type:ud,selectors:[["app-game"]],viewQuery:function(e,n){if(1&e&&N1(hu,5),2&e){let r;Ky(r=function Qy(){return function vW(t,e){return t[vr].queries[e].queryList}(D(),yS())}())&&(n.mainCardComponent=r.first)}},decls:4,vars:3,consts:[["id","game-solo-component"],[1,"cont-cards"],[3,"ngClass","card","selectedCard",4,"ngFor","ngForOf"],[3,"ngClass","card","selectedCard"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1),ws(2,Xae,1,4,"app-main-card",2),Jr(3,"async"),X()()),2&e&&(ut(2),Ft("ngForOf",Zr(3,1,n.cards$)))},dependencies:[ua,A_,hu,pc],styles:["#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{padding:2em;display:grid;grid-template-columns:repeat(auto-fit,minmax(8em,1fr));gap:28px}@media (min-width: 1280px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(9em,1fr));gap:20px}}@media (min-width: 1350px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(10em,1fr));gap:20px}}@media (min-width: 1480px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(11em,1fr));gap:20px}}@media (min-width: 1610px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(12em,1fr));gap:20px}}@media (max-width: 1130px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(7em,1fr));gap:20px}}@media (max-width: 970px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(6em,1fr));gap:20px}}@media (max-width: 740px){#game-solo-component[_ngcontent-%COMP%]   .cont-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(5em,1fr));gap:20px}}"]});const Zae=function(t){return{"show-modal-score":t}};class cd{constructor(e){this.sharingService=e,this.showModalScore$=this.sharingService.sharingShowModelScoresObservable,this.scoresList$=this.sharingService.sharingScoresListObservable}closeModalScore(){this.sharingService.sharingShowModelScoresObservableData=!1}}cd.\u0275fac=function(e){return new(e||cd)(I(pr))},cd.\u0275cmp=rn({type:cd,selectors:[["app-modal-scores"]],decls:28,vars:8,consts:[["id","modal-score-component",1,"point-ev-all"],[1,"modal-score",3,"ngClass"],[1,"modal"],[1,"modal-header","jc-c","t-sh-2"],[1,"c-w"],[1,"modal-body"],[1,"jc-c"],[1,"t-sh-2"],[1,"min-w-4em"],[4,"ngFor","ngForOf"],[1,"btn-close","bounce-anim",3,"click"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1),Jr(2,"async"),$(3,"div",2)(4,"div",3)(5,"h3",4),Ae(6,"Scores"),X()(),$(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th",8),Ae(13,"Date "),Re(14,"hr"),X(),$(15,"th"),Ae(16,"Player name "),Re(17,"hr"),X(),$(18,"th",8),Ae(19,"Score "),Re(20,"hr"),X()()(),$(21,"tbody"),ws(22,Jae,7,3,"tr",9),Jr(23,"async"),X()()(),$(24,"div",6)(25,"button",10),Xe("click",function(){return n.closeModalScore()}),$(26,"h5",7),Ae(27," Close "),X()()()()()()()),2&e&&(ut(1),Ft("ngClass",oc(6,Zae,Zr(2,2,n.showModalScore$))),ut(21),Ft("ngForOf",Zr(23,4,n.scoresList$)))},dependencies:[ua,A_,pc],styles:["#modal-score-component[_ngcontent-%COMP%]   .modal-score[_ngcontent-%COMP%]{position:absolute;top:0;left:100%;height:100%;width:100%;background-color:#fff6;transition:all .8s ease}#modal-score-component[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{position:relative;top:9em;left:calc(50% - 17em);height:auto;width:34em;background-color:#2fd8dd;outline:.4em solid #fff;border-radius:.2em;box-shadow:10px 10px 8px #000;padding-bottom:1em}#modal-score-component[_ngcontent-%COMP%]   .show-modal-score[_ngcontent-%COMP%]{transform:translate(-100%)}#modal-score-component[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background-image:url(pattern.bf43eadc93d840a3.png);padding:1em}#modal-score-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;text-align:center;color:#fff}#modal-score-component[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #modal-score-component[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.2em;background-color:#fff3;border-radius:8px;font-size:1.3em}#modal-score-component[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1fb8d7;font-size:1.4em;padding:.4em .2em 0}#modal-score-component[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{height:.16em;background-color:#fff;border:none;border-radius:4px;margin:.4em}#modal-score-component[_ngcontent-%COMP%]   .min-w-4em[_ngcontent-%COMP%]{min-width:4em}#modal-score-component[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{font-family:Fredoka One,cursive;background-color:#fc6e98;color:#fff;border-radius:.6em;border:none;outline:.3em solid #fff;padding:.5em 1.4em;margin-top:1em;box-shadow:8px 8px 4px #000;cursor:pointer}"]});let TB=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(Cr),I(En))},t.\u0275dir=Y({type:t}),t})(),go=(()=>{class t extends TB{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Pt(t)))(r||t)}}(),t.\u0275dir=Y({type:t,features:[Ee]}),t})();const $r=new P("NgValueAccessor"),nue={provide:$r,useExisting:Se(()=>Ig),multi:!0},iue=new P("CompositionEventMode");let Ig=(()=>{class t extends TB{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rue(){const t=ri()?ri().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Cr),I(En),I(iue,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Xe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Fe([nue]),Ee]}),t})();const sue=!1,nn=new P("NgValidators"),os=new P("NgAsyncValidators");function LB(t){return null!=t}function VB(t){const e=Xu(t)?ot(t):t;if(sue&&!Dy(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new b(-1101,n)}return e}function UB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function BB(t,e){return e.map(n=>n(t))}function $B(t){return t.map(e=>function aue(t){return!t.validate}(e)?e:n=>e.validate(n))}function WD(t){return null!=t?function jB(t){if(!t)return null;const e=t.filter(LB);return 0==e.length?null:function(n){return UB(BB(n,e))}}($B(t)):null}function KD(t){return null!=t?function HB(t){if(!t)return null;const e=t.filter(LB);return 0==e.length?null:function(n){return function eue(...t){const e=VT(t),{args:n,keys:r}=RR(t),i=new Pe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;qn(n[l]).subscribe(pt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?OR(r,a):a),s.complete())}))}});return e?i.pipe(NR(e)):i}(BB(n,e).map(VB)).pipe(re(UB))}}($B(t)):null}function GB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QD(t){return t?Array.isArray(t)?t:[t]:[]}function bg(t,e){return Array.isArray(t)?t.includes(e):t===e}function WB(t,e){const n=QD(e);return QD(t).forEach(i=>{bg(n,i)||n.push(i)}),n}function KB(t,e){return QD(e).filter(n=>!bg(t,n))}class QB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class yn extends QB{get formDirective(){return null}get path(){return null}}class as extends QB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let XB=(()=>{class t extends YB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(as,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ph("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ee]}),t})();const ld="VALID",Tg="INVALID",fu="PENDING",dd="DISABLED";function Sg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class t${constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ld}get invalid(){return this.status===Tg}get pending(){return this.status==fu}get disabled(){return this.status===dd}get enabled(){return this.status!==dd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KB(e,this._rawAsyncValidators))}hasValidator(e){return bg(this._rawValidators,e)}hasAsyncValidator(e){return bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=dd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ld,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ld||this.status===fu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dd:ld}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fu,this._hasOwnPendingAsyncValidator=!0;const n=VB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?dd:this.errors?Tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fu)?fu:this._anyControlsHaveStatus(Tg)?Tg:ld}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gue(t){return Array.isArray(t)?WD(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mue(t){return Array.isArray(t)?KD(t):t||null}(this._rawAsyncValidators)}}const pu=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Ag}),Ag="always";function hd(t,e,n=Ag){(function nT(t,e){const n=function zB(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(GB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function qB(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(GB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();kg(e._rawValidators,i),kg(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function vue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&n$(t,e)})}(t,e),function Eue(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&n$(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _ue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function kg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function n$(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function s$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function o$(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const a$=class extends t${constructor(e=null,n,r){super(function ZD(t){return(Sg(t)?t.validators:t)||null}(n),function eT(t,e){return(Sg(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=o$(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){s$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){s$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){o$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Mue={provide:as,useExisting:Se(()=>aT)},l$=(()=>Promise.resolve())();let aT=(()=>{class t extends as{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new a$,this._registered=!1,this.update=new $e,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ig?n=s:function bue(t){return Object.getPrototypeOf(t.constructor)===go}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function iT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){l$.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function aa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);l$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Mg(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(I(yn,9),I(nn,10),I(os,10),I($r,10),I(Mh,8),I(pu,8))},t.\u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fe([Mue]),Ee,Pn]}),t})(),h$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({}),t})(),ece=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({imports:[h$]}),t})(),nce=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pu,useValue:n.callSetDisabledState??Ag}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Rt({imports:[ece]}),t})();class pd{constructor(e,n,r){this.scoreService=e,this.router=n,this.sharingService=r,this.userName="",this.sharingService.sharingAttempsObservable.subscribe(i=>{this.attemps=i})}saveScore(){const e=this.getDate();this.scoreService.createScore({userName:this.userName,score:this.attemps,date:e}).then(()=>{this.notifySavedGame()})}validUserName(){return!(this.userName.length>4)}getDate(){return(new Date).toLocaleDateString()}notifySavedGame(){this.sharingService.sharingSaveGameObservableData=!0,setTimeout(()=>{this.sharingService.restartGame(),this.router.navigate([""])},1500)}}function rce(t,e){1&t&&($(0,"div"),Re(1,"app-loading"),X())}function ice(t,e){1&t&&($(0,"div")(1,"div"),Re(2,"app-title-score"),X(),$(3,"div"),Re(4,"app-game"),X(),$(5,"div"),Re(6,"app-modal-scores"),X()())}function sce(t,e){1&t&&($(0,"div"),Re(1,"app-modal-finish-game"),X())}function oce(t,e){1&t&&($(0,"div"),Re(1,"app-toast"),X())}pd.\u0275fac=function(e){return new(e||pd)(I(po),I(Jt),I(pr))},pd.\u0275cmp=rn({type:pd,selectors:[["app-modal-finish-game"]],decls:12,vars:3,consts:[["id","modal-finish-game-component"],[1,"cont-modal-finish"],[1,"modal-finish","flex-column","al-i-c","jc-around"],[1,"t-sh-2"],[1,"c-w"],["type","text","placeholder","Player name",1,"input-username",3,"ngModel","ngModelChange"],[1,""],[1,"btn-close","bounce-anim",3,"disabled","click"]],template:function(e,n){1&e&&($(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),Ae(5),X()(),$(6,"div")(7,"input",5),Xe("ngModelChange",function(i){return n.userName=i}),X()(),$(8,"div",6)(9,"button",7),Xe("click",function(){return n.saveScore()}),$(10,"h5",3),Ae(11," Save "),X()()()()()()),2&e&&(ut(5),ec(" Your score: ",n.attemps," "),ut(2),Ft("ngModel",n.userName),ut(2),Ft("disabled",n.validUserName()))},dependencies:[Ig,XB,aT],styles:["#modal-finish-game-component[_ngcontent-%COMP%]   .cont-modal-finish[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff6;transition:all .8s ease}#modal-finish-game-component[_ngcontent-%COMP%]   .modal-finish[_ngcontent-%COMP%]{position:relative;top:calc(50% - 9em);left:calc(50% - 17em);height:18em;width:34em;background:linear-gradient(180deg,rgb(50,28,100) 50%,rgb(15,109,170) 100%);outline:.4em solid #fff;border-radius:.4em;box-shadow:10px 10px 8px #000}#modal-finish-game-component[_ngcontent-%COMP%]   .input-username[_ngcontent-%COMP%]{font-family:Fredoka One,cursive;font-size:2em;color:#2c3e50;padding:.8em;border-radius:.4em;border:none;box-shadow:4px 4px 10px 2px #000;transition:all .4s ease}#modal-finish-game-component[_ngcontent-%COMP%]   .input-username[_ngcontent-%COMP%]:hover{outline:.1em solid #F0D602}#modal-finish-game-component[_ngcontent-%COMP%]   .input-username[_ngcontent-%COMP%]:focus-visible{outline:.2em solid #F0D602;transform:scale(1.02)}#modal-finish-game-component[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{font-family:Fredoka One,cursive;background-color:#eb2997;color:#fff;border-radius:.6em;border:none;outline:.3em solid #fff;padding:.5em 1.4em;margin-top:1em;box-shadow:8px 8px 4px #000;cursor:pointer}#modal-finish-game-component[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:focus{background-color:#e75dab;box-shadow:6px 6px 6px 2px #000}#modal-finish-game-component[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:disabled{background-color:#fa93cd}"]});class gd{constructor(e,n,r){this.fileService=e,this.scoreService=n,this.sharingService=r,this.init()}init(){this.showLoading$=this.sharingService.sharingShowLoadingObservable,this.showFinishGame$=this.sharingService.sharingFinishGameObservable,this.showToast$=this.sharingService.sharingSaveGameObservable,this.fileService.getCards().subscribe(e=>{this.sharingService.sharingCardListObservableData=this.shuffleArray(e)}),this.scoreService.getScores().subscribe(e=>{this.sharingService.sharingScoresListObservableData=e,this.finishLoading()})}finishLoading(){setTimeout(()=>{this.sharingService.sharingShowLoadingObservableData=!1},2e3)}shuffleArray(e){return e.sort(()=>Math.random()-.5)}}gd.\u0275fac=function(e){return new(e||gd)(I(Ea),I(po),I(pr))},gd.\u0275cmp=rn({type:gd,selectors:[["app-solo-mode"]],decls:9,vars:12,consts:[["id","solo-mode-component"],[4,"ngIf"]],template:function(e,n){1&e&&($(0,"div",0),ws(1,rce,2,0,"div",1),Jr(2,"async"),ws(3,ice,7,0,"div",1),Jr(4,"async"),ws(5,sce,2,0,"div",1),Jr(6,"async"),ws(7,oce,2,0,"div",1),Jr(8,"async"),X()),2&e&&(ut(1),Ft("ngIf",Zr(2,4,n.showLoading$)),ut(2),Ft("ngIf",!Zr(4,6,n.showLoading$)),ut(2),Ft("ngIf",Zr(6,8,n.showFinishGame$)),ut(2),Ft("ngIf",Zr(8,10,n.showToast$)))},dependencies:[Qk,sd,od,ad,ud,cd,pd,pc],styles:["#solo-mode-component[_ngcontent-%COMP%]{background-color:#f7ece6;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1200 800'%3E%3Cdefs%3E%3CradialGradient id='a' cx='0' cy='800' r='800' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23a5d2df'/%3E%3Cstop offset='1' stop-color='%23a5d2df' stop-opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='b' cx='1200' cy='800' r='800' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23a5d2df'/%3E%3Cstop offset='1' stop-color='%23a5d2df' stop-opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='c' cx='600' cy='0' r='600' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%231fb8d7'/%3E%3Cstop offset='1' stop-color='%231fb8d7' stop-opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='d' cx='600' cy='800' r='600' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%23F7ECE6'/%3E%3Cstop offset='1' stop-color='%23F7ECE6' stop-opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='e' cx='0' cy='0' r='800' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%231FB8D7'/%3E%3Cstop offset='1' stop-color='%231FB8D7' stop-opacity='0'/%3E%3C/radialGradient%3E%3CradialGradient id='f' cx='1200' cy='0' r='800' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%231FB8D7'/%3E%3Cstop offset='1' stop-color='%231FB8D7' stop-opacity='0'/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect fill='url(%23a)' width='1200' height='800'/%3E%3Crect fill='url(%23b)' width='1200' height='800'/%3E%3Crect fill='url(%23c)' width='1200' height='800'/%3E%3Crect fill='url(%23d)' width='1200' height='800'/%3E%3Crect fill='url(%23e)' width='1200' height='800'/%3E%3Crect fill='url(%23f)' width='1200' height='800'/%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover;height:100vh}"]});const ace=[{path:"",component:va},{path:"solo",component:gd},{path:"**",pathMatch:"full",component:va}];class gu{}gu.\u0275fac=function(e){return new(e||gu)},gu.\u0275mod=qt({type:gu}),gu.\u0275inj=Rt({imports:[zN.forRoot(ace),zN]});class mu{}mu.\u0275fac=function(e){return new(e||mu)},mu.\u0275mod=qt({type:mu}),mu.\u0275inj=Rt({imports:[jh]});class yu{}yu.\u0275fac=function(e){return new(e||yu)},yu.\u0275mod=qt({type:yu}),yu.\u0275inj=Rt({imports:[jh]});class _u{}_u.\u0275fac=function(e){return new(e||_u)},_u.\u0275mod=qt({type:_u}),_u.\u0275inj=Rt({imports:[jh,nce,yu]});class md{constructor(){this.title="fall-memoram"}}md.\u0275fac=function(e){return new(e||md)},md.\u0275cmp=rn({type:md,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){1&e&&Re(0,"router-outlet")},dependencies:[uv]});const uce_firebase={projectId:"app-fall-memoram",appId:"1:503624399991:web:1ded5849ac7ce800241a72",storageBucket:"app-fall-memoram.appspot.com",locationId:"us-central",apiKey:"AIzaSyBDag0TyA2TQxdKzoyr0xtYEZe4OMssPSw",authDomain:"app-fall-memoram.firebaseapp.com",messagingSenderId:"503624399991"};class vu{}vu.\u0275fac=function(e){return new(e||vu)},vu.\u0275mod=qt({type:vu,bootstrap:[md]}),vu.\u0275inj=Rt({imports:[X8,gu,lQ,mu,_u,function FZ(t,...e){return{ngModule:PZ,providers:[{provide:R0,useFactory:OZ(t),multi:!0,deps:[Le,In,TP,...e]}]}}(()=>LZ(uce_firebase)),function Hae(t,...e){return{ngModule:jae,providers:[{provide:qD,useFactory:Uae(t),multi:!0,deps:[Le,In,TP,SP,[new cn,AF],[new cn,XF],...e]}]}}(()=>qae())]}),Y8().bootstrapModule(vu).catch(t=>console.error(t))}},De=>{De(De.s=204)}]);